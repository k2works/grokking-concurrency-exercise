{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Grokking Concurrency","text":"<p>Python \u3067\u5b66\u3076\u4e26\u884c\u51e6\u7406\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0</p>"},{"location":"#_1","title":"\u6982\u8981","text":"<p>\u672c\u30b5\u30a4\u30c8\u306f\u300cGrokking Concurrency\u300d\uff08Kirill Bobrov \u8457\uff09\u306e\u5b66\u7fd2\u30b3\u30f3\u30d1\u30cb\u30aa\u30f3\u3068\u3057\u3066\u3001\u4e26\u884c\u51e6\u7406\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u6982\u5ff5\u3092\u5b9f\u88c5\u3057\u306a\u304c\u3089\u65e5\u672c\u8a9e\u3067\u89e3\u8aac\u3057\u307e\u3059\u3002</p>"},{"location":"#_2","title":"\u8a00\u8a9e\u5225\u5b66\u7fd2\u30ac\u30a4\u30c9","text":""},{"location":"#python","title":"Python","text":"<p>Python \u3092\u4f7f\u7528\u3057\u305f\u4e26\u884c\u51e6\u7406\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u5b66\u7fd2\u30ac\u30a4\u30c9\u3067\u3059\u3002</p> <ul> <li>\u6982\u8981 - Python \u7248\u306e\u5168\u4f53\u6982\u8981</li> <li>Part I - \u4e26\u884c\u51e6\u7406\u306e\u57fa\u790e</li> <li>Part II - \u30d7\u30ed\u30bb\u30b9\u3068\u30b9\u30ec\u30c3\u30c9</li> <li>Part III - \u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0\u3068\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0</li> <li>Part IV - \u30bf\u30b9\u30af\u5206\u89e3\u3068\u4e26\u5217\u30d1\u30bf\u30fc\u30f3</li> <li>Part V - \u540c\u671f\u3068\u6392\u4ed6\u5236\u5fa1</li> <li>Part VI - \u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 I/O</li> <li>Part VII - \u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0</li> <li>Part VIII - \u5206\u6563\u4e26\u5217\u51e6\u7406</li> </ul>"},{"location":"#_3","title":"\u5b66\u7fd2\u30c8\u30d4\u30c3\u30af","text":"<p>\u672c\u30b7\u30ea\u30fc\u30ba\u3067\u306f\u4ee5\u4e0b\u306e\u30c8\u30d4\u30c3\u30af\u3092\u6271\u3044\u307e\u3059\uff1a</p> Part \u30c8\u30d4\u30c3\u30af \u30ad\u30fc\u30ef\u30fc\u30c9 I \u4e26\u884c\u51e6\u7406\u306e\u57fa\u790e \u9010\u6b21\u51e6\u7406\u3001\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6e2c\u5b9a II \u30d7\u30ed\u30bb\u30b9\u3068\u30b9\u30ec\u30c3\u30c9 Process\u3001Thread\u3001\u30b9\u30ec\u30c3\u30c9\u30d7\u30fc\u30eb III \u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0 \u30bf\u30a4\u30e0\u30b7\u30a7\u30a2\u30ea\u30f3\u30b0\u3001\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0 IV \u4e26\u5217\u30d1\u30bf\u30fc\u30f3 Fork/Join\u3001\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3 V \u540c\u671f\u3068\u6392\u4ed6\u5236\u5fa1 Lock\u3001Semaphore\u3001\u30c7\u30c3\u30c9\u30ed\u30c3\u30af VI \u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 I/O \u30a4\u30d9\u30f3\u30c8\u30eb\u30fc\u30d7\u3001Reactor VII \u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0 asyncio\u3001async/await VIII \u5206\u6563\u4e26\u5217\u51e6\u7406 MapReduce\u3001\u5206\u6563\u51e6\u7406"},{"location":"#_4","title":"\u53c2\u8003\u8cc7\u6599","text":"<ul> <li>Grokking Concurrency - \u539f\u8457\uff08Manning Publications\uff09</li> </ul>"},{"location":"csharp/","title":"C# \u3067\u5b66\u3076\u4e26\u884c\u51e6\u7406\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0","text":""},{"location":"csharp/#_1","title":"\u6982\u8981","text":"<p>\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001Grokking Concurrency \u306e\u5185\u5bb9\u3092 C# 12 / .NET 8 \u3067\u5b9f\u88c5\u3057\u306a\u304c\u3089\u5b66\u3073\u307e\u3059\u3002TDD\uff08\u30c6\u30b9\u30c8\u99c6\u52d5\u958b\u767a\uff09\u3067\u5b9f\u88c5\u3055\u308c\u305f\u30b3\u30fc\u30c9\u4f8b\u3068\u3001\u8a73\u7d30\u306a\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u901a\u3058\u3066\u3001\u4e26\u884c\u51e6\u7406\u306e\u57fa\u790e\u304b\u3089\u5fdc\u7528\u307e\u3067\u3092\u7406\u89e3\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"csharp/#_2","title":"\u76ee\u6b21","text":""},{"location":"csharp/#part-i","title":"Part I: \u4e26\u884c\u51e6\u7406\u306e\u57fa\u790e","text":"<p>\u9010\u6b21\u51e6\u7406\u306e\u7279\u5fb4\u3068\u9650\u754c\u3092\u7406\u89e3\u3057\u3001\u306a\u305c\u4e26\u884c\u51e6\u7406\u304c\u5fc5\u8981\u304b\u3092\u5b66\u3073\u307e\u3059\u3002</p> <ul> <li>Part I - \u4e26\u884c\u51e6\u7406\u306e\u57fa\u790e</li> </ul>"},{"location":"csharp/#part-ii","title":"Part II: \u30d7\u30ed\u30bb\u30b9\u3068\u30b9\u30ec\u30c3\u30c9","text":"<p>OS \u30ec\u30d9\u30eb\u306e\u4e26\u884c\u51e6\u7406\u306e\u57fa\u672c\u5358\u4f4d\u3067\u3042\u308b\u30d7\u30ed\u30bb\u30b9\u3068\u30b9\u30ec\u30c3\u30c9\u3092\u5b66\u3073\u307e\u3059\u3002</p> <ul> <li>Part II - \u30d7\u30ed\u30bb\u30b9\u3068\u30b9\u30ec\u30c3\u30c9</li> </ul>"},{"location":"csharp/#part-iii","title":"Part III: \u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0","text":"<p>OS \u304c\u3069\u306e\u3088\u3046\u306b\u30bf\u30b9\u30af\u3092\u5207\u308a\u66ff\u3048\u308b\u304b\u3001\u30bf\u30a4\u30e0\u30b7\u30a7\u30a2\u30ea\u30f3\u30b0\u306e\u4ed5\u7d44\u307f\u3092\u5b66\u3073\u307e\u3059\u3002</p> <ul> <li>Part III - \u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0\u3068\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0</li> </ul>"},{"location":"csharp/#part-iv","title":"Part IV: \u30bf\u30b9\u30af\u5206\u89e3\u3068\u4e26\u5217\u30d1\u30bf\u30fc\u30f3","text":"<p>Fork/Join \u30d1\u30bf\u30fc\u30f3\u3068\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u3092\u5b66\u3073\u307e\u3059\u3002</p> <ul> <li>Part IV - \u30bf\u30b9\u30af\u5206\u89e3\u3068\u4e26\u5217\u30d1\u30bf\u30fc\u30f3</li> </ul>"},{"location":"csharp/#part-v","title":"Part V: \u540c\u671f\u3068\u6392\u4ed6\u5236\u5fa1","text":"<p>Lock\u3001Monitor\u3001\u30c7\u30c3\u30c9\u30ed\u30c3\u30af\u306b\u3064\u3044\u3066\u5b66\u3073\u307e\u3059\u3002</p> <ul> <li>Part V - \u540c\u671f\u3068\u6392\u4ed6\u5236\u5fa1</li> </ul>"},{"location":"csharp/#part-vi-io","title":"Part VI: \u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 I/O","text":"<p>async/await \u3092\u4f7f\u3063\u305f\u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 I/O \u3092\u5b66\u3073\u307e\u3059\u3002</p> <ul> <li>Part VI - \u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 I/O</li> </ul>"},{"location":"csharp/#part-vii","title":"Part VII: \u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0","text":"<p>Task \u3068 async/await \u3092\u5b66\u3073\u307e\u3059\u3002</p> <ul> <li>Part VII - \u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0</li> </ul>"},{"location":"csharp/#part-viii","title":"Part VIII: \u5206\u6563\u4e26\u5217\u51e6\u7406","text":"<p>MapReduce \u30d1\u30bf\u30fc\u30f3\u3068 PLINQ \u3092\u5b66\u3073\u307e\u3059\u3002</p> <ul> <li>Part VIII - \u5206\u6563\u4e26\u5217\u51e6\u7406</li> </ul>"},{"location":"csharp/#_3","title":"\u6280\u8853\u30b9\u30bf\u30c3\u30af","text":"<ul> <li>C# 12 (Primary Constructor, Collection Expressions)</li> <li>.NET 8 (\u30e9\u30f3\u30bf\u30a4\u30e0)</li> <li>xUnit (\u30c6\u30b9\u30c8\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af)</li> </ul>"},{"location":"csharp/#_4","title":"\u5b9f\u884c\u65b9\u6cd5","text":""},{"location":"csharp/#_5","title":"\u30c6\u30b9\u30c8\u306e\u5b9f\u884c","text":"<pre><code>cd apps/csharp\ndotnet test\n</code></pre>"},{"location":"csharp/#_6","title":"\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306e\u5b9f\u884c","text":"<pre><code>cd apps/csharp\ndotnet run --project src\n</code></pre>"},{"location":"csharp/#_7","title":"\u53c2\u8003\u8cc7\u6599","text":"<ul> <li>Grokking Concurrency - \u539f\u8457</li> <li>C# in Depth - C# \u6df1\u6398\u308a</li> <li>.NET 8 Documentation</li> </ul>"},{"location":"csharp/part-1/","title":"Part I: \u4e26\u884c\u51e6\u7406\u306e\u57fa\u790e","text":""},{"location":"csharp/part-1/#_1","title":"\u6982\u8981","text":"<p>\u672c\u7ae0\u3067\u306f\u3001\u9010\u6b21\u51e6\u7406\u306e\u57fa\u672c\u6982\u5ff5\u3092\u7406\u89e3\u3057\u3001\u306a\u305c\u4e26\u884c\u51e6\u7406\u304c\u5fc5\u8981\u306b\u306a\u308b\u306e\u304b\u3092\u5b66\u3073\u307e\u3059\u3002\u30d1\u30b9\u30ef\u30fc\u30c9\u30af\u30e9\u30c3\u30ab\u30fc\u306e\u4f8b\u3092\u901a\u3058\u3066\u3001\u9010\u6b21\u51e6\u7406\u306e\u9650\u754c\u3092\u4f53\u9a13\u3057\u307e\u3059\u3002</p>"},{"location":"csharp/part-1/#_2","title":"\u9010\u6b21\u51e6\u7406\u306e\u4f8b: \u30d1\u30b9\u30ef\u30fc\u30c9\u30af\u30e9\u30c3\u30ab\u30fc","text":""},{"location":"csharp/part-1/#sha-256","title":"SHA-256 \u30cf\u30c3\u30b7\u30e5\u306e\u8a08\u7b97","text":"<pre><code>public static string GetCryptoHash(string password)\n{\n    var bytes = Encoding.UTF8.GetBytes(password);\n    var hash = SHA256.HashData(bytes);\n    return Convert.ToHexString(hash).ToLowerInvariant();\n}\n</code></pre>"},{"location":"csharp/part-1/#_3","title":"\u30d1\u30b9\u30ef\u30fc\u30c9\u5019\u88dc\u306e\u751f\u6210","text":"<pre><code>public static List&lt;string&gt; GetCombinations(int length, int minNumber, int maxNumber)\n{\n    var combinations = new List&lt;string&gt;();\n    var format = new string('0', length);\n\n    for (var i = minNumber; i &lt;= maxNumber; i++)\n    {\n        combinations.Add(i.ToString(format));\n    }\n\n    return combinations;\n}\n</code></pre>"},{"location":"csharp/part-1/#_4","title":"\u30d6\u30eb\u30fc\u30c8\u30d5\u30a9\u30fc\u30b9\u63a2\u7d22","text":"<pre><code>public static string? CrackPassword(string cryptoHash, int length)\n{\n    int maxNumber = (int)Math.Pow(10, length) - 1;\n    var combinations = GetCombinations(length, 0, maxNumber);\n\n    foreach (var combination in combinations)\n    {\n        if (CheckPassword(cryptoHash, combination))\n        {\n            return combination;\n        }\n    }\n\n    return null;\n}\n</code></pre>"},{"location":"csharp/part-1/#_5","title":"\u9010\u6b21\u51e6\u7406\u306e\u7279\u5fb4","text":"\u7279\u5fb4 \u8aac\u660e \u4e88\u6e2c\u53ef\u80fd\u6027 \u5b9f\u884c\u9806\u5e8f\u304c\u660e\u78ba \u30c7\u30d0\u30c3\u30b0\u5bb9\u6613 \u554f\u984c\u306e\u7279\u5b9a\u304c\u7c21\u5358 \u30ea\u30bd\u30fc\u30b9\u52b9\u7387 \u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u306a\u3057"},{"location":"csharp/part-1/#_6","title":"\u9010\u6b21\u51e6\u7406\u306e\u9650\u754c","text":"<ul> <li>CPU \u30d0\u30a6\u30f3\u30c9\u30bf\u30b9\u30af\u3067\u306f 1 \u30b3\u30a2\u3057\u304b\u4f7f\u7528\u3067\u304d\u306a\u3044</li> <li>I/O \u5f85\u6a5f\u4e2d\u306b CPU \u304c\u30a2\u30a4\u30c9\u30eb\u72b6\u614b\u306b\u306a\u308b</li> <li>\u5927\u898f\u6a21\u30c7\u30fc\u30bf\u51e6\u7406\u306b\u6642\u9593\u304c\u304b\u304b\u308b</li> </ul>"},{"location":"csharp/part-1/#_7","title":"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7","text":"<p>Part II \u3067\u306f\u3001\u30b9\u30ec\u30c3\u30c9\u3092\u4f7f\u3063\u305f\u4e26\u5217\u51e6\u7406\u3092\u5b66\u3073\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u30af\u30e9\u30c3\u30ab\u30fc\u3092\u9ad8\u901f\u5316\u3057\u307e\u3059\u3002</p>"},{"location":"csharp/part-1/#_8","title":"\u53c2\u8003\u8cc7\u6599","text":"<ul> <li>System.Security.Cryptography</li> </ul>"},{"location":"csharp/part-2/","title":"Part II: \u30d7\u30ed\u30bb\u30b9\u3068\u30b9\u30ec\u30c3\u30c9","text":""},{"location":"csharp/part-2/#_1","title":"\u6982\u8981","text":"<p>\u672c\u7ae0\u3067\u306f\u3001OS \u30ec\u30d9\u30eb\u306e\u4e26\u884c\u51e6\u7406\u306e\u57fa\u672c\u5358\u4f4d\u3067\u3042\u308b\u30d7\u30ed\u30bb\u30b9\u3068\u30b9\u30ec\u30c3\u30c9\u3092\u5b66\u3073\u307e\u3059\u3002C# \u306e <code>Thread</code> \u30af\u30e9\u30b9\u3068 <code>Task</code> \u3092\u4f7f\u3063\u305f\u4e26\u5217\u51e6\u7406\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002</p>"},{"location":"csharp/part-2/#_2","title":"\u30b9\u30ec\u30c3\u30c9\u306e\u57fa\u672c\u64cd\u4f5c","text":""},{"location":"csharp/part-2/#_3","title":"\u30b9\u30ec\u30c3\u30c9\u306e\u4f5c\u6210","text":"<pre><code>public static Thread CreateWorkerThread(Action task)\n{\n    return new Thread(() =&gt; task());\n}\n</code></pre>"},{"location":"csharp/part-2/#_4","title":"\u8907\u6570\u30b9\u30ec\u30c3\u30c9\u306e\u4f5c\u6210","text":"<pre><code>public static List&lt;Thread&gt; CreateMultipleWorkers(int count, Action&lt;int&gt; task)\n{\n    var threads = new List&lt;Thread&gt;();\n    for (var i = 0; i &lt; count; i++)\n    {\n        var index = i;\n        var thread = new Thread(() =&gt; task(index))\n        {\n            Name = $\"Worker-{index}\"\n        };\n        threads.Add(thread);\n    }\n    return threads;\n}\n</code></pre>"},{"location":"csharp/part-2/#_5","title":"\u4e26\u5217\u30d1\u30b9\u30ef\u30fc\u30c9\u30af\u30e9\u30c3\u30ab\u30fc","text":""},{"location":"csharp/part-2/#_6","title":"\u30c1\u30e3\u30f3\u30af\u5206\u5272","text":"<pre><code>public record ChunkRange(int Start, int End);\n\npublic static List&lt;ChunkRange&gt; GetChunks(int numChunks, int length)\n{\n    var maxNumber = (int)Math.Pow(10, length) - 1;\n    var chunkSize = (maxNumber + 1) / numChunks;\n\n    var chunks = new List&lt;ChunkRange&gt;();\n    for (var i = 0; i &lt; numChunks; i++)\n    {\n        var start = i * chunkSize;\n        var end = i == numChunks - 1 ? maxNumber : start + chunkSize - 1;\n        chunks.Add(new ChunkRange(start, end));\n    }\n    return chunks;\n}\n</code></pre>"},{"location":"csharp/part-2/#_7","title":"\u4e26\u5217\u51e6\u7406","text":"<pre><code>public static string? CrackPasswordParallel(string cryptoHash, int length)\n{\n    var numCores = Environment.ProcessorCount;\n    var chunks = GetChunks(numCores, length);\n\n    using var cts = new CancellationTokenSource();\n    var tasks = chunks.Select(chunk =&gt;\n        Task.Run(() =&gt; CrackChunk(cryptoHash, length, chunk.Start, chunk.End), cts.Token)\n    ).ToArray();\n\n    // \u6700\u521d\u306b\u898b\u3064\u304b\u3063\u305f\u7d50\u679c\u3092\u8fd4\u3059\n    while (tasks.Any(t =&gt; !t.IsCompleted))\n    {\n        var completedTask = Task.WhenAny(tasks).Result;\n        if (completedTask.Result != null)\n        {\n            cts.Cancel();\n            return completedTask.Result;\n        }\n    }\n    return null;\n}\n</code></pre>"},{"location":"csharp/part-2/#_8","title":"\u30d7\u30ed\u30bb\u30b9\u3068\u30b9\u30ec\u30c3\u30c9\u306e\u9055\u3044","text":"\u7279\u6027 \u30d7\u30ed\u30bb\u30b9 \u30b9\u30ec\u30c3\u30c9 \u30e1\u30e2\u30ea\u7a7a\u9593 \u72ec\u7acb \u5171\u6709 \u4f5c\u6210\u30b3\u30b9\u30c8 \u9ad8\u3044 \u4f4e\u3044 \u901a\u4fe1 IPC \u5fc5\u8981 \u76f4\u63a5\u5171\u6709 \u5206\u96e2\u6027 \u9ad8\u3044 \u4f4e\u3044"},{"location":"csharp/part-2/#_9","title":"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7","text":"<p>Part III \u3067\u306f\u3001\u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0\u3068\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u3092\u5b66\u3073\u307e\u3059\u3002</p>"},{"location":"csharp/part-2/#_10","title":"\u53c2\u8003\u8cc7\u6599","text":"<ul> <li>System.Threading.Thread</li> <li>Task Parallel Library</li> </ul>"},{"location":"csharp/part-3/","title":"Part III: \u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0\u3068\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0","text":""},{"location":"csharp/part-3/#_1","title":"\u6982\u8981","text":"<p>\u672c\u7ae0\u3067\u306f\u3001OS \u304c\u3069\u306e\u3088\u3046\u306b\u30bf\u30b9\u30af\u3092\u5207\u308a\u66ff\u3048\u308b\u304b\u3001\u30bf\u30a4\u30e0\u30b7\u30a7\u30a2\u30ea\u30f3\u30b0\u306e\u4ed5\u7d44\u307f\u3092\u5b66\u3073\u307e\u3059\u3002\u30b2\u30fc\u30e0\u30eb\u30fc\u30d7\u306e\u4f8b\u3092\u901a\u3058\u3066\u3001\u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0\u3092\u7406\u89e3\u3057\u307e\u3059\u3002</p>"},{"location":"csharp/part-3/#_2","title":"\u30b2\u30fc\u30e0\u30eb\u30fc\u30d7\u306e\u4f8b","text":""},{"location":"csharp/part-3/#_3","title":"\u30bf\u30b9\u30af\u306e\u5b9a\u7fa9","text":"<pre><code>public record GameTask(string Name, Action Action)\n{\n    public void Run() =&gt; Action();\n}\n</code></pre>"},{"location":"csharp/part-3/#_4","title":"\u30a4\u30d9\u30f3\u30c8\u306b\u3088\u308b\u8abf\u6574","text":"<pre><code>public class ProcessorFreeEvent\n{\n    private readonly object _lock = new();\n    private bool _signaled;\n\n    public void WaitForSignal()\n    {\n        lock (_lock)\n        {\n            while (!_signaled)\n            {\n                Monitor.Wait(_lock);\n            }\n            _signaled = false;\n        }\n    }\n\n    public void Signal()\n    {\n        lock (_lock)\n        {\n            _signaled = true;\n            Monitor.Pulse(_lock);\n        }\n    }\n}\n</code></pre>"},{"location":"csharp/part-3/#_5","title":"\u30b2\u30fc\u30e0\u30eb\u30fc\u30d7","text":"<pre><code>public class GameLoop(\n    Action inputTask,\n    Action computeTask,\n    Action renderTask,\n    Func&lt;bool&gt; continueCondition)\n{\n    public void Run()\n    {\n        while (continueCondition())\n        {\n            inputTask();\n            computeTask();\n            renderTask();\n        }\n    }\n}\n</code></pre>"},{"location":"csharp/part-3/#_6","title":"\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u65b9\u5f0f","text":"\u65b9\u5f0f \u8aac\u660e \u5354\u8abf\u7684 \u30bf\u30b9\u30af\u304c\u81ea\u767a\u7684\u306b\u5236\u5fa1\u3092\u8b72\u308b \u5148\u5236\u7684 OS \u304c\u30bf\u30a4\u30e0\u30b9\u30e9\u30a4\u30b9\u3067\u5207\u308a\u66ff\u3048"},{"location":"csharp/part-3/#_7","title":"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7","text":"<p>Part IV \u3067\u306f\u3001Fork/Join \u30d1\u30bf\u30fc\u30f3\u3068\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u3092\u5b66\u3073\u307e\u3059\u3002</p>"},{"location":"csharp/part-3/#_8","title":"\u53c2\u8003\u8cc7\u6599","text":"<ul> <li>System.Threading.Monitor</li> </ul>"},{"location":"csharp/part-4/","title":"Part IV: \u30bf\u30b9\u30af\u5206\u89e3\u3068\u4e26\u5217\u30d1\u30bf\u30fc\u30f3","text":""},{"location":"csharp/part-4/#_1","title":"\u6982\u8981","text":"<p>\u672c\u7ae0\u3067\u306f\u3001Fork/Join \u30d1\u30bf\u30fc\u30f3\u3068\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u3092\u5b66\u3073\u307e\u3059\u3002\u6295\u7968\u96c6\u8a08\u3068\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u51e6\u7406\u306e\u4f8b\u3092\u901a\u3058\u3066\u3001\u4e26\u5217\u30d1\u30bf\u30fc\u30f3\u3092\u7406\u89e3\u3057\u307e\u3059\u3002</p>"},{"location":"csharp/part-4/#forkjoin","title":"Fork/Join \u30d1\u30bf\u30fc\u30f3: \u6295\u7968\u96c6\u8a08","text":""},{"location":"csharp/part-4/#_2","title":"\u9010\u6b21\u51e6\u7406","text":"<pre><code>public static Dictionary&lt;int, int&gt; CountVotes(List&lt;int&gt; votes)\n{\n    var result = new Dictionary&lt;int, int&gt;();\n    foreach (var vote in votes)\n    {\n        if (result.ContainsKey(vote))\n            result[vote]++;\n        else\n            result[vote] = 1;\n    }\n    return result;\n}\n</code></pre>"},{"location":"csharp/part-4/#_3","title":"\u4e26\u5217\u51e6\u7406","text":"<pre><code>public static Dictionary&lt;int, int&gt; CountVotesParallel(List&lt;int&gt; votes, int numWorkers)\n{\n    var chunkSize = (int)Math.Ceiling((double)votes.Count / numWorkers);\n    var chunks = new List&lt;List&lt;int&gt;&gt;();\n\n    for (var i = 0; i &lt; votes.Count; i += chunkSize)\n    {\n        chunks.Add(votes.GetRange(i, Math.Min(chunkSize, votes.Count - i)));\n    }\n\n    // Fork\n    var tasks = chunks.Select(chunk =&gt;\n        Task.Run(() =&gt; CountVotes(chunk))\n    ).ToArray();\n\n    // Join\n    Task.WaitAll(tasks);\n    return tasks.Aggregate(new Dictionary&lt;int, int&gt;(),\n        (acc, t) =&gt; MergeResults(acc, t.Result));\n}\n</code></pre>"},{"location":"csharp/part-4/#_4","title":"\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3","text":""},{"location":"csharp/part-4/#_5","title":"\u30b9\u30c6\u30fc\u30b8\u30ef\u30fc\u30ab\u30fc","text":"<pre><code>public class Pipeline&lt;T&gt;\n{\n    public void AddStage(string name, Func&lt;object, object&gt; processor) { ... }\n    public void Start() { ... }\n    public void Submit(T item) { ... }\n    public void Stop() { ... }\n}\n</code></pre>"},{"location":"csharp/part-4/#_6","title":"\u4f7f\u7528\u4f8b","text":"<pre><code>var pipeline = new Pipeline&lt;string&gt;();\npipeline.AddStage(\"wash\", item =&gt; \"washed:\" + item);\npipeline.AddStage(\"dry\", item =&gt; \"dried:\" + item);\npipeline.AddStage(\"fold\", item =&gt; \"folded:\" + item);\n\npipeline.Start();\npipeline.Submit(\"load1\");\npipeline.Stop();\n</code></pre>"},{"location":"csharp/part-4/#_7","title":"\u30d1\u30bf\u30fc\u30f3\u306e\u6bd4\u8f03","text":"\u30d1\u30bf\u30fc\u30f3 \u7528\u9014 Fork/Join \u30c7\u30fc\u30bf\u4e26\u5217\u51e6\u7406 Pipeline \u30b9\u30c6\u30fc\u30b8\u4e26\u5217\u51e6\u7406"},{"location":"csharp/part-4/#_8","title":"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7","text":"<p>Part V \u3067\u306f\u3001\u540c\u671f\u3068\u6392\u4ed6\u5236\u5fa1\u3092\u5b66\u3073\u307e\u3059\u3002</p>"},{"location":"csharp/part-4/#_9","title":"\u53c2\u8003\u8cc7\u6599","text":"<ul> <li>Task Parallel Library</li> <li>BlockingCollection</li> </ul>"},{"location":"csharp/part-5/","title":"Part V: \u540c\u671f\u3068\u6392\u4ed6\u5236\u5fa1","text":""},{"location":"csharp/part-5/#_1","title":"\u6982\u8981","text":"<p>\u672c\u7ae0\u3067\u306f\u3001Lock \u3068 Monitor \u3092\u4f7f\u3063\u305f\u540c\u671f\u3092\u5b66\u3073\u307e\u3059\u3002\u9280\u884c\u53e3\u5ea7\u306e\u4f8b\u3092\u901a\u3058\u3066\u3001\u30b9\u30ec\u30c3\u30c9\u30bb\u30fc\u30d5\u306a\u5b9f\u88c5\u3068\u30c7\u30c3\u30c9\u30ed\u30c3\u30af\u56de\u907f\u3092\u7406\u89e3\u3057\u307e\u3059\u3002</p>"},{"location":"csharp/part-5/#_2","title":"\u9280\u884c\u53e3\u5ea7\u306e\u4f8b","text":""},{"location":"csharp/part-5/#lock","title":"lock \u3092\u4f7f\u3063\u305f\u5b9f\u88c5","text":"<pre><code>public class BankAccount\n{\n    private readonly object _lock = new();\n    private int _balance;\n\n    public void Deposit(int amount)\n    {\n        lock (_lock)\n        {\n            _balance += amount;\n        }\n    }\n\n    public bool Withdraw(int amount)\n    {\n        lock (_lock)\n        {\n            if (_balance &gt;= amount)\n            {\n                _balance -= amount;\n                return true;\n            }\n            return false;\n        }\n    }\n}\n</code></pre>"},{"location":"csharp/part-5/#_3","title":"\u30c7\u30c3\u30c9\u30ed\u30c3\u30af\u56de\u907f","text":"<pre><code>public static bool Transfer(BankAccount from, BankAccount to, int amount)\n{\n    // \u5e38\u306b\u540c\u3058\u9806\u5e8f\u3067\u30ed\u30c3\u30af\u3092\u53d6\u5f97\n    var first = RuntimeHelpers.GetHashCode(from) &lt; RuntimeHelpers.GetHashCode(to) ? from : to;\n    var second = first == from ? to : from;\n\n    lock (first._lock)\n    {\n        lock (second._lock)\n        {\n            if (from._balance &gt;= amount)\n            {\n                from._balance -= amount;\n                to._balance += amount;\n                return true;\n            }\n            return false;\n        }\n    }\n}\n</code></pre>"},{"location":"csharp/part-5/#_4","title":"\u540c\u671f\u30d7\u30ea\u30df\u30c6\u30a3\u30d6","text":"\u30d7\u30ea\u30df\u30c6\u30a3\u30d6 \u7528\u9014 <code>lock</code> \u6392\u4ed6\u5236\u5fa1 <code>Monitor</code> \u6761\u4ef6\u5909\u6570 <code>SemaphoreSlim</code> \u30ea\u30bd\u30fc\u30b9\u6570\u5236\u9650 <code>ReaderWriterLockSlim</code> \u8aad\u307f\u66f8\u304d\u30ed\u30c3\u30af"},{"location":"csharp/part-5/#_5","title":"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7","text":"<p>Part VI \u3067\u306f\u3001\u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 I/O \u3092\u5b66\u3073\u307e\u3059\u3002</p>"},{"location":"csharp/part-5/#_6","title":"\u53c2\u8003\u8cc7\u6599","text":"<ul> <li>lock \u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8</li> <li>System.Threading.Monitor</li> </ul>"},{"location":"csharp/part-6/","title":"Part VI: \u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 I/O","text":""},{"location":"csharp/part-6/#_1","title":"\u6982\u8981","text":"<p>\u672c\u7ae0\u3067\u306f\u3001C# \u306e async/await \u3092\u4f7f\u3063\u305f\u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 I/O \u3092\u5b66\u3073\u307e\u3059\u3002</p>"},{"location":"csharp/part-6/#asyncawait","title":"async/await \u306e\u57fa\u672c","text":""},{"location":"csharp/part-6/#_2","title":"\u975e\u540c\u671f\u30e1\u30bd\u30c3\u30c9","text":"<pre><code>public async Task&lt;string&gt; FetchDataAsync(string url)\n{\n    using var client = new HttpClient();\n    return await client.GetStringAsync(url);\n}\n</code></pre>"},{"location":"csharp/part-6/#_3","title":"\u8907\u6570\u306e\u975e\u540c\u671f\u64cd\u4f5c","text":"<pre><code>public async Task&lt;string[]&gt; FetchMultipleAsync(string[] urls)\n{\n    var tasks = urls.Select(url =&gt; FetchDataAsync(url));\n    return await Task.WhenAll(tasks);\n}\n</code></pre>"},{"location":"csharp/part-6/#vs","title":"\u540c\u671f vs \u975e\u540c\u671f","text":"\u7279\u6027 \u540c\u671f \u975e\u540c\u671f \u30b9\u30ec\u30c3\u30c9 \u30d6\u30ed\u30c3\u30af \u89e3\u653e \u30b9\u30b1\u30fc\u30e9\u30d3\u30ea\u30c6\u30a3 \u4f4e \u9ad8 \u30b3\u30fc\u30c9\u8907\u96d1\u5ea6 \u4f4e \u3084\u3084\u9ad8"},{"location":"csharp/part-6/#_4","title":"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7","text":"<p>Part VII \u3067\u306f\u3001Task \u3068\u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3092\u6df1\u304f\u5b66\u3073\u307e\u3059\u3002</p>"},{"location":"csharp/part-6/#_5","title":"\u53c2\u8003\u8cc7\u6599","text":"<ul> <li>async/await</li> </ul>"},{"location":"csharp/part-7/","title":"Part VII: \u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0","text":""},{"location":"csharp/part-7/#_1","title":"\u6982\u8981","text":"<p>\u672c\u7ae0\u3067\u306f\u3001C# \u306e Task \u3068 async/await \u3092\u4f7f\u3063\u305f\u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3092\u5b66\u3073\u307e\u3059\u3002</p>"},{"location":"csharp/part-7/#task","title":"Task \u306e\u57fa\u672c","text":""},{"location":"csharp/part-7/#task_1","title":"Task \u306e\u4f5c\u6210","text":"<pre><code>var task = Task.Run(() =&gt; {\n    // \u975e\u540c\u671f\u51e6\u7406\n    return \"Result\";\n});\n\nstring result = await task;\n</code></pre>"},{"location":"csharp/part-7/#_2","title":"\u30c1\u30a7\u30fc\u30f3\u51e6\u7406","text":"<pre><code>var result = await Task.Run(() =&gt; FetchData())\n    .ContinueWith(t =&gt; Process(t.Result))\n    .ContinueWith(t =&gt; Save(t.Result));\n</code></pre>"},{"location":"csharp/part-7/#_3","title":"\u4e26\u884c\u5b9f\u884c","text":"<pre><code>var task1 = Task.Run(() =&gt; FetchData1());\nvar task2 = Task.Run(() =&gt; FetchData2());\n\nawait Task.WhenAll(task1, task2);\n</code></pre>"},{"location":"csharp/part-7/#valuetask","title":"ValueTask","text":"<pre><code>public ValueTask&lt;int&gt; GetCachedValueAsync()\n{\n    if (_cache.TryGetValue(key, out var value))\n        return new ValueTask&lt;int&gt;(value);\n\n    return new ValueTask&lt;int&gt;(FetchFromDatabaseAsync());\n}\n</code></pre>"},{"location":"csharp/part-7/#_4","title":"\u4f7f\u3044\u5206\u3051\u306e\u6307\u91dd","text":"\u30b7\u30ca\u30ea\u30aa \u63a8\u5968 I/O \u30d0\u30a6\u30f3\u30c9 async/await CPU \u30d0\u30a6\u30f3\u30c9 Task.Run / Parallel \u6df7\u5408 async/await + Task.Run"},{"location":"csharp/part-7/#_5","title":"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7","text":"<p>Part VIII \u3067\u306f\u3001MapReduce \u30d1\u30bf\u30fc\u30f3\u3068 PLINQ \u3092\u5b66\u3073\u307e\u3059\u3002</p>"},{"location":"csharp/part-7/#_6","title":"\u53c2\u8003\u8cc7\u6599","text":"<ul> <li>Task</li> <li>ValueTask</li> </ul>"},{"location":"csharp/part-8/","title":"Part VIII: \u5206\u6563\u4e26\u5217\u51e6\u7406","text":""},{"location":"csharp/part-8/#_1","title":"\u6982\u8981","text":"<p>\u672c\u7ae0\u3067\u306f\u3001MapReduce \u30d1\u30bf\u30fc\u30f3\u3068 PLINQ \u3092\u4f7f\u3063\u305f\u5206\u6563\u4e26\u5217\u51e6\u7406\u3092\u5b66\u3073\u307e\u3059\u3002</p>"},{"location":"csharp/part-8/#mapreduce","title":"MapReduce \u30d1\u30bf\u30fc\u30f3","text":""},{"location":"csharp/part-8/#_2","title":"\u30ef\u30fc\u30c9\u30ab\u30a6\u30f3\u30c8\u306e\u4f8b","text":"<pre><code>public static class WordCount\n{\n    // Map: \u30c6\u30ad\u30b9\u30c8\u3092 (word, 1) \u306e\u30da\u30a2\u306b\u5909\u63db\n    public static List&lt;KeyValuePair&lt;string, int&gt;&gt; Map(string text)\n    {\n        return text.ToLower()\n            .Split(' ', StringSplitOptions.RemoveEmptyEntries)\n            .Select(word =&gt; new KeyValuePair&lt;string, int&gt;(word, 1))\n            .ToList();\n    }\n\n    // Reduce: \u540c\u3058\u5358\u8a9e\u306e\u30ab\u30a6\u30f3\u30c8\u3092\u96c6\u7d04\n    public static Dictionary&lt;string, int&gt; Reduce(List&lt;KeyValuePair&lt;string, int&gt;&gt; pairs)\n    {\n        return pairs\n            .GroupBy(p =&gt; p.Key)\n            .ToDictionary(g =&gt; g.Key, g =&gt; g.Sum(p =&gt; p.Value));\n    }\n\n    // MapReduce\n    public static Dictionary&lt;string, int&gt; CountWords(List&lt;string&gt; texts)\n    {\n        // Map \u30d5\u30a7\u30fc\u30ba\uff08\u4e26\u5217\uff09\n        var mapped = texts\n            .AsParallel()\n            .SelectMany(text =&gt; Map(text))\n            .ToList();\n\n        // Reduce \u30d5\u30a7\u30fc\u30ba\n        return Reduce(mapped);\n    }\n}\n</code></pre>"},{"location":"csharp/part-8/#plinq","title":"PLINQ","text":"<pre><code>var result = data\n    .AsParallel()\n    .Where(x =&gt; x &gt; 0)\n    .Select(x =&gt; x * 2)\n    .ToList();\n</code></pre>"},{"location":"csharp/part-8/#_3","title":"\u307e\u3068\u3081","text":"<p>\u672c\u30b7\u30ea\u30fc\u30ba\u3067\u5b66\u3093\u3060\u5185\u5bb9:</p> Part \u30c8\u30d4\u30c3\u30af \u30ad\u30fc\u30dd\u30a4\u30f3\u30c8 I \u9010\u6b21\u51e6\u7406 \u57fa\u672c\u6982\u5ff5 II \u30b9\u30ec\u30c3\u30c9 Thread, Task III \u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0 \u30b2\u30fc\u30e0\u30eb\u30fc\u30d7 IV \u4e26\u5217\u30d1\u30bf\u30fc\u30f3 Fork/Join, Pipeline V \u540c\u671f lock, Monitor VI \u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 async/await VII \u975e\u540c\u671f Task VIII \u5206\u6563\u51e6\u7406 MapReduce, PLINQ"},{"location":"csharp/part-8/#_4","title":"\u53c2\u8003\u8cc7\u6599","text":"<ul> <li>PLINQ</li> <li>Grokking Concurrency</li> </ul>"},{"location":"java/","title":"Java \u3067\u5b66\u3076\u4e26\u884c\u51e6\u7406\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0","text":""},{"location":"java/#_1","title":"\u6982\u8981","text":"<p>\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001Grokking Concurrency \u306e\u5185\u5bb9\u3092 Java 21 \u3067\u5b9f\u88c5\u3057\u306a\u304c\u3089\u5b66\u3073\u307e\u3059\u3002TDD\uff08\u30c6\u30b9\u30c8\u99c6\u52d5\u958b\u767a\uff09\u3067\u5b9f\u88c5\u3055\u308c\u305f\u30b3\u30fc\u30c9\u4f8b\u3068\u3001\u8a73\u7d30\u306a\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u901a\u3058\u3066\u3001\u4e26\u884c\u51e6\u7406\u306e\u57fa\u790e\u304b\u3089\u5fdc\u7528\u307e\u3067\u3092\u7406\u89e3\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"java/#_2","title":"\u76ee\u6b21","text":""},{"location":"java/#part-i","title":"Part I: \u4e26\u884c\u51e6\u7406\u306e\u57fa\u790e","text":"<p>\u9010\u6b21\u51e6\u7406\u306e\u7279\u5fb4\u3068\u9650\u754c\u3092\u7406\u89e3\u3057\u3001\u306a\u305c\u4e26\u884c\u51e6\u7406\u304c\u5fc5\u8981\u304b\u3092\u5b66\u3073\u307e\u3059\u3002</p> <ul> <li>Part I - \u4e26\u884c\u51e6\u7406\u306e\u57fa\u790e</li> </ul>"},{"location":"java/#part-ii","title":"Part II: \u30d7\u30ed\u30bb\u30b9\u3068\u30b9\u30ec\u30c3\u30c9","text":"<p>OS \u30ec\u30d9\u30eb\u306e\u4e26\u884c\u51e6\u7406\u306e\u57fa\u672c\u5358\u4f4d\u3067\u3042\u308b\u30d7\u30ed\u30bb\u30b9\u3068\u30b9\u30ec\u30c3\u30c9\u3092\u5b66\u3073\u307e\u3059\u3002</p> <ul> <li>Part II - \u30d7\u30ed\u30bb\u30b9\u3068\u30b9\u30ec\u30c3\u30c9</li> </ul>"},{"location":"java/#part-iii","title":"Part III: \u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0","text":"<p>OS \u304c\u3069\u306e\u3088\u3046\u306b\u30bf\u30b9\u30af\u3092\u5207\u308a\u66ff\u3048\u308b\u304b\u3001\u30bf\u30a4\u30e0\u30b7\u30a7\u30a2\u30ea\u30f3\u30b0\u306e\u4ed5\u7d44\u307f\u3092\u5b66\u3073\u307e\u3059\u3002</p> <ul> <li>Part III - \u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0\u3068\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0</li> </ul>"},{"location":"java/#part-iv","title":"Part IV: \u30bf\u30b9\u30af\u5206\u89e3\u3068\u4e26\u5217\u30d1\u30bf\u30fc\u30f3","text":"<p>Fork/Join \u30d1\u30bf\u30fc\u30f3\u3068\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u3092\u5b66\u3073\u307e\u3059\u3002</p> <ul> <li>Part IV - \u30bf\u30b9\u30af\u5206\u89e3\u3068\u4e26\u5217\u30d1\u30bf\u30fc\u30f3</li> </ul>"},{"location":"java/#part-v","title":"Part V: \u540c\u671f\u3068\u6392\u4ed6\u5236\u5fa1","text":"<p>Lock\u3001Semaphore\u3001\u30c7\u30c3\u30c9\u30ed\u30c3\u30af\u306b\u3064\u3044\u3066\u5b66\u3073\u307e\u3059\u3002</p> <ul> <li>Part V - \u540c\u671f\u3068\u6392\u4ed6\u5236\u5fa1</li> </ul>"},{"location":"java/#part-vi-io","title":"Part VI: \u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 I/O","text":"<p>Java NIO \u3092\u4f7f\u3063\u305f\u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 I/O \u3092\u5b66\u3073\u307e\u3059\u3002</p> <ul> <li>Part VI - \u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 I/O</li> </ul>"},{"location":"java/#part-vii","title":"Part VII: \u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0","text":"<p>CompletableFuture \u3068 Virtual Threads \u3092\u5b66\u3073\u307e\u3059\u3002</p> <ul> <li>Part VII - \u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0</li> </ul>"},{"location":"java/#part-viii","title":"Part VIII: \u5206\u6563\u4e26\u5217\u51e6\u7406","text":"<p>MapReduce \u30d1\u30bf\u30fc\u30f3\u3068\u5206\u6563\u51e6\u7406\u3092\u5b66\u3073\u307e\u3059\u3002</p> <ul> <li>Part VIII - \u5206\u6563\u4e26\u5217\u51e6\u7406</li> </ul>"},{"location":"java/#_3","title":"\u6280\u8853\u30b9\u30bf\u30c3\u30af","text":"<ul> <li>Java 21 (Virtual Threads, Record, Pattern Matching)</li> <li>Gradle (\u30d3\u30eb\u30c9\u30c4\u30fc\u30eb)</li> <li>JUnit 5 (\u30c6\u30b9\u30c8\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af)</li> <li>AssertJ (\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3\u30e9\u30a4\u30d6\u30e9\u30ea)</li> </ul>"},{"location":"java/#_4","title":"\u5b9f\u884c\u65b9\u6cd5","text":""},{"location":"java/#_5","title":"\u30c6\u30b9\u30c8\u306e\u5b9f\u884c","text":"<pre><code>cd apps/java\n./gradlew test\n</code></pre>"},{"location":"java/#_6","title":"\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306e\u5b9f\u884c","text":"<pre><code>cd apps/java\n./gradlew run -PmainClass=concurrency.ch02.PasswordCracker\n</code></pre>"},{"location":"java/#_7","title":"\u53c2\u8003\u8cc7\u6599","text":"<ul> <li>Grokking Concurrency - \u539f\u8457</li> <li>Java Concurrency in Practice - Java \u4e26\u884c\u51e6\u7406\u306e\u540d\u8457</li> <li>Java 21 Documentation</li> </ul>"},{"location":"java/part-1/","title":"Part I: \u4e26\u884c\u51e6\u7406\u306e\u57fa\u790e","text":""},{"location":"java/part-1/#_1","title":"\u6982\u8981","text":"<p>\u672c\u7ae0\u3067\u306f\u3001\u4e26\u884c\u51e6\u7406\u3092\u5b66\u3076\u524d\u63d0\u3068\u3057\u3066\u9010\u6b21\u51e6\u7406\uff08Sequential Processing\uff09\u306e\u57fa\u672c\u3092\u7406\u89e3\u3057\u307e\u3059\u3002\u30d1\u30b9\u30ef\u30fc\u30c9\u30af\u30e9\u30c3\u30ad\u30f3\u30b0\u3092\u4f8b\u306b\u3001\u9010\u6b21\u51e6\u7406\u306e\u7279\u5fb4\u3068\u9650\u754c\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p>"},{"location":"java/part-1/#2","title":"\u7b2c2\u7ae0: \u9010\u6b21\u51e6\u7406","text":""},{"location":"java/part-1/#_2","title":"\u9010\u6b21\u51e6\u7406\u3068\u306f","text":"<p>\u9010\u6b21\u51e6\u7406\u306f\u3001\u30bf\u30b9\u30af\u3092\u4e00\u3064\u305a\u3064\u9806\u756a\u306b\u5b9f\u884c\u3059\u308b\u6700\u3082\u57fa\u672c\u7684\u306a\u51e6\u7406\u65b9\u5f0f\u3067\u3059\u3002</p> <p></p>"},{"location":"java/part-1/#_3","title":"\u30d1\u30b9\u30ef\u30fc\u30c9\u30af\u30e9\u30c3\u30ad\u30f3\u30b0\u306e\u4f8b","text":"<p>\u30d6\u30eb\u30fc\u30c8\u30d5\u30a9\u30fc\u30b9\uff08\u7dcf\u5f53\u305f\u308a\uff09\u3067\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u89e3\u8aad\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u901a\u3058\u3066\u3001\u9010\u6b21\u51e6\u7406\u306e\u7279\u5fb4\u3092\u5b66\u3073\u307e\u3059\u3002</p>"},{"location":"java/part-1/#_4","title":"\u5b9f\u88c5\u306e\u5168\u4f53\u50cf","text":"<p>\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb: <code>apps/java/src/main/java/concurrency/ch02/PasswordCracker.java</code></p> <pre><code>package concurrency.ch02;\n\nimport java.nio.charset.StandardCharsets;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.util.ArrayList;\nimport java.util.HexFormat;\nimport java.util.List;\n\n/**\n * \u30d1\u30b9\u30ef\u30fc\u30c9\u30af\u30e9\u30c3\u30ab\u30fc\uff08\u9010\u6b21\u51e6\u7406\u7248\uff09\n * \u30d6\u30eb\u30fc\u30c8\u30d5\u30a9\u30fc\u30b9\uff08\u7dcf\u5f53\u305f\u308a\uff09\u3067\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u89e3\u8aad\u3059\u308b\n */\npublic class PasswordCracker {\n\n    public static List&lt;String&gt; getCombinations(int length, int minNumber, int maxNumber) {\n        List&lt;String&gt; combinations = new ArrayList&lt;&gt;();\n        String format = \"%0\" + length + \"d\";\n\n        for (int i = minNumber; i &lt;= maxNumber; i++) {\n            combinations.add(String.format(format, i));\n        }\n        return combinations;\n    }\n\n    public static String getCryptoHash(String password) {\n        try {\n            MessageDigest digest = MessageDigest.getInstance(\"SHA-256\");\n            byte[] hash = digest.digest(password.getBytes(StandardCharsets.UTF_8));\n            return HexFormat.of().formatHex(hash);\n        } catch (NoSuchAlgorithmException e) {\n            throw new RuntimeException(\"SHA-256 algorithm not available\", e);\n        }\n    }\n\n    public static boolean checkPassword(String expectedCryptoHash, String possiblePassword) {\n        String actualCryptoHash = getCryptoHash(possiblePassword);\n        return expectedCryptoHash.equals(actualCryptoHash);\n    }\n\n    public static String crackPassword(String cryptoHash, int length) {\n        int maxNumber = (int) Math.pow(10, length) - 1;\n        List&lt;String&gt; combinations = getCombinations(length, 0, maxNumber);\n\n        for (String combination : combinations) {\n            if (checkPassword(cryptoHash, combination)) {\n                return combination;\n            }\n        }\n        return null;\n    }\n\n    public static void main(String[] args) {\n        String cryptoHash = \"ef797c8118f02dfb649607dd5d3f8c7623048c9c063d532cc95c5ed7a898a64f\";\n        int length = 8;\n\n        System.out.println(\"Processing number combinations sequentially\");\n        long startTime = System.nanoTime();\n\n        String result = crackPassword(cryptoHash, length);\n\n        long processTime = System.nanoTime() - startTime;\n        if (result != null) {\n            System.out.println(\"PASSWORD CRACKED: \" + result);\n        }\n        System.out.printf(\"PROCESS TIME: %.3f seconds%n\", processTime / 1_000_000_000.0);\n    }\n}\n</code></pre>"},{"location":"java/part-1/#_5","title":"\u30b3\u30fc\u30c9\u306e\u89e3\u8aac","text":""},{"location":"java/part-1/#1","title":"1. \u30d1\u30b9\u30ef\u30fc\u30c9\u7d44\u307f\u5408\u308f\u305b\u306e\u751f\u6210","text":"<pre><code>public static List&lt;String&gt; getCombinations(int length, int minNumber, int maxNumber) {\n    List&lt;String&gt; combinations = new ArrayList&lt;&gt;();\n    String format = \"%0\" + length + \"d\";  // \u5148\u982d\u30bc\u30ed\u57cb\u3081\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\n\n    for (int i = minNumber; i &lt;= maxNumber; i++) {\n        combinations.add(String.format(format, i));\n    }\n    return combinations;\n}\n</code></pre> <p>8\u6841\u306e\u6570\u5b57\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u5834\u5408\u3001<code>00000000</code> \u304b\u3089 <code>99999999</code> \u307e\u3067 1\u5104\u901a\u308a\u306e\u7d44\u307f\u5408\u308f\u305b\u3092\u751f\u6210\u3057\u307e\u3059\u3002</p>"},{"location":"java/part-1/#2_1","title":"2. \u30cf\u30c3\u30b7\u30e5\u95a2\u6570","text":"<pre><code>public static String getCryptoHash(String password) {\n    MessageDigest digest = MessageDigest.getInstance(\"SHA-256\");\n    byte[] hash = digest.digest(password.getBytes(StandardCharsets.UTF_8));\n    return HexFormat.of().formatHex(hash);  // Java 17+ \u306e HexFormat\n}\n</code></pre> <p>SHA-256 \u3092\u4f7f\u7528\u3057\u3066\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u30cf\u30c3\u30b7\u30e5\u5316\u3057\u307e\u3059\u3002<code>HexFormat</code> \u306f Java 17 \u4ee5\u964d\u3067\u5229\u7528\u53ef\u80fd\u306a\u4fbf\u5229\u306a\u30af\u30e9\u30b9\u3067\u3059\u3002</p>"},{"location":"java/part-1/#3","title":"3. \u30d1\u30b9\u30ef\u30fc\u30c9\u30c1\u30a7\u30c3\u30af","text":"<pre><code>public static boolean checkPassword(String expectedCryptoHash, String possiblePassword) {\n    String actualCryptoHash = getCryptoHash(possiblePassword);\n    return expectedCryptoHash.equals(actualCryptoHash);\n}\n</code></pre> <p>\u5019\u88dc\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u30cf\u30c3\u30b7\u30e5\u3068\u3001\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u30cf\u30c3\u30b7\u30e5\u3092\u6bd4\u8f03\u3057\u307e\u3059\u3002</p>"},{"location":"java/part-1/#_6","title":"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6e2c\u5b9a","text":"<pre><code>long startTime = System.nanoTime();\n// ... \u51e6\u7406 ...\nlong processTime = System.nanoTime() - startTime;\nSystem.out.printf(\"PROCESS TIME: %.3f seconds%n\", processTime / 1_000_000_000.0);\n</code></pre> <p><code>System.nanoTime()</code> \u306f\u9ad8\u7cbe\u5ea6\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30ab\u30a6\u30f3\u30bf\u30fc\u3067\u3001\u7d4c\u904e\u6642\u9593\u306e\u6e2c\u5b9a\u306b\u9069\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"java/part-1/#tdd","title":"TDD \u306b\u3088\u308b\u30c6\u30b9\u30c8","text":"<p>\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb: <code>apps/java/src/test/java/concurrency/ch02/PasswordCrackerTest.java</code></p> <pre><code>@Test\n@DisplayName(\"4\u6841\u306e\u7d44\u307f\u5408\u308f\u305b\u3092\u751f\u6210\u3067\u304d\u308b\")\nvoid shouldGenerateFourDigitCombinations() {\n    List&lt;String&gt; combinations = PasswordCracker.getCombinations(4, 0, 9);\n\n    assertThat(combinations)\n        .hasSize(10)\n        .containsExactly(\n            \"0000\", \"0001\", \"0002\", \"0003\", \"0004\",\n            \"0005\", \"0006\", \"0007\", \"0008\", \"0009\"\n        );\n}\n\n@Test\n@DisplayName(\"SHA-256\u30cf\u30c3\u30b7\u30e5\u3092\u8a08\u7b97\u3067\u304d\u308b\")\nvoid shouldCalculateSha256Hash() {\n    String hash = PasswordCracker.getCryptoHash(\"12345678\");\n\n    assertThat(hash)\n        .isEqualTo(\"ef797c8118f02dfb649607dd5d3f8c7623048c9c063d532cc95c5ed7a898a64f\");\n}\n\n@Test\n@DisplayName(\"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u30af\u30e9\u30c3\u30af\u3067\u304d\u308b\")\nvoid shouldCrackPassword() {\n    String cryptoHash = PasswordCracker.getCryptoHash(\"1234\");\n\n    String result = PasswordCracker.crackPassword(cryptoHash, 4);\n\n    assertThat(result).isEqualTo(\"1234\");\n}\n</code></pre>"},{"location":"java/part-1/#_7","title":"\u9010\u6b21\u51e6\u7406\u306e\u7279\u5fb4","text":""},{"location":"java/part-1/#_8","title":"\u5229\u70b9","text":"\u5229\u70b9 \u8aac\u660e \u30b7\u30f3\u30d7\u30eb \u5b9f\u88c5\u304c\u7c21\u5358\u3067\u7406\u89e3\u3057\u3084\u3059\u3044 \u4e88\u6e2c\u53ef\u80fd \u5b9f\u884c\u9806\u5e8f\u304c\u6c7a\u5b9a\u7684 \u30c7\u30d0\u30c3\u30b0\u5bb9\u6613 \u554f\u984c\u306e\u7279\u5b9a\u304c\u5bb9\u6613 \u7af6\u5408\u306a\u3057 \u5171\u6709\u30ea\u30bd\u30fc\u30b9\u306e\u7af6\u5408\u304c\u767a\u751f\u3057\u306a\u3044"},{"location":"java/part-1/#_9","title":"\u9650\u754c","text":"\u9650\u754c \u8aac\u660e \u9045\u3044 1\u5104\u901a\u308a\u30921\u3064\u305a\u3064\u51e6\u7406\u3059\u308b\u305f\u3081\u6642\u9593\u304c\u304b\u304b\u308b \u30ea\u30bd\u30fc\u30b9\u975e\u52b9\u7387 \u30de\u30eb\u30c1\u30b3\u30a2 CPU \u3092\u6d3b\u7528\u3067\u304d\u306a\u3044 \u30b9\u30b1\u30fc\u30eb\u3057\u306a\u3044 \u30c7\u30fc\u30bf\u91cf\u306b\u6bd4\u4f8b\u3057\u3066\u51e6\u7406\u6642\u9593\u304c\u5897\u52a0"},{"location":"java/part-1/#_10","title":"\u306a\u305c\u4e26\u884c\u51e6\u7406\u304c\u5fc5\u8981\u304b","text":"<p>8\u6841\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u30af\u30e9\u30c3\u30ad\u30f3\u30b0\u3067\u306f\u30011\u5104\u901a\u308a\u306e\u7d44\u307f\u5408\u308f\u305b\u3092\u9806\u756a\u306b\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002</p> <p></p> <p>4\u30b3\u30a2 CPU \u304c\u3042\u3063\u3066\u3082\u3001\u9010\u6b21\u51e6\u7406\u3067\u306f1\u30b3\u30a2\u3057\u304b\u4f7f\u7528\u3055\u308c\u307e\u305b\u3093\u3002\u4e26\u884c\u51e6\u7406\u3092\u4f7f\u3048\u3070\u3001\u8907\u6570\u30b3\u30a2\u306b\u4f5c\u696d\u3092\u5206\u6563\u3067\u304d\u307e\u3059\u3002</p> <p></p>"},{"location":"java/part-1/#_11","title":"\u5b9f\u884c\u65b9\u6cd5","text":""},{"location":"java/part-1/#_12","title":"\u30c6\u30b9\u30c8\u306e\u5b9f\u884c","text":"<pre><code>cd apps/java\n./gradlew test\n</code></pre>"},{"location":"java/part-1/#_13","title":"\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306e\u5b9f\u884c","text":"<pre><code>cd apps/java\n./gradlew run\n</code></pre>"},{"location":"java/part-1/#_14","title":"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7","text":"<p>Part II \u3067\u306f\u3001\u30b9\u30ec\u30c3\u30c9\u3068\u30d7\u30ed\u30bb\u30b9\u3092\u4f7f\u3063\u3066\u4e26\u884c\u51e6\u7406\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\u30d1\u30b9\u30ef\u30fc\u30c9\u30af\u30e9\u30c3\u30ad\u30f3\u30b0\u3092\u4e26\u5217\u5316\u3057\u3001\u51e6\u7406\u6642\u9593\u3092\u5927\u5e45\u306b\u77ed\u7e2e\u3059\u308b\u65b9\u6cd5\u3092\u5b66\u3073\u307e\u3059\u3002</p>"},{"location":"java/part-1/#_15","title":"\u53c2\u8003\u30b3\u30fc\u30c9","text":"<ul> <li>apps/java/src/main/java/concurrency/ch02/PasswordCracker.java</li> <li>apps/java/src/test/java/concurrency/ch02/PasswordCrackerTest.java</li> </ul>"},{"location":"java/part-2/","title":"Part II: \u30d7\u30ed\u30bb\u30b9\u3068\u30b9\u30ec\u30c3\u30c9","text":""},{"location":"java/part-2/#_1","title":"\u6982\u8981","text":"<p>\u672c\u7ae0\u3067\u306f\u3001OS \u30ec\u30d9\u30eb\u306e\u4e26\u884c\u51e6\u7406\u306e\u57fa\u672c\u5358\u4f4d\u3067\u3042\u308b\u30d7\u30ed\u30bb\u30b9\u3068\u30b9\u30ec\u30c3\u30c9\u3092\u5b66\u3073\u307e\u3059\u3002Java \u3067\u306e\u5b9f\u88c5\u65b9\u6cd5\u3068\u3001\u30b9\u30ec\u30c3\u30c9\u30d7\u30fc\u30eb\u3001\u4e26\u5217\u30d1\u30b9\u30ef\u30fc\u30c9\u30af\u30e9\u30c3\u30ad\u30f3\u30b0\u306b\u3064\u3044\u3066\u3082\u89e3\u8aac\u3057\u307e\u3059\u3002</p>"},{"location":"java/part-2/#4","title":"\u7b2c4\u7ae0: \u30d7\u30ed\u30bb\u30b9\u3068\u30b9\u30ec\u30c3\u30c9\u306e\u57fa\u790e","text":""},{"location":"java/part-2/#_2","title":"\u30d7\u30ed\u30bb\u30b9\u3068\u306f","text":"<p>\u30d7\u30ed\u30bb\u30b9\u306f\u3001\u5b9f\u884c\u4e2d\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u3059\u3002\u72ec\u81ea\u306e\u30e1\u30e2\u30ea\u7a7a\u9593\u3001\u30d5\u30a1\u30a4\u30eb\u30cf\u30f3\u30c9\u30eb\u3001\u305d\u306e\u4ed6\u306e\u30ea\u30bd\u30fc\u30b9\u3092\u6301\u3061\u307e\u3059\u3002</p>"},{"location":"java/part-2/#_3","title":"\u30b9\u30ec\u30c3\u30c9\u3068\u306f","text":"<p>\u30b9\u30ec\u30c3\u30c9\u306f\u3001\u30d7\u30ed\u30bb\u30b9\u5185\u306e\u5b9f\u884c\u5358\u4f4d\u3067\u3059\u3002\u540c\u3058\u30d7\u30ed\u30bb\u30b9\u5185\u306e\u30b9\u30ec\u30c3\u30c9\u306f\u30e1\u30e2\u30ea\u7a7a\u9593\u3092\u5171\u6709\u3057\u307e\u3059\u3002</p>"},{"location":"java/part-2/#vs","title":"\u30d7\u30ed\u30bb\u30b9 vs \u30b9\u30ec\u30c3\u30c9","text":"\u7279\u5fb4 \u30d7\u30ed\u30bb\u30b9 \u30b9\u30ec\u30c3\u30c9 \u30e1\u30e2\u30ea \u72ec\u7acb \u5171\u6709 \u4f5c\u6210\u30b3\u30b9\u30c8 \u9ad8\u3044 \u4f4e\u3044 \u901a\u4fe1 IPC \u304c\u5fc5\u8981 \u76f4\u63a5\u5171\u6709\u53ef\u80fd \u5b89\u5168\u6027 \u9ad8\u3044 \u7af6\u5408\u306e\u53ef\u80fd\u6027"},{"location":"java/part-2/#_4","title":"\u30b9\u30ec\u30c3\u30c9\u306e\u4f5c\u6210\u3068\u5b9f\u884c","text":"<p>\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb: <code>apps/java/src/main/java/concurrency/ch04/ThreadBasics.java</code></p> <pre><code>package concurrency.ch04;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.function.IntConsumer;\n\npublic class ThreadBasics {\n\n    /**\n     * \u30ef\u30fc\u30ab\u30fc\u30b9\u30ec\u30c3\u30c9\u3092\u4f5c\u6210\n     */\n    public static Thread createWorkerThread(Runnable task) {\n        return new Thread(task);\n    }\n\n    /**\n     * \u8907\u6570\u306e\u30ef\u30fc\u30ab\u30fc\u30b9\u30ec\u30c3\u30c9\u3092\u4f5c\u6210\n     */\n    public static List&lt;Thread&gt; createMultipleWorkers(int count, IntConsumer task) {\n        List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; count; i++) {\n            final int index = i;\n            Thread thread = new Thread(() -&gt; task.accept(index), \"Worker-\" + i);\n            threads.add(thread);\n        }\n        return threads;\n    }\n\n    /**\n     * \u540d\u524d\u4ed8\u304d\u30b9\u30ec\u30c3\u30c9\u3092\u4f5c\u6210\n     */\n    public static Thread createNamedThread(String name, Runnable task) {\n        return new Thread(task, name);\n    }\n\n    /**\n     * \u30a2\u30af\u30c6\u30a3\u30d6\u30b9\u30ec\u30c3\u30c9\u6570\u3092\u53d6\u5f97\n     */\n    public static int getActiveThreadCount() {\n        return Thread.activeCount();\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        System.out.println(\"Starting thread demo...\");\n        System.out.println(\"Current process: \" + ProcessHandle.current().pid());\n        System.out.println(\"Thread count: \" + getActiveThreadCount());\n\n        int numThreads = 5;\n        List&lt;Thread&gt; threads = createMultipleWorkers(numThreads, i -&gt; {\n            String name = Thread.currentThread().getName();\n            System.out.println(name + \" doing \" + i + \" work\");\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n            }\n        });\n\n        for (Thread thread : threads) {\n            thread.start();\n        }\n\n        System.out.println(\"Thread count: \" + getActiveThreadCount());\n\n        for (Thread thread : threads) {\n            thread.join();\n        }\n\n        System.out.println(\"All workers done!\");\n    }\n}\n</code></pre>"},{"location":"java/part-2/#_5","title":"\u5b9f\u884c\u7d50\u679c","text":"<pre><code>Starting thread demo...\nCurrent process: 12345\nThread count: 1\nWorker-0 doing 0 work\nWorker-1 doing 1 work\nWorker-2 doing 2 work\nWorker-3 doing 3 work\nWorker-4 doing 4 work\nThread count: 6\nAll workers done!\n</code></pre>"},{"location":"java/part-2/#5","title":"\u7b2c5\u7ae0: \u30b9\u30ec\u30c3\u30c9\u30d7\u30fc\u30eb\u3068\u4e26\u5217\u51e6\u7406","text":""},{"location":"java/part-2/#executorservice","title":"ExecutorService \u306b\u3088\u308b\u30b9\u30ec\u30c3\u30c9\u30d7\u30fc\u30eb","text":"<p>Java \u306e <code>java.util.concurrent</code> \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f7f\u3046\u3068\u3001\u30b9\u30ec\u30c3\u30c9\u30d7\u30fc\u30eb\u3092\u7c21\u5358\u306b\u5229\u7528\u3067\u304d\u307e\u3059\u3002</p> <pre><code>import java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\n// \u56fa\u5b9a\u30b5\u30a4\u30ba\u306e\u30b9\u30ec\u30c3\u30c9\u30d7\u30fc\u30eb\nExecutorService executor = Executors.newFixedThreadPool(4);\n\n// \u30bf\u30b9\u30af\u3092\u9001\u4fe1\nexecutor.submit(() -&gt; {\n    System.out.println(\"Task running in \" + Thread.currentThread().getName());\n});\n\n// \u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\nexecutor.shutdown();\n</code></pre>"},{"location":"java/part-2/#virtual-threadsjava-21","title":"Virtual Threads\uff08Java 21\uff09","text":"<p>Java 21 \u4ee5\u964d\u3067\u306f\u3001Virtual Threads\uff08\u4eee\u60f3\u30b9\u30ec\u30c3\u30c9\uff09\u304c\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002</p> <pre><code>// Virtual Thread \u3067\u5b9f\u884c\nThread.startVirtualThread(() -&gt; {\n    System.out.println(\"Running in virtual thread\");\n});\n\n// Virtual Thread \u306e ExecutorService\ntry (var executor = Executors.newVirtualThreadPerTaskExecutor()) {\n    executor.submit(() -&gt; {\n        System.out.println(\"Task in virtual thread\");\n    });\n}\n</code></pre>"},{"location":"java/part-2/#_6","title":"\u4e26\u5217\u30d1\u30b9\u30ef\u30fc\u30c9\u30af\u30e9\u30c3\u30ad\u30f3\u30b0","text":"<p>Part I \u3067\u5b66\u3093\u3060\u9010\u6b21\u51e6\u7406\u7248\u3092\u3001\u30de\u30eb\u30c1\u30b9\u30ec\u30c3\u30c9\u3067\u4e26\u5217\u5316\u3057\u307e\u3059\u3002</p> <p>\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb: <code>apps/java/src/main/java/concurrency/ch05/PasswordCrackerParallel.java</code></p> <pre><code>package concurrency.ch05;\n\nimport concurrency.ch02.PasswordCracker;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\n\npublic class PasswordCrackerParallel {\n\n    public record ChunkRange(int start, int end) {}\n\n    /**\n     * \u30d1\u30b9\u30ef\u30fc\u30c9\u7bc4\u56f2\u3092\u30c1\u30e3\u30f3\u30af\u306b\u5206\u5272\n     */\n    public static List&lt;ChunkRange&gt; getChunks(int numChunks, int length) {\n        int maxNumber = (int) Math.pow(10, length) - 1;\n        int chunkSize = (maxNumber + 1) / numChunks;\n\n        List&lt;ChunkRange&gt; chunks = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; numChunks; i++) {\n            int start = i * chunkSize;\n            int end = (i == numChunks - 1) ? maxNumber : start + chunkSize - 1;\n            chunks.add(new ChunkRange(start, end));\n        }\n        return chunks;\n    }\n\n    /**\n     * \u30c1\u30e3\u30f3\u30af\u5185\u3067\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u63a2\u7d22\n     */\n    public static String crackChunk(String cryptoHash, int length,\n                                     int chunkStart, int chunkEnd) {\n        List&lt;String&gt; combinations =\n            PasswordCracker.getCombinations(length, chunkStart, chunkEnd);\n\n        for (String combination : combinations) {\n            if (PasswordCracker.checkPassword(cryptoHash, combination)) {\n                return combination;\n            }\n        }\n        return null;\n    }\n\n    /**\n     * \u8907\u6570\u30b9\u30ec\u30c3\u30c9\u3067\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u4e26\u5217\u89e3\u8aad\n     */\n    public static String crackPasswordParallel(String cryptoHash, int length) {\n        int numCores = Runtime.getRuntime().availableProcessors();\n        List&lt;ChunkRange&gt; chunks = getChunks(numCores, length);\n\n        try (ExecutorService executor = Executors.newFixedThreadPool(numCores)) {\n            List&lt;Future&lt;String&gt;&gt; futures = new ArrayList&lt;&gt;();\n\n            for (ChunkRange chunk : chunks) {\n                Future&lt;String&gt; future = executor.submit(() -&gt;\n                    crackChunk(cryptoHash, length, chunk.start(), chunk.end())\n                );\n                futures.add(future);\n            }\n\n            for (Future&lt;String&gt; future : futures) {\n                String result = future.get();\n                if (result != null) {\n                    executor.shutdownNow();\n                    return result;\n                }\n            }\n        } catch (InterruptedException | ExecutionException e) {\n            Thread.currentThread().interrupt();\n        }\n        return null;\n    }\n}\n</code></pre>"},{"location":"java/part-2/#_7","title":"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6bd4\u8f03","text":"\u51e6\u7406\u65b9\u5f0f \u51e6\u7406\u6642\u9593 CPU \u4f7f\u7528\u7387 \u9010\u6b21\u51e6\u7406 ~60\u79d2 25% (1\u30b3\u30a2) \u4e26\u5217\u51e6\u7406\uff084\u30b3\u30a2\uff09 ~15\u79d2 100% (\u5168\u30b3\u30a2)"},{"location":"java/part-2/#java-api","title":"Java \u306e\u4e26\u884c\u51e6\u7406 API","text":""},{"location":"java/part-2/#_8","title":"\u4e3b\u8981\u30af\u30e9\u30b9","text":"\u30af\u30e9\u30b9 \u8aac\u660e <code>Thread</code> \u57fa\u672c\u7684\u306a\u30b9\u30ec\u30c3\u30c9\u30af\u30e9\u30b9 <code>Runnable</code> \u5f15\u6570\u306a\u3057\u3001\u623b\u308a\u5024\u306a\u3057\u306e\u30bf\u30b9\u30af <code>Callable&lt;V&gt;</code> \u623b\u308a\u5024\u3092\u6301\u3064\u30bf\u30b9\u30af <code>Future&lt;V&gt;</code> \u975e\u540c\u671f\u8a08\u7b97\u306e\u7d50\u679c <code>ExecutorService</code> \u30b9\u30ec\u30c3\u30c9\u30d7\u30fc\u30eb"},{"location":"java/part-2/#executorservice_1","title":"ExecutorService \u306e\u7a2e\u985e","text":"\u30d5\u30a1\u30af\u30c8\u30ea\u30e1\u30bd\u30c3\u30c9 \u8aac\u660e <code>newFixedThreadPool(n)</code> \u56fa\u5b9a\u30b5\u30a4\u30ba\u306e\u30b9\u30ec\u30c3\u30c9\u30d7\u30fc\u30eb <code>newCachedThreadPool()</code> \u5fc5\u8981\u306b\u5fdc\u3058\u3066\u30b9\u30ec\u30c3\u30c9\u3092\u4f5c\u6210 <code>newSingleThreadExecutor()</code> \u5358\u4e00\u30b9\u30ec\u30c3\u30c9 <code>newVirtualThreadPerTaskExecutor()</code> Virtual Thread\uff08Java 21+\uff09"},{"location":"java/part-2/#_9","title":"\u4f7f\u3044\u5206\u3051\u306e\u6307\u91dd","text":"\u30bf\u30b9\u30af\u30bf\u30a4\u30d7 \u63a8\u5968 I/O \u30d0\u30a6\u30f3\u30c9 \u30b9\u30ec\u30c3\u30c9 / Virtual Thread CPU \u30d0\u30a6\u30f3\u30c9 \u30b9\u30ec\u30c3\u30c9\uff08\u30b3\u30a2\u6570\u5206\uff09 \u5927\u91cf\u306e\u77ed\u3044\u30bf\u30b9\u30af Virtual Thread"},{"location":"java/part-2/#_10","title":"\u5b9f\u884c\u65b9\u6cd5","text":""},{"location":"java/part-2/#_11","title":"\u30c6\u30b9\u30c8\u306e\u5b9f\u884c","text":"<pre><code>cd apps/java\n./gradlew test --tests \"concurrency.ch04.*\"\n./gradlew test --tests \"concurrency.ch05.*\"\n</code></pre>"},{"location":"java/part-2/#_12","title":"\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306e\u5b9f\u884c","text":"<pre><code>cd apps/java\n./gradlew run -PmainClass=concurrency.ch04.ThreadBasics\n./gradlew run -PmainClass=concurrency.ch05.PasswordCrackerParallel\n</code></pre>"},{"location":"java/part-2/#_13","title":"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7","text":"<p>Part III \u3067\u306f\u3001\u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0\u3068\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u306e\u6982\u5ff5\u3092\u5b66\u3073\u307e\u3059\u3002OS \u304c\u3069\u306e\u3088\u3046\u306b\u30bf\u30b9\u30af\u3092\u5207\u308a\u66ff\u3048\u308b\u304b\u3001\u30bf\u30a4\u30e0\u30b7\u30a7\u30a2\u30ea\u30f3\u30b0\u306e\u4ed5\u7d44\u307f\u3092\u7406\u89e3\u3057\u307e\u3059\u3002</p>"},{"location":"java/part-2/#_14","title":"\u53c2\u8003\u30b3\u30fc\u30c9","text":"<ul> <li>apps/java/src/main/java/concurrency/ch04/ThreadBasics.java</li> <li>apps/java/src/main/java/concurrency/ch05/PasswordCrackerParallel.java</li> </ul>"},{"location":"java/part-3/","title":"Part III: \u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0\u3068\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0","text":""},{"location":"java/part-3/#_1","title":"\u6982\u8981","text":"<p>\u672c\u7ae0\u3067\u306f\u3001OS \u304c\u3069\u306e\u3088\u3046\u306b\u8907\u6570\u306e\u30bf\u30b9\u30af\u3092\u540c\u6642\u306b\u5b9f\u884c\u3057\u3066\u3044\u308b\u3088\u3046\u306b\u898b\u305b\u308b\u304b\u3092\u5b66\u3073\u307e\u3059\u3002\u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0\u3068\u30bf\u30a4\u30e0\u30b7\u30a7\u30a2\u30ea\u30f3\u30b0\u306e\u4ed5\u7d44\u307f\u3092\u3001\u30b2\u30fc\u30e0\u30eb\u30fc\u30d7\u306e\u5b9f\u88c5\u3092\u901a\u3058\u3066\u7406\u89e3\u3057\u307e\u3059\u3002</p>"},{"location":"java/part-3/#6","title":"\u7b2c6\u7ae0: \u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0","text":""},{"location":"java/part-3/#_2","title":"\u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0\u3068\u306f","text":"<p>\u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0\u306f\u3001\u8907\u6570\u306e\u30bf\u30b9\u30af\u3092\u5207\u308a\u66ff\u3048\u306a\u304c\u3089\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u3001\u3042\u305f\u304b\u3082\u540c\u6642\u306b\u5b9f\u884c\u3057\u3066\u3044\u308b\u3088\u3046\u306b\u898b\u305b\u308b\u6280\u8853\u3067\u3059\u3002</p>"},{"location":"java/part-3/#_3","title":"\u30bf\u30a4\u30e0\u30b7\u30a7\u30a2\u30ea\u30f3\u30b0","text":"<p>CPU \u6642\u9593\u3092\u5c0f\u3055\u306a\u30b9\u30e9\u30a4\u30b9\u306b\u5206\u5272\u3057\u3001\u5404\u30bf\u30b9\u30af\u306b\u9806\u756a\u306b\u5272\u308a\u5f53\u3066\u307e\u3059\u3002</p> <p></p>"},{"location":"java/part-3/#_4","title":"\u30b2\u30fc\u30e0\u30eb\u30fc\u30d7\u306e\u5b9f\u88c5","text":"<p>\u30a2\u30fc\u30b1\u30fc\u30c9\u30b2\u30fc\u30e0\uff08\u30d1\u30c3\u30af\u30de\u30f3\uff09\u3092\u4f8b\u306b\u3001\u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002</p>"},{"location":"java/part-3/#3","title":"\u30b2\u30fc\u30e0\u306e3\u3064\u306e\u30bf\u30b9\u30af","text":"<ol> <li>\u5165\u529b\u51e6\u7406 - \u30e6\u30fc\u30b6\u30fc\u306e\u64cd\u4f5c\u3092\u53d7\u3051\u4ed8\u3051\u308b</li> <li>\u30b2\u30fc\u30e0\u8a08\u7b97 - \u30b2\u30fc\u30e0\u4e16\u754c\u306e\u72b6\u614b\u3092\u66f4\u65b0</li> <li>\u63cf\u753b\u51e6\u7406 - \u753b\u9762\u3092\u66f4\u65b0</li> </ol> <p>\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb: <code>apps/java/src/main/java/concurrency/ch06/GameLoop.java</code></p> <pre><code>package concurrency.ch06;\n\nimport java.util.function.BooleanSupplier;\n\npublic class GameLoop {\n\n    public record Task(String name, Runnable action) implements Runnable {\n        @Override\n        public void run() {\n            action.run();\n        }\n    }\n\n    private final Runnable inputTask;\n    private final Runnable computeTask;\n    private final Runnable renderTask;\n    private final BooleanSupplier continueCondition;\n\n    public GameLoop(Runnable inputTask, Runnable computeTask,\n                    Runnable renderTask, BooleanSupplier continueCondition) {\n        this.inputTask = inputTask;\n        this.computeTask = computeTask;\n        this.renderTask = renderTask;\n        this.continueCondition = continueCondition;\n    }\n\n    public void run() {\n        while (continueCondition.getAsBoolean()) {\n            inputTask.run();\n            computeTask.run();\n            renderTask.run();\n        }\n    }\n}\n</code></pre>"},{"location":"java/part-3/#_5","title":"\u30a4\u30d9\u30f3\u30c8\u306b\u3088\u308b\u540c\u671f","text":"<p><code>ProcessorFreeEvent</code> \u30af\u30e9\u30b9\u306f\u3001Python \u306e <code>threading.Event</code> \u306b\u76f8\u5f53\u3059\u308b\u6a5f\u80fd\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</p> <pre><code>public static class ProcessorFreeEvent {\n    private final Lock lock = new ReentrantLock();\n    private final Condition condition = lock.newCondition();\n    private boolean signaled = false;\n\n    public void waitForSignal() {\n        lock.lock();\n        try {\n            while (!signaled) {\n                condition.await();\n            }\n            signaled = false;\n        } catch (InterruptedException e) {\n            Thread.currentThread().interrupt();\n        } finally {\n            lock.unlock();\n        }\n    }\n\n    public void signal() {\n        lock.lock();\n        try {\n            signaled = true;\n            condition.signal();\n        } finally {\n            lock.unlock();\n        }\n    }\n}\n</code></pre>"},{"location":"java/part-3/#_6","title":"\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30b9\u30a4\u30c3\u30c1","text":"<p>\u30bf\u30b9\u30af\u3092\u5207\u308a\u66ff\u3048\u308b\u969b\u3001\u73fe\u5728\u306e\u30bf\u30b9\u30af\u306e\u72b6\u614b\u3092\u4fdd\u5b58\u3057\u3001\u6b21\u306e\u30bf\u30b9\u30af\u306e\u72b6\u614b\u3092\u5fa9\u5143\u3057\u307e\u3059\u3002</p>"},{"location":"java/part-3/#_7","title":"\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30b9\u30a4\u30c3\u30c1\u306e\u30b3\u30b9\u30c8","text":"<ul> <li>\u30ec\u30b8\u30b9\u30bf\u306e\u4fdd\u5b58\u3068\u5fa9\u5143</li> <li>\u30e1\u30e2\u30ea\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u7121\u52b9\u5316</li> <li>TLB\uff08Translation Lookaside Buffer\uff09\u306e\u30d5\u30e9\u30c3\u30b7\u30e5</li> </ul>"},{"location":"java/part-3/#vs","title":"\u30d7\u30ea\u30a8\u30f3\u30d7\u30c6\u30a3\u30d6 vs \u5354\u8abf\u7684","text":""},{"location":"java/part-3/#_8","title":"\u30d7\u30ea\u30a8\u30f3\u30d7\u30c6\u30a3\u30d6\u30fb\u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0","text":"<ul> <li>OS \u304c\u30bf\u30b9\u30af\u3092\u5f37\u5236\u7684\u306b\u4e2d\u65ad</li> <li>\u30bf\u30a4\u30e0\u30b9\u30e9\u30a4\u30b9\u3067\u5236\u5fa1</li> <li>\u516c\u5e73\u306a\u30ea\u30bd\u30fc\u30b9\u914d\u5206</li> </ul>"},{"location":"java/part-3/#_9","title":"\u5354\u8abf\u7684\u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0","text":"<ul> <li>\u30bf\u30b9\u30af\u304c\u81ea\u767a\u7684\u306b\u5236\u5fa1\u3092\u8b72\u308b</li> <li><code>yield</code> \u3067\u5236\u5fa1\u3092\u8fd4\u3059</li> <li>\u52b9\u7387\u7684\u3060\u304c\u3001\u884c\u5100\u306e\u60aa\u3044\u30bf\u30b9\u30af\u306b\u6ce8\u610f</li> </ul>"},{"location":"java/part-3/#_10","title":"\u5b9f\u884c\u65b9\u6cd5","text":""},{"location":"java/part-3/#_11","title":"\u30c6\u30b9\u30c8\u306e\u5b9f\u884c","text":"<pre><code>cd apps/java\n./gradlew test --tests \"concurrency.ch06.*\"\n</code></pre>"},{"location":"java/part-3/#_12","title":"\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306e\u5b9f\u884c","text":"<pre><code>cd apps/java\n./gradlew run -PmainClass=concurrency.ch06.GameLoop\n</code></pre>"},{"location":"java/part-3/#_13","title":"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7","text":"<p>Part IV \u3067\u306f\u3001\u30bf\u30b9\u30af\u5206\u89e3\u3068\u4e26\u5217\u30d1\u30bf\u30fc\u30f3\uff08Fork/Join\u3001\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\uff09\u3092\u5b66\u3073\u307e\u3059\u3002\u8907\u96d1\u306a\u554f\u984c\u3092\u4e26\u5217\u5316\u53ef\u80fd\u306a\u30b5\u30d6\u30bf\u30b9\u30af\u306b\u5206\u5272\u3059\u308b\u624b\u6cd5\u3092\u7406\u89e3\u3057\u307e\u3059\u3002</p>"},{"location":"java/part-3/#_14","title":"\u53c2\u8003\u30b3\u30fc\u30c9","text":"<ul> <li>apps/java/src/main/java/concurrency/ch06/GameLoop.java</li> </ul>"},{"location":"java/part-4/","title":"Part IV: \u30bf\u30b9\u30af\u5206\u89e3\u3068\u4e26\u5217\u30d1\u30bf\u30fc\u30f3","text":""},{"location":"java/part-4/#_1","title":"\u6982\u8981","text":"<p>\u672c\u7ae0\u3067\u306f\u3001\u8907\u96d1\u306a\u554f\u984c\u3092\u4e26\u5217\u5316\u53ef\u80fd\u306a\u30b5\u30d6\u30bf\u30b9\u30af\u306b\u5206\u5272\u3059\u308b\u624b\u6cd5\u3092\u5b66\u3073\u307e\u3059\u3002Fork/Join \u30d1\u30bf\u30fc\u30f3\u3068\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u306e\u5b9f\u88c5\u3092\u901a\u3058\u3066\u3001\u4e26\u5217\u51e6\u7406\u306e\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u3092\u7406\u89e3\u3057\u307e\u3059\u3002</p>"},{"location":"java/part-4/#7","title":"\u7b2c7\u7ae0: \u4e26\u5217\u30d1\u30bf\u30fc\u30f3","text":""},{"location":"java/part-4/#vs","title":"\u30c7\u30fc\u30bf\u4e26\u5217 vs \u30bf\u30b9\u30af\u4e26\u5217","text":"\u30d1\u30bf\u30fc\u30f3 \u8aac\u660e \u4f8b \u30c7\u30fc\u30bf\u4e26\u5217 \u540c\u3058\u64cd\u4f5c\u3092\u8907\u6570\u306e\u30c7\u30fc\u30bf\u306b\u9069\u7528 \u914d\u5217\u306e\u5404\u8981\u7d20\u30922\u500d \u30bf\u30b9\u30af\u4e26\u5217 \u7570\u306a\u308b\u64cd\u4f5c\u3092\u540c\u6642\u306b\u5b9f\u884c \u5165\u529b\u30fb\u8a08\u7b97\u30fb\u51fa\u529b"},{"location":"java/part-4/#forkjoin","title":"Fork/Join \u30d1\u30bf\u30fc\u30f3","text":"<p>\u554f\u984c\u3092\u5206\u5272\u3057\u3001\u4e26\u5217\u306b\u51e6\u7406\u3057\u305f\u5f8c\u3001\u7d50\u679c\u3092\u7d71\u5408\u3059\u308b\u30d1\u30bf\u30fc\u30f3\u3067\u3059\u3002</p>"},{"location":"java/part-4/#_2","title":"\u6295\u7968\u96c6\u8a08\u306e\u4f8b","text":"<p>\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb: <code>apps/java/src/main/java/concurrency/ch07/VoteCounter.java</code></p> <pre><code>public class VoteCounter {\n\n    public static Map&lt;Integer, Integer&gt; countVotes(List&lt;Integer&gt; votes) {\n        Map&lt;Integer, Integer&gt; result = new HashMap&lt;&gt;();\n        for (Integer vote : votes) {\n            result.merge(vote, 1, Integer::sum);\n        }\n        return result;\n    }\n\n    public static Map&lt;Integer, Integer&gt; countVotesParallel(List&lt;Integer&gt; votes, int numWorkers) {\n        int chunkSize = (int) Math.ceil((double) votes.size() / numWorkers);\n        List&lt;List&lt;Integer&gt;&gt; chunks = new ArrayList&lt;&gt;();\n\n        for (int i = 0; i &lt; votes.size(); i += chunkSize) {\n            chunks.add(votes.subList(i, Math.min(i + chunkSize, votes.size())));\n        }\n\n        try (ExecutorService executor = Executors.newFixedThreadPool(numWorkers)) {\n            // Fork: \u5404\u30ef\u30fc\u30ab\u30fc\u306b\u30c1\u30e3\u30f3\u30af\u3092\u5272\u308a\u5f53\u3066\n            List&lt;Future&lt;Map&lt;Integer, Integer&gt;&gt;&gt; futures = new ArrayList&lt;&gt;();\n            for (List&lt;Integer&gt; chunk : chunks) {\n                futures.add(executor.submit(() -&gt; countVotes(chunk)));\n            }\n\n            // Join: \u7d50\u679c\u3092\u7d71\u5408\n            Map&lt;Integer, Integer&gt; total = new HashMap&lt;&gt;();\n            for (Future&lt;Map&lt;Integer, Integer&gt;&gt; future : futures) {\n                total = mergeResults(total, future.get());\n            }\n            return total;\n        }\n    }\n\n    public static Map&lt;Integer, Integer&gt; mergeResults(Map&lt;Integer, Integer&gt; result1,\n                                                      Map&lt;Integer, Integer&gt; result2) {\n        Map&lt;Integer, Integer&gt; merged = new HashMap&lt;&gt;(result1);\n        result2.forEach((key, value) -&gt; merged.merge(key, value, Integer::sum));\n        return merged;\n    }\n}\n</code></pre>"},{"location":"java/part-4/#forkjoin_1","title":"Fork/Join \u306e\u6d41\u308c","text":""},{"location":"java/part-4/#_3","title":"\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3","text":"<p>\u51e6\u7406\u3092\u30b9\u30c6\u30fc\u30b8\u306b\u5206\u5272\u3057\u3001\u5404\u30b9\u30c6\u30fc\u30b8\u3092\u4e26\u5217\u306b\u5b9f\u884c\u3059\u308b\u30d1\u30bf\u30fc\u30f3\u3067\u3059\u3002</p>"},{"location":"java/part-4/#_4","title":"\u6d17\u6fef\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306e\u4f8b","text":"<p>\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb: <code>apps/java/src/main/java/concurrency/ch07/Pipeline.java</code></p> <pre><code>public class Pipeline&lt;T&gt; {\n\n    public record Stage&lt;I, O&gt;(String name, Function&lt;I, O&gt; processor) {}\n\n    private final List&lt;StageWorker&gt; workers = new ArrayList&lt;&gt;();\n    private final List&lt;BlockingQueue&lt;Object&gt;&gt; queues = new ArrayList&lt;&gt;();\n\n    public &lt;I, O&gt; void addStage(String name, Function&lt;I, O&gt; processor) {\n        // \u30b9\u30c6\u30fc\u30b8\u9593\u306e\u30ad\u30e5\u30fc\u3092\u8a2d\u5b9a\n        BlockingQueue&lt;Object&gt; inputQueue = queues.isEmpty() ?\n            new LinkedBlockingQueue&lt;&gt;() : queues.get(queues.size() - 1);\n        BlockingQueue&lt;Object&gt; outputQueue = new LinkedBlockingQueue&lt;&gt;();\n        queues.add(outputQueue);\n\n        workers.add(new StageWorker(name, inputQueue, outputQueue, processor));\n    }\n\n    public void start() {\n        for (StageWorker worker : workers) {\n            worker.start();\n        }\n    }\n\n    public void submit(T item) {\n        queues.get(0).offer(item);\n    }\n}\n</code></pre>"},{"location":"java/part-4/#_5","title":"\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306e\u6d41\u308c","text":""},{"location":"java/part-4/#blockingqueue","title":"BlockingQueue \u306b\u3088\u308b\u30b9\u30ec\u30c3\u30c9\u9593\u901a\u4fe1","text":"<p><code>java.util.concurrent.BlockingQueue</code> \u306f\u30b9\u30ec\u30c3\u30c9\u30bb\u30fc\u30d5\u306a\u30ad\u30e5\u30fc\u3067\u3059\u3002</p> \u30e1\u30bd\u30c3\u30c9 \u8aac\u660e <code>put(item)</code> \u30a2\u30a4\u30c6\u30e0\u3092\u8ffd\u52a0\uff08\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0\uff09 <code>take()</code> \u30a2\u30a4\u30c6\u30e0\u3092\u53d6\u5f97\uff08\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0\uff09 <code>offer(item)</code> \u30a2\u30a4\u30c6\u30e0\u3092\u8ffd\u52a0\uff08\u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0\uff09 <code>poll()</code> \u30a2\u30a4\u30c6\u30e0\u3092\u53d6\u5f97\uff08\u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0\uff09"},{"location":"java/part-4/#_6","title":"\u5b9f\u884c\u65b9\u6cd5","text":"<pre><code>cd apps/java\n./gradlew test --tests \"concurrency.ch07.*\"\n</code></pre>"},{"location":"java/part-4/#_7","title":"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7","text":"<p>Part V \u3067\u306f\u3001\u540c\u671f\u3068\u6392\u4ed6\u5236\u5fa1\u3092\u5b66\u3073\u307e\u3059\u3002\u30ec\u30fc\u30b9\u30b3\u30f3\u30c7\u30a3\u30b7\u30e7\u30f3\u3001\u30c7\u30c3\u30c9\u30ed\u30c3\u30af\u306a\u3069\u306e\u554f\u984c\u3068\u3001Lock\u3001Semaphore \u306b\u3088\u308b\u89e3\u6c7a\u7b56\u3092\u7406\u89e3\u3057\u307e\u3059\u3002</p>"},{"location":"java/part-4/#_8","title":"\u53c2\u8003\u30b3\u30fc\u30c9","text":"<ul> <li>apps/java/src/main/java/concurrency/ch07/VoteCounter.java</li> <li>apps/java/src/main/java/concurrency/ch07/Pipeline.java</li> </ul>"},{"location":"java/part-5/","title":"Part V: \u540c\u671f\u3068\u6392\u4ed6\u5236\u5fa1","text":""},{"location":"java/part-5/#_1","title":"\u6982\u8981","text":"<p>\u672c\u7ae0\u3067\u306f\u3001\u4e26\u884c\u51e6\u7406\u306b\u304a\u3051\u308b\u540c\u671f\u3068\u6392\u4ed6\u5236\u5fa1\u3092\u5b66\u3073\u307e\u3059\u3002\u30ec\u30fc\u30b9\u30b3\u30f3\u30c7\u30a3\u30b7\u30e7\u30f3\u3001\u30c7\u30c3\u30c9\u30ed\u30c3\u30af\u306a\u3069\u306e\u554f\u984c\u3068\u3001Lock\u3001Semaphore \u306b\u3088\u308b\u89e3\u6c7a\u7b56\u3092\u7406\u89e3\u3057\u307e\u3059\u3002</p>"},{"location":"java/part-5/#8-lock","title":"\u7b2c8\u7ae0: Lock \u3068\u6392\u4ed6\u5236\u5fa1","text":""},{"location":"java/part-5/#_2","title":"\u30ec\u30fc\u30b9\u30b3\u30f3\u30c7\u30a3\u30b7\u30e7\u30f3","text":"<p>\u8907\u6570\u306e\u30b9\u30ec\u30c3\u30c9\u304c\u5171\u6709\u30ea\u30bd\u30fc\u30b9\u306b\u540c\u6642\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001\u4e88\u671f\u3057\u306a\u3044\u7d50\u679c\u304c\u767a\u751f\u3059\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"java/part-5/#_3","title":"\u9280\u884c\u53e3\u5ea7\u306e\u4f8b","text":"<p>\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb: <code>apps/java/src/main/java/concurrency/ch08/BankAccount.java</code></p> <pre><code>public class BankAccount {\n    private final Lock lock = new ReentrantLock();\n    private int balance;\n\n    public void deposit(int amount) {\n        lock.lock();\n        try {\n            balance += amount;\n        } finally {\n            lock.unlock();\n        }\n    }\n\n    public boolean withdraw(int amount) {\n        lock.lock();\n        try {\n            if (balance &gt;= amount) {\n                balance -= amount;\n                return true;\n            }\n            return false;\n        } finally {\n            lock.unlock();\n        }\n    }\n}\n</code></pre>"},{"location":"java/part-5/#_4","title":"\u30c7\u30c3\u30c9\u30ed\u30c3\u30af\u56de\u907f","text":"<p>\u8907\u6570\u306e\u30ed\u30c3\u30af\u3092\u53d6\u5f97\u3059\u308b\u5834\u5408\u3001\u5e38\u306b\u540c\u3058\u9806\u5e8f\u3067\u30ed\u30c3\u30af\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u3067\u30c7\u30c3\u30c9\u30ed\u30c3\u30af\u3092\u56de\u907f\u3067\u304d\u307e\u3059\u3002</p> <pre><code>public static boolean transfer(BankAccount from, BankAccount to, int amount) {\n    // \u5e38\u306b\u540c\u3058\u9806\u5e8f\u3067\u30ed\u30c3\u30af\u3092\u53d6\u5f97\n    BankAccount first = System.identityHashCode(from) &lt; System.identityHashCode(to) ? from : to;\n    BankAccount second = first == from ? to : from;\n\n    first.lock.lock();\n    try {\n        second.lock.lock();\n        try {\n            if (from.balance &gt;= amount) {\n                from.balance -= amount;\n                to.balance += amount;\n                return true;\n            }\n            return false;\n        } finally {\n            second.lock.unlock();\n        }\n    } finally {\n        first.lock.unlock();\n    }\n}\n</code></pre>"},{"location":"java/part-5/#_5","title":"\u540c\u671f\u30d7\u30ea\u30df\u30c6\u30a3\u30d6","text":"API \u8aac\u660e <code>ReentrantLock</code> \u518d\u5165\u53ef\u80fd\u306a\u30ed\u30c3\u30af <code>ReadWriteLock</code> \u8aad\u307f\u53d6\u308a/\u66f8\u304d\u8fbc\u307f\u30ed\u30c3\u30af <code>Semaphore</code> \u30ab\u30a6\u30f3\u30c6\u30a3\u30f3\u30b0\u30bb\u30de\u30d5\u30a9 <code>CountDownLatch</code> \u30ab\u30a6\u30f3\u30c8\u30c0\u30a6\u30f3\u30e9\u30c3\u30c1 <code>CyclicBarrier</code> \u30b5\u30a4\u30af\u30ea\u30c3\u30af\u30d0\u30ea\u30a2"},{"location":"java/part-5/#_6","title":"\u5b9f\u884c\u65b9\u6cd5","text":"<pre><code>cd apps/java\n./gradlew test --tests \"concurrency.ch08.*\"\n</code></pre>"},{"location":"java/part-5/#_7","title":"\u53c2\u8003\u30b3\u30fc\u30c9","text":"<ul> <li>apps/java/src/main/java/concurrency/ch08/BankAccount.java</li> </ul>"},{"location":"java/part-6/","title":"Part VI: \u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 I/O","text":""},{"location":"java/part-6/#_1","title":"\u6982\u8981","text":"<p>\u672c\u7ae0\u3067\u306f\u3001\u30b9\u30ec\u30c3\u30c9\u3092\u4f7f\u308f\u305a\u306b\u4e26\u884c\u51e6\u7406\u3092\u5b9f\u73fe\u3059\u308b\u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 I/O \u3068\u30a4\u30d9\u30f3\u30c8\u99c6\u52d5\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3092\u5b66\u3073\u307e\u3059\u3002Java NIO \u3092\u4f7f\u3063\u305f\u5b9f\u88c5\u3092\u901a\u3058\u3066\u7406\u89e3\u3092\u6df1\u3081\u307e\u3059\u3002</p>"},{"location":"java/part-6/#java-nio","title":"Java NIO \u306e\u4e3b\u8981\u30af\u30e9\u30b9","text":"\u30af\u30e9\u30b9 \u8aac\u660e <code>Selector</code> I/O \u591a\u91cd\u5316\u30bb\u30ec\u30af\u30bf <code>Channel</code> I/O \u30c1\u30e3\u30cd\u30eb <code>ByteBuffer</code> \u30d0\u30a4\u30c8\u30d0\u30c3\u30d5\u30a1 <code>SelectionKey</code> \u30bb\u30ec\u30af\u30b7\u30e7\u30f3\u30ad\u30fc"},{"location":"java/part-6/#io","title":"\u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 I/O \u306e\u4f8b","text":"<pre><code>// \u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0\u30e2\u30fc\u30c9\u306b\u8a2d\u5b9a\nchannel.configureBlocking(false);\n\n// \u30bb\u30ec\u30af\u30bf\u306b\u767b\u9332\nselector.register(channel, SelectionKey.OP_READ);\n\n// \u30a4\u30d9\u30f3\u30c8\u30eb\u30fc\u30d7\nwhile (true) {\n    selector.select();\n    for (SelectionKey key : selector.selectedKeys()) {\n        if (key.isReadable()) {\n            // \u8aad\u307f\u53d6\u308a\u51e6\u7406\n        }\n    }\n}\n</code></pre>"},{"location":"java/part-6/#_2","title":"\u30b7\u30f3\u30b0\u30eb\u30b9\u30ec\u30c3\u30c9\u306e\u5229\u70b9","text":"\u5229\u70b9 \u8aac\u660e \u30ed\u30c3\u30af\u4e0d\u8981 \u5171\u6709\u72b6\u614b\u306e\u7af6\u5408\u306a\u3057 \u8efd\u91cf \u30b9\u30ec\u30c3\u30c9\u306e\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u306a\u3057 \u30b9\u30b1\u30fc\u30e9\u30d6\u30eb \u5927\u91cf\u63a5\u7d9a\u3092\u52b9\u7387\u7684\u306b\u51e6\u7406 \u4e88\u6e2c\u53ef\u80fd \u5b9f\u884c\u9806\u5e8f\u304c\u660e\u78ba"},{"location":"java/part-6/#_3","title":"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7","text":"<p>Part VII \u3067\u306f\u3001Java \u306e CompletableFuture \u3068 Virtual Threads \u3092\u4f7f\u3063\u305f\u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3092\u5b66\u3073\u307e\u3059\u3002</p>"},{"location":"java/part-6/#_4","title":"\u53c2\u8003\u8cc7\u6599","text":"<ul> <li>Java NIO Tutorial</li> </ul>"},{"location":"java/part-7/","title":"Part VII: \u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0","text":""},{"location":"java/part-7/#_1","title":"\u6982\u8981","text":"<p>\u672c\u7ae0\u3067\u306f\u3001Java \u306e CompletableFuture \u3068 Virtual Threads\uff08Java 21\uff09\u3092\u4f7f\u3063\u305f\u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3092\u5b66\u3073\u307e\u3059\u3002</p>"},{"location":"java/part-7/#completablefuture","title":"CompletableFuture","text":""},{"location":"java/part-7/#_2","title":"\u57fa\u672c\u7684\u306a\u4f7f\u3044\u65b9","text":"<pre><code>CompletableFuture&lt;String&gt; future = CompletableFuture.supplyAsync(() -&gt; {\n    // \u975e\u540c\u671f\u51e6\u7406\n    return \"Result\";\n});\n\n// \u7d50\u679c\u3092\u53d6\u5f97\nString result = future.get();\n</code></pre>"},{"location":"java/part-7/#_3","title":"\u30c1\u30a7\u30fc\u30f3\u51e6\u7406","text":"<pre><code>CompletableFuture.supplyAsync(() -&gt; fetchData())\n    .thenApply(data -&gt; process(data))\n    .thenAccept(result -&gt; save(result));\n</code></pre>"},{"location":"java/part-7/#_4","title":"\u4e26\u884c\u5b9f\u884c","text":"<pre><code>CompletableFuture&lt;String&gt; future1 = CompletableFuture.supplyAsync(() -&gt; fetchData1());\nCompletableFuture&lt;String&gt; future2 = CompletableFuture.supplyAsync(() -&gt; fetchData2());\n\n// \u3059\u3079\u3066\u306e\u5b8c\u4e86\u3092\u5f85\u6a5f\nCompletableFuture.allOf(future1, future2).join();\n</code></pre>"},{"location":"java/part-7/#virtual-threads-java-21","title":"Virtual Threads (Java 21+)","text":""},{"location":"java/part-7/#_5","title":"\u57fa\u672c\u7684\u306a\u4f7f\u3044\u65b9","text":"<pre><code>// Virtual Thread \u3067\u5b9f\u884c\nThread.startVirtualThread(() -&gt; {\n    System.out.println(\"Running in virtual thread\");\n});\n\n// Virtual Thread \u306e ExecutorService\ntry (var executor = Executors.newVirtualThreadPerTaskExecutor()) {\n    executor.submit(() -&gt; {\n        System.out.println(\"Task in virtual thread\");\n    });\n}\n</code></pre>"},{"location":"java/part-7/#_6","title":"\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u30b9\u30ec\u30c3\u30c9\u3068\u306e\u9055\u3044","text":"\u7279\u6027 \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u30b9\u30ec\u30c3\u30c9 Virtual Thread \u4f5c\u6210\u30b3\u30b9\u30c8 \u9ad8\u3044 \u4f4e\u3044 \u30e1\u30e2\u30ea ~1MB/\u30b9\u30ec\u30c3\u30c9 ~KB/\u30b9\u30ec\u30c3\u30c9 \u6700\u5927\u6570 \u6570\u5343 \u6570\u767e\u4e07 \u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 \u975e\u52b9\u7387 \u52b9\u7387\u7684"},{"location":"java/part-7/#_7","title":"\u4f7f\u3044\u5206\u3051\u306e\u6307\u91dd","text":"\u30b7\u30ca\u30ea\u30aa \u63a8\u5968 I/O \u30d0\u30a6\u30f3\u30c9 Virtual Thread / CompletableFuture CPU \u30d0\u30a6\u30f3\u30c9 \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u30b9\u30ec\u30c3\u30c9 \u6df7\u5408 Virtual Thread + \u4e26\u5217\u30b9\u30c8\u30ea\u30fc\u30e0"},{"location":"java/part-7/#_8","title":"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7","text":"<p>Part VIII \u3067\u306f\u3001MapReduce \u30d1\u30bf\u30fc\u30f3\u3068\u5206\u6563\u4e26\u5217\u51e6\u7406\u3092\u5b66\u3073\u307e\u3059\u3002</p>"},{"location":"java/part-7/#_9","title":"\u53c2\u8003\u8cc7\u6599","text":"<ul> <li>Java CompletableFuture</li> <li>Virtual Threads (JEP 444)</li> </ul>"},{"location":"java/part-8/","title":"Part VIII: \u5206\u6563\u4e26\u5217\u51e6\u7406","text":""},{"location":"java/part-8/#_1","title":"\u6982\u8981","text":"<p>\u672c\u7ae0\u3067\u306f\u3001MapReduce \u30d1\u30bf\u30fc\u30f3\u3092\u4f7f\u3063\u305f\u5206\u6563\u4e26\u5217\u51e6\u7406\u3092\u5b66\u3073\u307e\u3059\u3002\u884c\u5217\u4e57\u7b97\u3068\u30ef\u30fc\u30c9\u30ab\u30a6\u30f3\u30c8\u306e\u5b9f\u88c5\u3092\u901a\u3058\u3066\u3001\u5927\u898f\u6a21\u30c7\u30fc\u30bf\u306e\u4e26\u5217\u51e6\u7406\u624b\u6cd5\u3092\u7406\u89e3\u3057\u307e\u3059\u3002</p>"},{"location":"java/part-8/#mapreduce","title":"MapReduce \u30d1\u30bf\u30fc\u30f3","text":""},{"location":"java/part-8/#_2","title":"\u51e6\u7406\u30d5\u30ed\u30fc","text":""},{"location":"java/part-8/#_3","title":"\u30ef\u30fc\u30c9\u30ab\u30a6\u30f3\u30c8\u306e\u4f8b","text":"<pre><code>public class WordCount {\n\n    // Map: \u30c6\u30ad\u30b9\u30c8\u3092 (word, 1) \u306e\u30da\u30a2\u306b\u5909\u63db\n    public static List&lt;Map.Entry&lt;String, Integer&gt;&gt; map(String text) {\n        return Arrays.stream(text.toLowerCase().split(\"\\\\s+\"))\n            .map(word -&gt; Map.entry(word, 1))\n            .toList();\n    }\n\n    // Reduce: \u540c\u3058\u5358\u8a9e\u306e\u30ab\u30a6\u30f3\u30c8\u3092\u96c6\u7d04\n    public static Map&lt;String, Integer&gt; reduce(List&lt;Map.Entry&lt;String, Integer&gt;&gt; pairs) {\n        return pairs.stream()\n            .collect(Collectors.groupingBy(\n                Map.Entry::getKey,\n                Collectors.summingInt(Map.Entry::getValue)\n            ));\n    }\n\n    // MapReduce\n    public static Map&lt;String, Integer&gt; wordCount(List&lt;String&gt; texts) {\n        // Map \u30d5\u30a7\u30fc\u30ba\uff08\u4e26\u5217\uff09\n        List&lt;Map.Entry&lt;String, Integer&gt;&gt; mapped = texts.parallelStream()\n            .flatMap(text -&gt; map(text).stream())\n            .toList();\n\n        // Reduce \u30d5\u30a7\u30fc\u30ba\n        return reduce(mapped);\n    }\n}\n</code></pre>"},{"location":"java/part-8/#_4","title":"\u307e\u3068\u3081","text":"<p>\u672c\u30b7\u30ea\u30fc\u30ba\u3067\u5b66\u3093\u3060\u5185\u5bb9:</p> Part \u30c8\u30d4\u30c3\u30af \u30ad\u30fc\u30dd\u30a4\u30f3\u30c8 I \u9010\u6b21\u51e6\u7406 \u57fa\u672c\u6982\u5ff5\u3001\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6e2c\u5b9a II \u30b9\u30ec\u30c3\u30c9/\u30d7\u30ed\u30bb\u30b9 ExecutorService\u3001\u30b9\u30ec\u30c3\u30c9\u30d7\u30fc\u30eb III \u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0 \u30bf\u30a4\u30e0\u30b7\u30a7\u30a2\u30ea\u30f3\u30b0 IV \u4e26\u5217\u30d1\u30bf\u30fc\u30f3 Fork/Join\u3001\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3 V \u540c\u671f Lock\u3001\u30c7\u30c3\u30c9\u30ed\u30c3\u30af VI \u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 I/O NIO\u3001Selector VII \u975e\u540c\u671f CompletableFuture\u3001Virtual Threads VIII \u5206\u6563\u51e6\u7406 MapReduce"},{"location":"java/part-8/#_5","title":"\u53c2\u8003\u8cc7\u6599","text":"<ul> <li>Grokking Concurrency - \u539f\u8457</li> <li>Java Concurrency in Practice - Java \u4e26\u884c\u51e6\u7406\u306e\u540d\u8457</li> <li>Java 21 Documentation</li> </ul>"},{"location":"python/","title":"Grokking Concurrency - Python \u7248","text":"<p>\u672c\u30b7\u30ea\u30fc\u30ba\u306f\u300cGrokking Concurrency\u300d\uff08Kirill Bobrov \u8457\uff09\u306e\u5b66\u7fd2\u30b3\u30f3\u30d1\u30cb\u30aa\u30f3\u3068\u3057\u3066\u3001\u4e26\u884c\u51e6\u7406\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u6982\u5ff5\u3092 Python \u3067\u5b9f\u88c5\u3057\u306a\u304c\u3089\u65e5\u672c\u8a9e\u3067\u89e3\u8aac\u3057\u307e\u3059\u3002</p>"},{"location":"python/#_1","title":"\u5bfe\u8c61\u8aad\u8005","text":"<ul> <li>Python \u306e\u7d4c\u9a13\u304c\u3042\u308a\u3001\u4e26\u884c\u51e6\u7406\u306b\u8208\u5473\u304c\u3042\u308b\u958b\u767a\u8005</li> <li>\u30de\u30eb\u30c1\u30b9\u30ec\u30c3\u30c9\u3001\u30de\u30eb\u30c1\u30d7\u30ed\u30bb\u30b9\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3092\u5b66\u3073\u305f\u3044\u65b9</li> <li>\u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\uff08asyncio\uff09\u3092\u7406\u89e3\u3057\u305f\u3044\u30a8\u30f3\u30b8\u30cb\u30a2</li> <li>\u4e26\u884c\u51e6\u7406\u306e\u554f\u984c\uff08\u30c7\u30c3\u30c9\u30ed\u30c3\u30af\u3001\u30ec\u30fc\u30b9\u30b3\u30f3\u30c7\u30a3\u30b7\u30e7\u30f3\uff09\u3092\u7406\u89e3\u3057\u305f\u3044\u65b9</li> </ul>"},{"location":"python/#_2","title":"\u8a18\u4e8b\u4e00\u89a7","text":""},{"location":"python/#part-i","title":"Part I: \u4e26\u884c\u51e6\u7406\u306e\u57fa\u790e","text":"<p>\u9010\u6b21\u51e6\u7406\u3068\u4e26\u884c\u51e6\u7406\u306e\u9055\u3044\u3001\u57fa\u672c\u6982\u5ff5\u3092\u5b66\u3073\u307e\u3059\u3002</p> \u7ae0 \u30c8\u30d4\u30c3\u30af \u7b2c2\u7ae0 \u9010\u6b21\u51e6\u7406\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u30af\u30e9\u30c3\u30ad\u30f3\u30b0\u4f8b <p>\u30ad\u30fc\u30ef\u30fc\u30c9: \u9010\u6b21\u51e6\u7406\u3001\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6e2c\u5b9a\u3001\u30d6\u30eb\u30fc\u30c8\u30d5\u30a9\u30fc\u30b9</p>"},{"location":"python/#part-ii","title":"Part II: \u30d7\u30ed\u30bb\u30b9\u3068\u30b9\u30ec\u30c3\u30c9","text":"<p>OS \u30ec\u30d9\u30eb\u306e\u4e26\u884c\u51e6\u7406\u306e\u57fa\u672c\u5358\u4f4d\u3092\u5b66\u3073\u307e\u3059\u3002</p> \u7ae0 \u30c8\u30d4\u30c3\u30af \u7b2c4\u7ae0 \u30d7\u30ed\u30bb\u30b9\u3001\u30b9\u30ec\u30c3\u30c9\u3001\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb \u7b2c5\u7ae0 \u30b9\u30ec\u30c3\u30c9\u30d7\u30fc\u30eb\u3001IPC\u3001\u4e26\u5217\u51e6\u7406 <p>\u30ad\u30fc\u30ef\u30fc\u30c9: Process\u3001Thread\u3001fork\u3001\u30b9\u30ec\u30c3\u30c9\u30d7\u30fc\u30eb\u3001IPC</p>"},{"location":"python/#part-iii","title":"Part III: \u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0\u3068\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0","text":"<p>\u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0\u3068\u30bf\u30a4\u30e0\u30b7\u30a7\u30a2\u30ea\u30f3\u30b0\u306e\u6982\u5ff5\u3092\u5b66\u3073\u307e\u3059\u3002</p> \u7ae0 \u30c8\u30d4\u30c3\u30af \u7b2c6\u7ae0 \u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0\u3001\u30bf\u30a4\u30e0\u30b7\u30a7\u30a2\u30ea\u30f3\u30b0\u3001\u30b2\u30fc\u30e0\u30eb\u30fc\u30d7 <p>\u30ad\u30fc\u30ef\u30fc\u30c9: \u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0\u3001\u30bf\u30a4\u30e0\u30b7\u30a7\u30a2\u30ea\u30f3\u30b0\u3001\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0</p>"},{"location":"python/#part-iv","title":"Part IV: \u30bf\u30b9\u30af\u5206\u89e3\u3068\u4e26\u5217\u30d1\u30bf\u30fc\u30f3","text":"<p>\u4e26\u5217\u51e6\u7406\u306e\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u3092\u5b66\u3073\u307e\u3059\u3002</p> \u7ae0 \u30c8\u30d4\u30c3\u30af \u7b2c7\u7ae0 \u30bf\u30b9\u30af\u5206\u89e3\u3001Fork/Join\u3001\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3 <p>\u30ad\u30fc\u30ef\u30fc\u30c9: Fork/Join\u3001\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3001\u30c7\u30fc\u30bf\u4e26\u5217\u3001\u30bf\u30b9\u30af\u4e26\u5217</p>"},{"location":"python/#part-v","title":"Part V: \u540c\u671f\u3068\u6392\u4ed6\u5236\u5fa1","text":"<p>\u4e26\u884c\u51e6\u7406\u306b\u304a\u3051\u308b\u540c\u671f\u554f\u984c\u3068\u89e3\u6c7a\u7b56\u3092\u5b66\u3073\u307e\u3059\u3002</p> \u7ae0 \u30c8\u30d4\u30c3\u30af \u7b2c8\u7ae0 \u30ec\u30fc\u30b9\u30b3\u30f3\u30c7\u30a3\u30b7\u30e7\u30f3\u3001Lock\u3001Semaphore \u7b2c9\u7ae0 \u30c7\u30c3\u30c9\u30ed\u30c3\u30af\u3001\u30e9\u30a4\u30d6\u30ed\u30c3\u30af\u3001\u30b9\u30bf\u30d9\u30fc\u30b7\u30e7\u30f3 <p>\u30ad\u30fc\u30ef\u30fc\u30c9: Lock\u3001Semaphore\u3001\u30ec\u30fc\u30b9\u30b3\u30f3\u30c7\u30a3\u30b7\u30e7\u30f3\u3001\u30c7\u30c3\u30c9\u30ed\u30c3\u30af</p>"},{"location":"python/#part-vi-io","title":"Part VI: \u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 I/O","text":"<p>\u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 I/O \u3068\u30a4\u30d9\u30f3\u30c8\u99c6\u52d5\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3092\u5b66\u3073\u307e\u3059\u3002</p> \u7ae0 \u30c8\u30d4\u30c3\u30af \u7b2c10\u7ae0 \u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 vs \u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 I/O \u7b2c11\u7ae0 \u30a4\u30d9\u30f3\u30c8\u30eb\u30fc\u30d7\u3001Reactor \u30d1\u30bf\u30fc\u30f3 <p>\u30ad\u30fc\u30ef\u30fc\u30c9: \u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 I/O\u3001\u30a4\u30d9\u30f3\u30c8\u30eb\u30fc\u30d7\u3001Reactor</p>"},{"location":"python/#part-vii","title":"Part VII: \u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0","text":"<p>Python \u306e asyncio \u3092\u4f7f\u3063\u305f\u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3092\u5b66\u3073\u307e\u3059\u3002</p> \u7ae0 \u30c8\u30d4\u30c3\u30af \u7b2c12\u7ae0 Future\u3001Coroutine\u3001async/await <p>\u30ad\u30fc\u30ef\u30fc\u30c9: asyncio\u3001Future\u3001Coroutine\u3001async/await</p>"},{"location":"python/#part-viii","title":"Part VIII: \u5206\u6563\u4e26\u5217\u51e6\u7406","text":"<p>MapReduce \u30d1\u30bf\u30fc\u30f3\u3068\u5206\u6563\u51e6\u7406\u3092\u5b66\u3073\u307e\u3059\u3002</p> \u7ae0 \u30c8\u30d4\u30c3\u30af \u7b2c13\u7ae0 MapReduce\u3001\u884c\u5217\u4e57\u7b97\u3001\u30ef\u30fc\u30c9\u30ab\u30a6\u30f3\u30c8 <p>\u30ad\u30fc\u30ef\u30fc\u30c9: MapReduce\u3001\u5206\u6563\u51e6\u7406\u3001\u4e26\u5217\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0</p>"},{"location":"python/#_3","title":"\u5b66\u7fd2\u30d1\u30b9","text":""},{"location":"python/#_4","title":"\u4f7f\u7528\u30e9\u30a4\u30d6\u30e9\u30ea","text":"\u30e9\u30a4\u30d6\u30e9\u30ea \u7528\u9014 \u5bfe\u5fdc\u7ae0 Python 3.9+ \u8a00\u8a9e \u5168\u7ae0 threading \u30b9\u30ec\u30c3\u30c9\u64cd\u4f5c Part II-V multiprocessing \u30d7\u30ed\u30bb\u30b9\u64cd\u4f5c Part II, IV, VIII asyncio \u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0 Part VII concurrent.futures \u9ad8\u30ec\u30d9\u30eb\u4e26\u884c\u51e6\u7406 Part II, IV"},{"location":"python/#_5","title":"\u30ea\u30dd\u30b8\u30c8\u30ea\u69cb\u6210","text":"<pre><code>grokking_concurrency/\n\u251c\u2500\u2500 apps/python/                  # Python \u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\n\u2502   \u251c\u2500\u2500 Chapter 2/                # \u9010\u6b21\u51e6\u7406\n\u2502   \u251c\u2500\u2500 Chapter 4/                # \u30d7\u30ed\u30bb\u30b9\u3068\u30b9\u30ec\u30c3\u30c9\n\u2502   \u251c\u2500\u2500 Chapter 5/                # \u30b9\u30ec\u30c3\u30c9\u30d7\u30fc\u30eb\u3001IPC\n\u2502   \u251c\u2500\u2500 Chapter 6/                # \u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0\n\u2502   \u251c\u2500\u2500 Chapter 7/                # \u30bf\u30b9\u30af\u5206\u89e3\n\u2502   \u251c\u2500\u2500 Chapter 8/                # \u540c\u671f\u554f\u984c\n\u2502   \u251c\u2500\u2500 Chapter 9/                # \u30c7\u30c3\u30c9\u30ed\u30c3\u30af\n\u2502   \u251c\u2500\u2500 Chapter 10/               # \u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 I/O\n\u2502   \u251c\u2500\u2500 Chapter 11/               # \u30a4\u30d9\u30f3\u30c8\u30eb\u30fc\u30d7\n\u2502   \u251c\u2500\u2500 Chapter 12/               # \u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\n\u2502   \u2514\u2500\u2500 Chapter 13/               # MapReduce\n\u251c\u2500\u2500 docs/journal/                 # \u958b\u767a\u5c65\u6b74\n\u2514\u2500\u2500 docs/wiki/\u8a18\u4e8b/...            # \u89e3\u8aac\u8a18\u4e8b\uff08\u672c\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\uff09\n    \u251c\u2500\u2500 index.md                  # \u3053\u306e\u8a18\u4e8b\n    \u251c\u2500\u2500 part-1.md                 # Part I\n    \u251c\u2500\u2500 part-2.md                 # Part II\n    \u2514\u2500\u2500 ...                       # \u4ee5\u964d\u306e Part\n</code></pre>"},{"location":"python/#python","title":"Python \u3068\u4e26\u884c\u51e6\u7406","text":"<p>Python \u306f\u4e26\u884c\u51e6\u7406\u306e\u591a\u304f\u306e\u6982\u5ff5\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059:</p>"},{"location":"python/#_6","title":"\u30d7\u30ed\u30bb\u30b9\u3068\u30b9\u30ec\u30c3\u30c9","text":"<pre><code>from threading import Thread\nfrom multiprocessing import Process\n\ndef worker(name: str) -&gt; None:\n    print(f\"Hello from {name}\")\n\n# \u30b9\u30ec\u30c3\u30c9\u3092\u4f7f\u7528\nthread = Thread(target=worker, args=(\"Thread-1\",))\nthread.start()\nthread.join()\n\n# \u30d7\u30ed\u30bb\u30b9\u3092\u4f7f\u7528\nprocess = Process(target=worker, args=(\"Process-1\",))\nprocess.start()\nprocess.join()\n</code></pre>"},{"location":"python/#_7","title":"\u30b9\u30ec\u30c3\u30c9\u30d7\u30fc\u30eb","text":"<pre><code>from concurrent.futures import ThreadPoolExecutor\n\ndef task(n: int) -&gt; int:\n    return n * 2\n\nwith ThreadPoolExecutor(max_workers=4) as executor:\n    futures = [executor.submit(task, i) for i in range(10)]\n    results = [f.result() for f in futures]\n</code></pre>"},{"location":"python/#_8","title":"\u540c\u671f\u30d7\u30ea\u30df\u30c6\u30a3\u30d6","text":"<pre><code>from threading import Lock, Semaphore\n\nlock = Lock()\nsemaphore = Semaphore(3)\n\nwith lock:\n    # \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30bb\u30af\u30b7\u30e7\u30f3\n    pass\n\nwith semaphore:\n    # \u6700\u59273\u3064\u306e\u30b9\u30ec\u30c3\u30c9\u304c\u540c\u6642\u306b\u5b9f\u884c\u53ef\u80fd\n    pass\n</code></pre>"},{"location":"python/#_9","title":"\u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0","text":"<pre><code>import asyncio\n\nasync def fetch_data(url: str) -&gt; str:\n    await asyncio.sleep(1)  # I/O \u5f85\u3061\n    return f\"Data from {url}\"\n\nasync def main():\n    tasks = [fetch_data(f\"url_{i}\") for i in range(5)]\n    results = await asyncio.gather(*tasks)\n    print(results)\n\nasyncio.run(main())\n</code></pre>"},{"location":"python/#_10","title":"\u4e3b\u8981\u306a\u6982\u5ff5","text":"<p>\u672c\u30b7\u30ea\u30fc\u30ba\u3092\u901a\u3058\u3066\u3001\u4ee5\u4e0b\u306e\u6982\u5ff5\u3092\u5b66\u3079\u307e\u3059:</p>"},{"location":"python/#vs","title":"\u4e26\u884c\u51e6\u7406 vs \u4e26\u5217\u51e6\u7406","text":"\u6982\u5ff5 \u8aac\u660e \u4e26\u884c\u51e6\u7406 (Concurrency) \u8907\u6570\u306e\u30bf\u30b9\u30af\u3092\u4ea4\u4e92\u306b\u5b9f\u884c\u3057\u3001\u9032\u884c\u3055\u305b\u308b \u4e26\u5217\u51e6\u7406 (Parallelism) \u8907\u6570\u306e\u30bf\u30b9\u30af\u3092\u7269\u7406\u7684\u306b\u540c\u6642\u306b\u5b9f\u884c\u3059\u308b"},{"location":"python/#gil-global-interpreter-lock","title":"GIL (Global Interpreter Lock)","text":"<p>Python \u306e CPython \u5b9f\u88c5\u306b\u306f GIL \u304c\u3042\u308a\u3001\u30de\u30eb\u30c1\u30b9\u30ec\u30c3\u30c9\u3067\u306e CPU \u30d0\u30a6\u30f3\u30c9\u51e6\u7406\u306b\u306f\u5236\u9650\u304c\u3042\u308a\u307e\u3059:</p> <ul> <li>I/O \u30d0\u30a6\u30f3\u30c9\u51e6\u7406: \u30b9\u30ec\u30c3\u30c9\u3067\u52b9\u679c\u7684</li> <li>CPU \u30d0\u30a6\u30f3\u30c9\u51e6\u7406: \u30d7\u30ed\u30bb\u30b9\u3067\u52b9\u679c\u7684</li> </ul>"},{"location":"python/#_11","title":"\u540c\u671f\u554f\u984c","text":"\u554f\u984c \u8aac\u660e \u89e3\u6c7a\u7b56 \u30ec\u30fc\u30b9\u30b3\u30f3\u30c7\u30a3\u30b7\u30e7\u30f3 \u8907\u6570\u30b9\u30ec\u30c3\u30c9\u304c\u5171\u6709\u30ea\u30bd\u30fc\u30b9\u306b\u7af6\u5408 Lock\u3001Mutex \u30c7\u30c3\u30c9\u30ed\u30c3\u30af \u76f8\u4e92\u306b\u30ea\u30bd\u30fc\u30b9\u3092\u5f85\u3061\u5408\u3044 \u9806\u5e8f\u4ed8\u3051\u3001\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8 \u30e9\u30a4\u30d6\u30ed\u30c3\u30af \u72b6\u614b\u304c\u5909\u5316\u3059\u308b\u304c\u9032\u884c\u3057\u306a\u3044 \u30d0\u30c3\u30af\u30aa\u30d5\u6226\u7565 \u30b9\u30bf\u30d9\u30fc\u30b7\u30e7\u30f3 \u7279\u5b9a\u30b9\u30ec\u30c3\u30c9\u304c\u30ea\u30bd\u30fc\u30b9\u3092\u53d6\u5f97\u3067\u304d\u306a\u3044 \u516c\u5e73\u306a\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0"},{"location":"python/#_12","title":"\u4e26\u884c\u51e6\u7406\u306e\u5229\u70b9","text":"<ol> <li>\u5fdc\u7b54\u6027\u5411\u4e0a - UI \u304c\u30d6\u30ed\u30c3\u30af\u3055\u308c\u306a\u3044</li> <li>\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u5411\u4e0a - \u8907\u6570\u30bf\u30b9\u30af\u3092\u540c\u6642\u51e6\u7406</li> <li>\u30ea\u30bd\u30fc\u30b9\u6709\u52b9\u6d3b\u7528 - CPU\u3001I/O \u306e\u5f85\u3061\u6642\u9593\u3092\u6d3b\u7528</li> <li>\u30b9\u30b1\u30fc\u30e9\u30d3\u30ea\u30c6\u30a3 - \u30de\u30eb\u30c1\u30b3\u30a2\u3092\u6d3b\u7528</li> </ol>"},{"location":"python/#_13","title":"\u53c2\u8003\u8cc7\u6599","text":"<ul> <li>Grokking Concurrency - \u539f\u8457</li> <li>Python \u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 - threading</li> <li>Python \u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 - multiprocessing</li> <li>Python \u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 - asyncio</li> <li>Real Python - Concurrency</li> </ul>"},{"location":"python/part-1/","title":"Part I: \u4e26\u884c\u51e6\u7406\u306e\u57fa\u790e","text":""},{"location":"python/part-1/#_1","title":"\u6982\u8981","text":"<p>\u672c\u7ae0\u3067\u306f\u3001\u4e26\u884c\u51e6\u7406\u3092\u5b66\u3076\u524d\u63d0\u3068\u3057\u3066\u9010\u6b21\u51e6\u7406\uff08Sequential Processing\uff09\u306e\u57fa\u672c\u3092\u7406\u89e3\u3057\u307e\u3059\u3002\u30d1\u30b9\u30ef\u30fc\u30c9\u30af\u30e9\u30c3\u30ad\u30f3\u30b0\u3092\u4f8b\u306b\u3001\u9010\u6b21\u51e6\u7406\u306e\u7279\u5fb4\u3068\u9650\u754c\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p>"},{"location":"python/part-1/#2","title":"\u7b2c2\u7ae0: \u9010\u6b21\u51e6\u7406","text":""},{"location":"python/part-1/#_2","title":"\u9010\u6b21\u51e6\u7406\u3068\u306f","text":"<p>\u9010\u6b21\u51e6\u7406\u306f\u3001\u30bf\u30b9\u30af\u3092\u4e00\u3064\u305a\u3064\u9806\u756a\u306b\u5b9f\u884c\u3059\u308b\u6700\u3082\u57fa\u672c\u7684\u306a\u51e6\u7406\u65b9\u5f0f\u3067\u3059\u3002</p> <p></p>"},{"location":"python/part-1/#_3","title":"\u30d1\u30b9\u30ef\u30fc\u30c9\u30af\u30e9\u30c3\u30ad\u30f3\u30b0\u306e\u4f8b","text":"<p>\u30d6\u30eb\u30fc\u30c8\u30d5\u30a9\u30fc\u30b9\uff08\u7dcf\u5f53\u305f\u308a\uff09\u3067\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u89e3\u8aad\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u901a\u3058\u3066\u3001\u9010\u6b21\u51e6\u7406\u306e\u7279\u5fb4\u3092\u5b66\u3073\u307e\u3059\u3002</p>"},{"location":"python/part-1/#_4","title":"\u5b9f\u88c5\u306e\u5168\u4f53\u50cf","text":"<pre><code>#!/usr/bin/env python3\n\n\"\"\"\u30d1\u30b9\u30ef\u30fc\u30c9\u30af\u30e9\u30c3\u30ad\u30f3\u30b0\uff08\u9010\u6b21\u51e6\u7406\u7248\uff09\"\"\"\n\nimport time\nimport math\nimport hashlib\nimport typing as T\n\n\ndef get_combinations(*, length: int, min_number: int = 0,\n                     max_number: T.Optional[int] = None) -&gt; T.List[str]:\n    \"\"\"\u5168\u3066\u306e\u53ef\u80fd\u306a\u30d1\u30b9\u30ef\u30fc\u30c9\u7d44\u307f\u5408\u308f\u305b\u3092\u751f\u6210\"\"\"\n    combinations = []\n    if not max_number:\n        max_number = int(math.pow(10, length) - 1)\n\n    for i in range(min_number, max_number + 1):\n        str_num = str(i)\n        zeros = \"0\" * (length - len(str_num))\n        combinations.append(\"\".join((zeros, str_num)))\n    return combinations\n\n\ndef get_crypto_hash(password: str) -&gt; str:\n    \"\"\"\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u6697\u53f7\u30cf\u30c3\u30b7\u30e5\u3092\u8a08\u7b97\"\"\"\n    return hashlib.sha256(password.encode()).hexdigest()\n\n\ndef check_password(expected_crypto_hash: str,\n                   possible_password: str) -&gt; bool:\n    \"\"\"\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u4e00\u81f4\u3059\u308b\u304b\u78ba\u8a8d\"\"\"\n    actual_crypto_hash = get_crypto_hash(possible_password)\n    return expected_crypto_hash == actual_crypto_hash\n\n\ndef crack_password(crypto_hash: str, length: int) -&gt; None:\n    \"\"\"\u30d6\u30eb\u30fc\u30c8\u30d5\u30a9\u30fc\u30b9\u3067\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u89e3\u8aad\"\"\"\n    print(\"Processing number combinations sequentially\")\n    start_time = time.perf_counter()\n\n    combinations = get_combinations(length=length)\n    for combination in combinations:\n        if check_password(crypto_hash, combination):\n            print(f\"PASSWORD CRACKED: {combination}\")\n            break\n\n    process_time = time.perf_counter() - start_time\n    print(f\"PROCESS TIME: {process_time}\")\n\n\nif __name__ == \"__main__\":\n    # \"12345678\" \u306eSHA-256\u30cf\u30c3\u30b7\u30e5\n    crypto_hash = \\\n        \"e24df920078c3dd4e7e8d2442f00e5c9ab2a231bb3918d65cc50906e49ecaef4\"\n    length = 8\n    crack_password(crypto_hash, length)\n</code></pre>"},{"location":"python/part-1/#_5","title":"\u30b3\u30fc\u30c9\u306e\u89e3\u8aac","text":""},{"location":"python/part-1/#1","title":"1. \u30d1\u30b9\u30ef\u30fc\u30c9\u7d44\u307f\u5408\u308f\u305b\u306e\u751f\u6210","text":"<pre><code>def get_combinations(*, length: int, min_number: int = 0,\n                     max_number: T.Optional[int] = None) -&gt; T.List[str]:\n    \"\"\"\u5168\u3066\u306e\u53ef\u80fd\u306a\u30d1\u30b9\u30ef\u30fc\u30c9\u7d44\u307f\u5408\u308f\u305b\u3092\u751f\u6210\"\"\"\n    combinations = []\n    if not max_number:\n        # 8\u6841\u306e\u5834\u5408: 10^8 - 1 = 99,999,999\n        max_number = int(math.pow(10, length) - 1)\n\n    for i in range(min_number, max_number + 1):\n        str_num = str(i)\n        # \u5148\u982d\u3092\u30bc\u30ed\u57cb\u3081: 1 \u2192 \"00000001\"\n        zeros = \"0\" * (length - len(str_num))\n        combinations.append(\"\".join((zeros, str_num)))\n    return combinations\n</code></pre> <p>8\u6841\u306e\u6570\u5b57\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u5834\u5408\u3001<code>00000000</code> \u304b\u3089 <code>99999999</code> \u307e\u3067 1\u5104\u901a\u308a\u306e\u7d44\u307f\u5408\u308f\u305b\u3092\u751f\u6210\u3057\u307e\u3059\u3002</p>"},{"location":"python/part-1/#2_1","title":"2. \u30cf\u30c3\u30b7\u30e5\u95a2\u6570","text":"<pre><code>def get_crypto_hash(password: str) -&gt; str:\n    \"\"\"\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u6697\u53f7\u30cf\u30c3\u30b7\u30e5\u3092\u8a08\u7b97\"\"\"\n    return hashlib.sha256(password.encode()).hexdigest()\n</code></pre> <p>SHA-256 \u3092\u4f7f\u7528\u3057\u3066\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u30cf\u30c3\u30b7\u30e5\u5316\u3057\u307e\u3059\u3002\u5b9f\u969b\u306e\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u5e73\u6587\u3067\u306f\u306a\u304f\u30cf\u30c3\u30b7\u30e5\u5024\u3068\u3057\u3066\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"python/part-1/#3","title":"3. \u30d1\u30b9\u30ef\u30fc\u30c9\u30c1\u30a7\u30c3\u30af","text":"<pre><code>def check_password(expected_crypto_hash: str,\n                   possible_password: str) -&gt; bool:\n    actual_crypto_hash = get_crypto_hash(possible_password)\n    return expected_crypto_hash == actual_crypto_hash\n</code></pre> <p>\u5019\u88dc\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u30cf\u30c3\u30b7\u30e5\u3068\u3001\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u30cf\u30c3\u30b7\u30e5\u3092\u6bd4\u8f03\u3057\u307e\u3059\u3002</p>"},{"location":"python/part-1/#_6","title":"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6e2c\u5b9a","text":"<pre><code>start_time = time.perf_counter()\n# ... \u51e6\u7406 ...\nprocess_time = time.perf_counter() - start_time\nprint(f\"PROCESS TIME: {process_time}\")\n</code></pre> <p><code>time.perf_counter()</code> \u306f\u9ad8\u7cbe\u5ea6\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30ab\u30a6\u30f3\u30bf\u30fc\u3067\u3001\u7d4c\u904e\u6642\u9593\u306e\u6e2c\u5b9a\u306b\u9069\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"python/part-1/#_7","title":"\u9010\u6b21\u51e6\u7406\u306e\u7279\u5fb4","text":""},{"location":"python/part-1/#_8","title":"\u5229\u70b9","text":"\u5229\u70b9 \u8aac\u660e \u30b7\u30f3\u30d7\u30eb \u5b9f\u88c5\u304c\u7c21\u5358\u3067\u7406\u89e3\u3057\u3084\u3059\u3044 \u4e88\u6e2c\u53ef\u80fd \u5b9f\u884c\u9806\u5e8f\u304c\u6c7a\u5b9a\u7684 \u30c7\u30d0\u30c3\u30b0\u5bb9\u6613 \u554f\u984c\u306e\u7279\u5b9a\u304c\u5bb9\u6613 \u7af6\u5408\u306a\u3057 \u5171\u6709\u30ea\u30bd\u30fc\u30b9\u306e\u7af6\u5408\u304c\u767a\u751f\u3057\u306a\u3044"},{"location":"python/part-1/#_9","title":"\u9650\u754c","text":"\u9650\u754c \u8aac\u660e \u9045\u3044 1\u5104\u901a\u308a\u30921\u3064\u305a\u3064\u51e6\u7406\u3059\u308b\u305f\u3081\u6642\u9593\u304c\u304b\u304b\u308b \u30ea\u30bd\u30fc\u30b9\u975e\u52b9\u7387 \u30de\u30eb\u30c1\u30b3\u30a2 CPU \u3092\u6d3b\u7528\u3067\u304d\u306a\u3044 \u30b9\u30b1\u30fc\u30eb\u3057\u306a\u3044 \u30c7\u30fc\u30bf\u91cf\u306b\u6bd4\u4f8b\u3057\u3066\u51e6\u7406\u6642\u9593\u304c\u5897\u52a0"},{"location":"python/part-1/#_10","title":"\u306a\u305c\u4e26\u884c\u51e6\u7406\u304c\u5fc5\u8981\u304b","text":"<p>8\u6841\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u30af\u30e9\u30c3\u30ad\u30f3\u30b0\u3067\u306f\u30011\u5104\u901a\u308a\u306e\u7d44\u307f\u5408\u308f\u305b\u3092\u9806\u756a\u306b\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002</p> <p></p> <p>4\u30b3\u30a2 CPU \u304c\u3042\u3063\u3066\u3082\u3001\u9010\u6b21\u51e6\u7406\u3067\u306f1\u30b3\u30a2\u3057\u304b\u4f7f\u7528\u3055\u308c\u307e\u305b\u3093\u3002\u4e26\u884c\u51e6\u7406\u3092\u4f7f\u3048\u3070\u3001\u8907\u6570\u30b3\u30a2\u306b\u4f5c\u696d\u3092\u5206\u6563\u3067\u304d\u307e\u3059\u3002</p> <p></p>"},{"location":"python/part-1/#_11","title":"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7","text":"<p>Part II \u3067\u306f\u3001\u30d7\u30ed\u30bb\u30b9\u3068\u30b9\u30ec\u30c3\u30c9\u3092\u4f7f\u3063\u3066\u4e26\u884c\u51e6\u7406\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\u30d1\u30b9\u30ef\u30fc\u30c9\u30af\u30e9\u30c3\u30ad\u30f3\u30b0\u3092\u4e26\u5217\u5316\u3057\u3001\u51e6\u7406\u6642\u9593\u3092\u5927\u5e45\u306b\u77ed\u7e2e\u3059\u308b\u65b9\u6cd5\u3092\u5b66\u3073\u307e\u3059\u3002</p>"},{"location":"python/part-1/#_12","title":"\u53c2\u8003\u30b3\u30fc\u30c9","text":"<ul> <li>apps/python/Chapter 2/password_cracking_sequential.py</li> </ul>"},{"location":"python/part-2/","title":"Part II: \u30d7\u30ed\u30bb\u30b9\u3068\u30b9\u30ec\u30c3\u30c9","text":""},{"location":"python/part-2/#_1","title":"\u6982\u8981","text":"<p>\u672c\u7ae0\u3067\u306f\u3001OS \u30ec\u30d9\u30eb\u306e\u4e26\u884c\u51e6\u7406\u306e\u57fa\u672c\u5358\u4f4d\u3067\u3042\u308b\u30d7\u30ed\u30bb\u30b9\u3068\u30b9\u30ec\u30c3\u30c9\u3092\u5b66\u3073\u307e\u3059\u3002Python \u3067\u306e\u5b9f\u88c5\u65b9\u6cd5\u3068\u3001\u30b9\u30ec\u30c3\u30c9\u30d7\u30fc\u30eb\u3001\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\uff08IPC\uff09\u306b\u3064\u3044\u3066\u3082\u89e3\u8aac\u3057\u307e\u3059\u3002</p>"},{"location":"python/part-2/#4","title":"\u7b2c4\u7ae0: \u30d7\u30ed\u30bb\u30b9\u3068\u30b9\u30ec\u30c3\u30c9\u306e\u57fa\u790e","text":""},{"location":"python/part-2/#_2","title":"\u30d7\u30ed\u30bb\u30b9\u3068\u306f","text":"<p>\u30d7\u30ed\u30bb\u30b9\u306f\u3001\u5b9f\u884c\u4e2d\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u3059\u3002\u72ec\u81ea\u306e\u30e1\u30e2\u30ea\u7a7a\u9593\u3001\u30d5\u30a1\u30a4\u30eb\u30cf\u30f3\u30c9\u30eb\u3001\u305d\u306e\u4ed6\u306e\u30ea\u30bd\u30fc\u30b9\u3092\u6301\u3061\u307e\u3059\u3002</p>"},{"location":"python/part-2/#_3","title":"\u30b9\u30ec\u30c3\u30c9\u3068\u306f","text":"<p>\u30b9\u30ec\u30c3\u30c9\u306f\u3001\u30d7\u30ed\u30bb\u30b9\u5185\u306e\u5b9f\u884c\u5358\u4f4d\u3067\u3059\u3002\u540c\u3058\u30d7\u30ed\u30bb\u30b9\u5185\u306e\u30b9\u30ec\u30c3\u30c9\u306f\u30e1\u30e2\u30ea\u7a7a\u9593\u3092\u5171\u6709\u3057\u307e\u3059\u3002</p>"},{"location":"python/part-2/#vs","title":"\u30d7\u30ed\u30bb\u30b9 vs \u30b9\u30ec\u30c3\u30c9","text":"\u7279\u5fb4 \u30d7\u30ed\u30bb\u30b9 \u30b9\u30ec\u30c3\u30c9 \u30e1\u30e2\u30ea \u72ec\u7acb \u5171\u6709 \u4f5c\u6210\u30b3\u30b9\u30c8 \u9ad8\u3044 \u4f4e\u3044 \u901a\u4fe1 IPC \u304c\u5fc5\u8981 \u76f4\u63a5\u5171\u6709\u53ef\u80fd \u5b89\u5168\u6027 \u9ad8\u3044 \u7af6\u5408\u306e\u53ef\u80fd\u6027 GIL \u306e\u5f71\u97ff \u306a\u3057 \u3042\u308a"},{"location":"python/part-2/#_4","title":"\u30b9\u30ec\u30c3\u30c9\u306e\u4f5c\u6210\u3068\u5b9f\u884c","text":"<pre><code>#!/usr/bin/env python3\n\n\"\"\"\u30b9\u30ec\u30c3\u30c9\u306e\u57fa\u672c\u7684\u306a\u4f7f\u3044\u65b9\"\"\"\n\nimport os\nimport time\nimport threading\nfrom threading import Thread\n\n\ndef cpu_waster(i: int) -&gt; None:\n    \"\"\"\u6642\u9593\u306e\u304b\u304b\u308b\u51e6\u7406\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\"\"\"\n    name = threading.current_thread().name\n    print(f\"{name} doing {i} work\")\n    time.sleep(3)\n\n\ndef display_threads() -&gt; None:\n    \"\"\"\u73fe\u5728\u306e\u30b9\u30ec\u30c3\u30c9\u60c5\u5831\u3092\u8868\u793a\"\"\"\n    print(\"-\" * 10)\n    print(f\"Current process PID: {os.getpid()}\")\n    print(f\"Thread Count: {threading.active_count()}\")\n    print(\"Active threads:\")\n    for thread in threading.enumerate():\n        print(thread)\n\n\ndef main(num_threads: int) -&gt; None:\n    display_threads()\n\n    print(f\"Starting {num_threads} CPU wasters...\")\n    for i in range(num_threads):\n        # \u30b9\u30ec\u30c3\u30c9\u306e\u4f5c\u6210\u3068\u958b\u59cb\n        thread = Thread(target=cpu_waster, args=(i,))\n        thread.start()\n\n    display_threads()\n\n\nif __name__ == \"__main__\":\n    num_threads = 5\n    main(num_threads)\n</code></pre>"},{"location":"python/part-2/#_5","title":"\u5b9f\u884c\u7d50\u679c","text":"<pre><code>----------\nCurrent process PID: 12345\nThread Count: 1\nActive threads:\n&lt;_MainThread(MainThread, started 140234567890)&gt;\nStarting 5 CPU wasters...\nThread-1 doing 0 work\nThread-2 doing 1 work\nThread-3 doing 2 work\nThread-4 doing 3 work\nThread-5 doing 4 work\n----------\nCurrent process PID: 12345\nThread Count: 6\nActive threads:\n&lt;_MainThread(MainThread, started 140234567890)&gt;\n&lt;Thread(Thread-1, started 140234567891)&gt;\n...\n</code></pre>"},{"location":"python/part-2/#_6","title":"\u30d7\u30ed\u30bb\u30b9\u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb","text":"<pre><code>#!/usr/bin/env python3\n\n\"\"\"\u30d7\u30ed\u30bb\u30b9\u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\"\"\"\n\nimport time\nfrom multiprocessing import Process\n\n\nclass Worker(Process):\n    def run(self) -&gt; None:\n        print(\"Worker started...\")\n        time.sleep(3)\n        print(\"Worker is done.\")\n\n\ndef main() -&gt; None:\n    print(\"Boss requesting Worker's help.\")\n    worker = Worker()\n    print(f\"\\tWorker alive?: {worker.is_alive()}\")  # False\n\n    print(\"Boss tells Worker to start.\")\n    worker.start()\n    print(f\"\\tWorker alive?: {worker.is_alive()}\")  # True\n\n    print(\"Boss goes for coffee.\")\n    time.sleep(0.5)\n    print(f\"\\tWorker alive?: {worker.is_alive()}\")  # True\n\n    print(\"Boss patiently waits for Worker to finish and join...\")\n    worker.join()  # \u30ef\u30fc\u30ab\u30fc\u306e\u5b8c\u4e86\u3092\u5f85\u6a5f\n    print(f\"\\tWorker alive?: {worker.is_alive()}\")  # False\n\n    print(\"Boss and Worker are both done!\")\n\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"python/part-2/#_7","title":"\u30d7\u30ed\u30bb\u30b9\u306e\u72b6\u614b\u9077\u79fb","text":""},{"location":"python/part-2/#5-ipc","title":"\u7b2c5\u7ae0: \u30b9\u30ec\u30c3\u30c9\u30d7\u30fc\u30eb\u3068 IPC","text":""},{"location":"python/part-2/#_8","title":"\u30b9\u30ec\u30c3\u30c9\u30d7\u30fc\u30eb\u306e\u5b9f\u88c5","text":"<p>\u30b9\u30ec\u30c3\u30c9\u30d7\u30fc\u30eb\u306f\u3001\u4e8b\u524d\u306b\u4f5c\u6210\u3057\u305f\u30b9\u30ec\u30c3\u30c9\u3092\u518d\u5229\u7528\u3057\u3066\u30bf\u30b9\u30af\u3092\u51e6\u7406\u3057\u307e\u3059\u3002</p> <pre><code>#!/usr/bin/env python3\n\n\"\"\"\u30b7\u30f3\u30d7\u30eb\u306a\u30b9\u30ec\u30c3\u30c9\u30d7\u30fc\u30eb\u5b9f\u88c5\"\"\"\n\nimport time\nimport queue\nimport typing as T\nfrom threading import Thread, current_thread\n\nCallback = T.Callable[..., None]\nTask = T.Tuple[Callback, T.Any, T.Any]\n\n\nclass Worker(Thread):\n    \"\"\"\u30bf\u30b9\u30af\u30ad\u30e5\u30fc\u304b\u3089\u30bf\u30b9\u30af\u3092\u53d6\u5f97\u3057\u3066\u5b9f\u884c\u3059\u308b\u30ef\u30fc\u30ab\u30fc\"\"\"\n    def __init__(self, tasks: queue.Queue[Task]):\n        super().__init__()\n        self.tasks = tasks\n\n    def run(self) -&gt; None:\n        while True:\n            func, args, kwargs = self.tasks.get()\n            try:\n                func(*args, **kwargs)\n            except Exception as e:\n                print(e)\n            self.tasks.task_done()\n\n\nclass ThreadPool:\n    \"\"\"\u30bf\u30b9\u30af\u30ad\u30e5\u30fc\u3092\u6d88\u8cbb\u3059\u308b\u30b9\u30ec\u30c3\u30c9\u306e\u30d7\u30fc\u30eb\"\"\"\n    def __init__(self, num_threads: int):\n        self.tasks: queue.Queue = queue.Queue(num_threads)\n        self.num_threads = num_threads\n\n        # \u9577\u6642\u9593\u7a3c\u50cd\u3059\u308b\u30b9\u30ec\u30c3\u30c9\u3092\u4f5c\u6210\n        for _ in range(self.num_threads):\n            worker = Worker(self.tasks)\n            worker.daemon = True\n            worker.start()\n\n    def submit(self, func: Callback, *args, **kwargs) -&gt; None:\n        \"\"\"\u30bf\u30b9\u30af\u3092\u30ad\u30e5\u30fc\u306b\u8ffd\u52a0\"\"\"\n        self.tasks.put((func, args, kwargs))\n\n    def wait_completion(self) -&gt; None:\n        \"\"\"\u5168\u30bf\u30b9\u30af\u306e\u5b8c\u4e86\u3092\u5f85\u6a5f\"\"\"\n        self.tasks.join()\n\n\ndef cpu_waster(i: int) -&gt; None:\n    name = current_thread().name\n    print(f\"{name} doing {i} work\")\n    time.sleep(3)\n\n\ndef main() -&gt; None:\n    pool = ThreadPool(num_threads=5)\n    for i in range(20):\n        pool.submit(cpu_waster, i)\n\n    print(\"All work requests sent\")\n    pool.wait_completion()\n    print(\"All work completed\")\n\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"python/part-2/#_9","title":"\u6a19\u6e96\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30b9\u30ec\u30c3\u30c9\u30d7\u30fc\u30eb","text":"<p>Python \u306e <code>concurrent.futures</code> \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u3046\u3068\u3001\u3088\u308a\u7c21\u5358\u306b\u30b9\u30ec\u30c3\u30c9\u30d7\u30fc\u30eb\u3092\u5229\u7528\u3067\u304d\u307e\u3059\u3002</p> <pre><code>from concurrent.futures import ThreadPoolExecutor\nimport os\n\ndef cpu_waster(i: int) -&gt; str:\n    name = current_thread().name\n    print(f\"{name} doing Task {i}\")\n    time.sleep(3)\n    return f\"Task {i} completed\"\n\n\ndef main() -&gt; None:\n    with ThreadPoolExecutor(\n        max_workers=os.cpu_count(),\n        thread_name_prefix=\"Pool_Thread\"\n    ) as pool:\n        tasks = []\n        for i in range(20):\n            tasks.append(pool.submit(cpu_waster, i))\n\n        for task in tasks:\n            print(task.result())\n\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"python/part-2/#_10","title":"\u4e26\u5217\u30d1\u30b9\u30ef\u30fc\u30c9\u30af\u30e9\u30c3\u30ad\u30f3\u30b0","text":"<p>Part I \u3067\u5b66\u3093\u3060\u9010\u6b21\u51e6\u7406\u7248\u3092\u3001\u30de\u30eb\u30c1\u30d7\u30ed\u30bb\u30b9\u3067\u4e26\u5217\u5316\u3057\u307e\u3059\u3002</p> <pre><code>#!/usr/bin/env python3\n\n\"\"\"\u30d1\u30b9\u30ef\u30fc\u30c9\u30af\u30e9\u30c3\u30ad\u30f3\u30b0\uff08\u4e26\u5217\u51e6\u7406\u7248\uff09\"\"\"\n\nimport os\nimport math\nimport time\nimport typing as T\nimport hashlib\nfrom multiprocessing import Pool\n\nChunkRange = T.Tuple[int, int]\n\n\ndef get_combinations(*, length: int, min_number: int = 0,\n                     max_number: int = None) -&gt; T.List[str]:\n    \"\"\"\u30d1\u30b9\u30ef\u30fc\u30c9\u7d44\u307f\u5408\u308f\u305b\u3092\u751f\u6210\"\"\"\n    combinations = []\n    if not max_number:\n        max_number = int(math.pow(10, length) - 1)\n\n    for i in range(min_number, max_number + 1):\n        str_num = str(i)\n        zeros = \"0\" * (length - len(str_num))\n        combinations.append(\"\".join((zeros, str_num)))\n    return combinations\n\n\ndef get_crypto_hash(password: str) -&gt; str:\n    return hashlib.sha256(password.encode()).hexdigest()\n\n\ndef check_password(expected_crypto_hash: str,\n                   possible_password: str) -&gt; bool:\n    actual_crypto_hash = get_crypto_hash(possible_password)\n    return expected_crypto_hash == actual_crypto_hash\n\n\ndef get_chunks(num_ranges: int, length: int) -&gt; T.Iterator[ChunkRange]:\n    \"\"\"\u30d1\u30b9\u30ef\u30fc\u30c9\u7bc4\u56f2\u3092\u30c1\u30e3\u30f3\u30af\u306b\u5206\u5272\"\"\"\n    max_number = int(math.pow(10, length) - 1)\n    chunk_starts = [int(max_number / num_ranges * i)\n                    for i in range(num_ranges)]\n    chunk_ends = [start - 1 for start in chunk_starts[1:]] + [max_number]\n    return zip(chunk_starts, chunk_ends)\n\n\ndef crack_chunk(crypto_hash: str, length: int,\n                chunk_start: int, chunk_end: int) -&gt; T.Union[str, None]:\n    \"\"\"\u30c1\u30e3\u30f3\u30af\u5185\u3067\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u63a2\u7d22\"\"\"\n    print(f\"Processing {chunk_start} to {chunk_end}\")\n    combinations = get_combinations(\n        length=length, min_number=chunk_start, max_number=chunk_end)\n    for combination in combinations:\n        if check_password(crypto_hash, combination):\n            return combination\n    return None\n\n\ndef crack_password_parallel(crypto_hash: str, length: int) -&gt; None:\n    \"\"\"\u8907\u6570\u30d7\u30ed\u30bb\u30b9\u3067\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u89e3\u8aad\"\"\"\n    num_cores = os.cpu_count()\n    print(\"Processing number combinations concurrently\")\n    start_time = time.perf_counter()\n\n    with Pool() as pool:\n        arguments = ((crypto_hash, length, start, end)\n                     for start, end in get_chunks(num_cores, length))\n        results = pool.starmap(crack_chunk, arguments)\n        pool.close()\n        pool.join()\n\n    result = [res for res in results if res]\n    print(f\"PASSWORD CRACKED: {result[0]}\")\n    process_time = time.perf_counter() - start_time\n    print(f\"PROCESS TIME: {process_time}\")\n\n\nif __name__ == \"__main__\":\n    crypto_hash = \\\n        \"e24df920078c3dd4e7e8d2442f00e5c9ab2a231bb3918d65cc50906e49ecaef4\"\n    length = 8\n    crack_password_parallel(crypto_hash, length)\n</code></pre>"},{"location":"python/part-2/#_11","title":"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6bd4\u8f03","text":"\u51e6\u7406\u65b9\u5f0f \u51e6\u7406\u6642\u9593 CPU \u4f7f\u7528\u7387 \u9010\u6b21\u51e6\u7406 ~60\u79d2 25% (1\u30b3\u30a2) \u4e26\u5217\u51e6\u7406\uff084\u30b3\u30a2\uff09 ~15\u79d2 100% (\u5168\u30b3\u30a2)"},{"location":"python/part-2/#gil-global-interpreter-lock","title":"GIL (Global Interpreter Lock)","text":"<p>Python \u306e CPython \u5b9f\u88c5\u306b\u306f GIL \u304c\u3042\u308a\u3001\u4e00\u5ea6\u306b1\u3064\u306e\u30b9\u30ec\u30c3\u30c9\u3057\u304b Python \u30d0\u30a4\u30c8\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3067\u304d\u307e\u305b\u3093\u3002</p>"},{"location":"python/part-2/#gil","title":"GIL \u306e\u5f71\u97ff","text":"\u30bf\u30b9\u30af\u30bf\u30a4\u30d7 \u30b9\u30ec\u30c3\u30c9 \u30d7\u30ed\u30bb\u30b9 I/O \u30d0\u30a6\u30f3\u30c9 \u52b9\u679c\u7684 \u52b9\u679c\u7684 CPU \u30d0\u30a6\u30f3\u30c9 \u52b9\u679c\u306a\u3057 \u52b9\u679c\u7684"},{"location":"python/part-2/#_12","title":"\u4f7f\u3044\u5206\u3051\u306e\u6307\u91dd","text":"<ul> <li>I/O \u30d0\u30a6\u30f3\u30c9\u51e6\u7406\uff08\u30d5\u30a1\u30a4\u30eb\u8aad\u307f\u66f8\u304d\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u901a\u4fe1\uff09\u2192 \u30b9\u30ec\u30c3\u30c9</li> <li>CPU \u30d0\u30a6\u30f3\u30c9\u51e6\u7406\uff08\u8a08\u7b97\u51e6\u7406\uff09\u2192 \u30d7\u30ed\u30bb\u30b9</li> </ul>"},{"location":"python/part-2/#_13","title":"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7","text":"<p>Part III \u3067\u306f\u3001\u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0\u3068\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u306e\u6982\u5ff5\u3092\u5b66\u3073\u307e\u3059\u3002OS \u304c\u3069\u306e\u3088\u3046\u306b\u30bf\u30b9\u30af\u3092\u5207\u308a\u66ff\u3048\u308b\u304b\u3001\u30bf\u30a4\u30e0\u30b7\u30a7\u30a2\u30ea\u30f3\u30b0\u306e\u4ed5\u7d44\u307f\u3092\u7406\u89e3\u3057\u307e\u3059\u3002</p>"},{"location":"python/part-2/#_14","title":"\u53c2\u8003\u30b3\u30fc\u30c9","text":"<ul> <li>apps/python/Chapter 4/multithreading.py</li> <li>apps/python/Chapter 4/process_lifecycle.py</li> <li>apps/python/Chapter 5/thread_pool.py</li> <li>apps/python/Chapter 5/password_cracking_parallel.py</li> </ul>"},{"location":"python/part-3/","title":"Part III: \u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0\u3068\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0","text":""},{"location":"python/part-3/#_1","title":"\u6982\u8981","text":"<p>\u672c\u7ae0\u3067\u306f\u3001OS \u304c\u3069\u306e\u3088\u3046\u306b\u8907\u6570\u306e\u30bf\u30b9\u30af\u3092\u540c\u6642\u306b\u5b9f\u884c\u3057\u3066\u3044\u308b\u3088\u3046\u306b\u898b\u305b\u308b\u304b\u3092\u5b66\u3073\u307e\u3059\u3002\u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0\u3068\u30bf\u30a4\u30e0\u30b7\u30a7\u30a2\u30ea\u30f3\u30b0\u306e\u4ed5\u7d44\u307f\u3092\u3001\u30b2\u30fc\u30e0\u30eb\u30fc\u30d7\u306e\u5b9f\u88c5\u3092\u901a\u3058\u3066\u7406\u89e3\u3057\u307e\u3059\u3002</p>"},{"location":"python/part-3/#6","title":"\u7b2c6\u7ae0: \u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0","text":""},{"location":"python/part-3/#_2","title":"\u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0\u3068\u306f","text":"<p>\u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0\u306f\u3001\u8907\u6570\u306e\u30bf\u30b9\u30af\u3092\u5207\u308a\u66ff\u3048\u306a\u304c\u3089\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u3001\u3042\u305f\u304b\u3082\u540c\u6642\u306b\u5b9f\u884c\u3057\u3066\u3044\u308b\u3088\u3046\u306b\u898b\u305b\u308b\u6280\u8853\u3067\u3059\u3002</p>"},{"location":"python/part-3/#_3","title":"\u30bf\u30a4\u30e0\u30b7\u30a7\u30a2\u30ea\u30f3\u30b0","text":"<p>CPU \u6642\u9593\u3092\u5c0f\u3055\u306a\u30b9\u30e9\u30a4\u30b9\u306b\u5206\u5272\u3057\u3001\u5404\u30bf\u30b9\u30af\u306b\u9806\u756a\u306b\u5272\u308a\u5f53\u3066\u307e\u3059\u3002</p> <p></p>"},{"location":"python/part-3/#_4","title":"\u30b2\u30fc\u30e0\u30eb\u30fc\u30d7\u306e\u5b9f\u88c5","text":"<p>\u30a2\u30fc\u30b1\u30fc\u30c9\u30b2\u30fc\u30e0\uff08\u30d1\u30c3\u30af\u30de\u30f3\uff09\u3092\u4f8b\u306b\u3001\u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002</p>"},{"location":"python/part-3/#3","title":"\u30b2\u30fc\u30e0\u306e3\u3064\u306e\u30bf\u30b9\u30af","text":"<ol> <li>\u5165\u529b\u51e6\u7406 - \u30e6\u30fc\u30b6\u30fc\u306e\u64cd\u4f5c\u3092\u53d7\u3051\u4ed8\u3051\u308b</li> <li>\u30b2\u30fc\u30e0\u8a08\u7b97 - \u30b2\u30fc\u30e0\u4e16\u754c\u306e\u72b6\u614b\u3092\u66f4\u65b0</li> <li>\u63cf\u753b\u51e6\u7406 - \u753b\u9762\u3092\u66f4\u65b0</li> </ol>"},{"location":"python/part-3/#_5","title":"\u30b7\u30f3\u30d7\u30eb\u306a\u5b9f\u88c5\uff08\u30a4\u30d9\u30f3\u30c8\u30d9\u30fc\u30b9\uff09","text":"<pre><code>#!/usr/bin/env python3\n\n\"\"\"\u30a4\u30d9\u30f3\u30c8\u30d9\u30fc\u30b9\u306e\u30b2\u30fc\u30e0\u30eb\u30fc\u30d7\"\"\"\n\nimport typing as T\nfrom threading import Thread, Event\n\nfrom pacman import get_user_input, compute_game_world, render_next_screen\n\n# \u30d7\u30ed\u30bb\u30c3\u30b5\u304c\u7a7a\u3044\u3066\u3044\u308b\u304b\u3092\u793a\u3059\u30a4\u30d9\u30f3\u30c8\nprocessor_free = Event()\nprocessor_free.set()\n\n\nclass Task(Thread):\n    def __init__(self, func: T.Callable[..., None]):\n        super().__init__()\n        self.func = func\n\n    def run(self) -&gt; None:\n        while True:\n            processor_free.wait()   # \u30b7\u30b0\u30ca\u30eb\u3092\u5f85\u3064\n            processor_free.clear()  # \u4ed6\u306e\u30bf\u30b9\u30af\u3092\u30d6\u30ed\u30c3\u30af\n            self.func()             # \u30bf\u30b9\u30af\u3092\u5b9f\u884c\n            processor_free.set()    # \u6b21\u306e\u30bf\u30b9\u30af\u3092\u8a31\u53ef\n\n\ndef arcade_machine() -&gt; None:\n    \"\"\"\u30a2\u30fc\u30b1\u30fc\u30c9\u30de\u30b7\u30f3\u306e\u30e1\u30a4\u30f3\u6a5f\u80fd\"\"\"\n    get_user_input_task = Task(get_user_input)\n    compute_game_world_task = Task(compute_game_world)\n    render_next_screen_task = Task(render_next_screen)\n\n    get_user_input_task.start()\n    compute_game_world_task.start()\n    render_next_screen_task.start()\n\n\nif __name__ == \"__main__\":\n    arcade_machine()\n</code></pre>"},{"location":"python/part-3/#event","title":"Event \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5f79\u5272","text":"<p><code>threading.Event</code> \u306f\u3001\u30b9\u30ec\u30c3\u30c9\u9593\u306e\u540c\u671f\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p> \u30e1\u30bd\u30c3\u30c9 \u8aac\u660e <code>set()</code> \u30d5\u30e9\u30b0\u3092 True \u306b\u8a2d\u5b9a <code>clear()</code> \u30d5\u30e9\u30b0\u3092 False \u306b\u8a2d\u5b9a <code>wait()</code> \u30d5\u30e9\u30b0\u304c True \u306b\u306a\u308b\u307e\u3067\u30d6\u30ed\u30c3\u30af <code>is_set()</code> \u30d5\u30e9\u30b0\u306e\u72b6\u614b\u3092\u78ba\u8a8d"},{"location":"python/part-3/#_6","title":"\u30d1\u30c3\u30af\u30de\u30f3\u306e\u5b9f\u88c5","text":"<pre><code>\"\"\"\u30d1\u30c3\u30af\u30de\u30f3\u30b2\u30fc\u30e0\u306e\u5b9f\u88c5\"\"\"\n\nimport sys\nimport time\nimport select\nfrom random import randrange\n\n# \u30b0\u30ed\u30fc\u30d0\u30eb\u306a\u30b2\u30fc\u30e0\u72b6\u614b\nPACMAN_POSITION = {}\n\n\ndef get_user_input() -&gt; None:\n    \"\"\"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u304b\u3089\u306e\u5165\u529b\u3092\u53d6\u5f97\"\"\"\n    global PACMAN_POSITION\n    i, o, e = select.select([sys.stdin], [], [], 1)\n    if i:\n        user_input = sys.stdin.readline().strip()\n        print(f\"user input: {user_input}\")\n        PACMAN_POSITION[\"user_input\"] = user_input\n\n\ndef compute_game_world() -&gt; None:\n    \"\"\"\u30b2\u30fc\u30e0\u30eb\u30fc\u30eb\u306b\u5f93\u3063\u3066\u4e16\u754c\u3092\u8a08\u7b97\"\"\"\n    global PACMAN_POSITION\n    print(f\"Pacman doing: {PACMAN_POSITION.get('user_input', 'N/A')}\")\n    print(\"computing\")\n    PACMAN_POSITION[\"position\"] = randrange(10)\n    time.sleep(1)\n\n\ndef render_next_screen() -&gt; None:\n    \"\"\"\u6b21\u306e\u30d5\u30ec\u30fc\u30e0\u3092\u63cf\u753b\"\"\"\n    global PACMAN_POSITION\n    print(f\"Rendering pacman at position: \"\n          f\"{PACMAN_POSITION.get('position', 0)}\")\n    print(\"rendering\")\n    time.sleep(0.5)\n</code></pre>"},{"location":"python/part-3/#_7","title":"\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30b9\u30a4\u30c3\u30c1","text":"<p>\u30bf\u30b9\u30af\u3092\u5207\u308a\u66ff\u3048\u308b\u969b\u3001\u73fe\u5728\u306e\u30bf\u30b9\u30af\u306e\u72b6\u614b\u3092\u4fdd\u5b58\u3057\u3001\u6b21\u306e\u30bf\u30b9\u30af\u306e\u72b6\u614b\u3092\u5fa9\u5143\u3057\u307e\u3059\u3002</p>"},{"location":"python/part-3/#_8","title":"\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30b9\u30a4\u30c3\u30c1\u306e\u30b3\u30b9\u30c8","text":"<ul> <li>\u30ec\u30b8\u30b9\u30bf\u306e\u4fdd\u5b58\u3068\u5fa9\u5143</li> <li>\u30e1\u30e2\u30ea\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u7121\u52b9\u5316</li> <li>TLB\uff08Translation Lookaside Buffer\uff09\u306e\u30d5\u30e9\u30c3\u30b7\u30e5</li> </ul>"},{"location":"python/part-3/#vs","title":"\u30d7\u30ea\u30a8\u30f3\u30d7\u30c6\u30a3\u30d6 vs \u5354\u8abf\u7684","text":""},{"location":"python/part-3/#_9","title":"\u30d7\u30ea\u30a8\u30f3\u30d7\u30c6\u30a3\u30d6\u30fb\u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0","text":"<ul> <li>OS \u304c\u30bf\u30b9\u30af\u3092\u5f37\u5236\u7684\u306b\u4e2d\u65ad</li> <li>\u30bf\u30a4\u30e0\u30b9\u30e9\u30a4\u30b9\u3067\u5236\u5fa1</li> <li>\u516c\u5e73\u306a\u30ea\u30bd\u30fc\u30b9\u914d\u5206</li> </ul>"},{"location":"python/part-3/#_10","title":"\u5354\u8abf\u7684\u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0","text":"<ul> <li>\u30bf\u30b9\u30af\u304c\u81ea\u767a\u7684\u306b\u5236\u5fa1\u3092\u8b72\u308b</li> <li><code>yield</code> \u3067\u5236\u5fa1\u3092\u8fd4\u3059</li> <li>\u52b9\u7387\u7684\u3060\u304c\u3001\u884c\u5100\u306e\u60aa\u3044\u30bf\u30b9\u30af\u306b\u6ce8\u610f</li> </ul>"},{"location":"python/part-3/#_11","title":"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7","text":"<p>Part IV \u3067\u306f\u3001\u30bf\u30b9\u30af\u5206\u89e3\u3068\u4e26\u5217\u30d1\u30bf\u30fc\u30f3\uff08Fork/Join\u3001\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\uff09\u3092\u5b66\u3073\u307e\u3059\u3002\u8907\u96d1\u306a\u554f\u984c\u3092\u4e26\u5217\u5316\u53ef\u80fd\u306a\u30b5\u30d6\u30bf\u30b9\u30af\u306b\u5206\u5272\u3059\u308b\u624b\u6cd5\u3092\u7406\u89e3\u3057\u307e\u3059\u3002</p>"},{"location":"python/part-3/#_12","title":"\u53c2\u8003\u30b3\u30fc\u30c9","text":"<ul> <li>apps/python/Chapter 6/arcade_machine.py</li> <li>apps/python/Chapter 6/pacman.py</li> </ul>"},{"location":"python/part-4/","title":"Part IV: \u30bf\u30b9\u30af\u5206\u89e3\u3068\u4e26\u5217\u30d1\u30bf\u30fc\u30f3","text":""},{"location":"python/part-4/#_1","title":"\u6982\u8981","text":"<p>\u672c\u7ae0\u3067\u306f\u3001\u8907\u96d1\u306a\u554f\u984c\u3092\u4e26\u5217\u5316\u53ef\u80fd\u306a\u30b5\u30d6\u30bf\u30b9\u30af\u306b\u5206\u5272\u3059\u308b\u624b\u6cd5\u3092\u5b66\u3073\u307e\u3059\u3002Fork/Join \u30d1\u30bf\u30fc\u30f3\u3068\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u306e\u5b9f\u88c5\u3092\u901a\u3058\u3066\u3001\u4e26\u5217\u51e6\u7406\u306e\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u3092\u7406\u89e3\u3057\u307e\u3059\u3002</p>"},{"location":"python/part-4/#7","title":"\u7b2c7\u7ae0: \u4e26\u5217\u30d1\u30bf\u30fc\u30f3","text":""},{"location":"python/part-4/#vs","title":"\u30c7\u30fc\u30bf\u4e26\u5217 vs \u30bf\u30b9\u30af\u4e26\u5217","text":"\u30d1\u30bf\u30fc\u30f3 \u8aac\u660e \u4f8b \u30c7\u30fc\u30bf\u4e26\u5217 \u540c\u3058\u64cd\u4f5c\u3092\u8907\u6570\u306e\u30c7\u30fc\u30bf\u306b\u9069\u7528 \u914d\u5217\u306e\u5404\u8981\u7d20\u30922\u500d \u30bf\u30b9\u30af\u4e26\u5217 \u7570\u306a\u308b\u64cd\u4f5c\u3092\u540c\u6642\u306b\u5b9f\u884c \u5165\u529b\u30fb\u8a08\u7b97\u30fb\u51fa\u529b"},{"location":"python/part-4/#forkjoin","title":"Fork/Join \u30d1\u30bf\u30fc\u30f3","text":"<p>\u554f\u984c\u3092\u5206\u5272\u3057\u3001\u4e26\u5217\u306b\u51e6\u7406\u3057\u305f\u5f8c\u3001\u7d50\u679c\u3092\u7d71\u5408\u3059\u308b\u30d1\u30bf\u30fc\u30f3\u3067\u3059\u3002</p>"},{"location":"python/part-4/#_2","title":"\u6295\u7968\u96c6\u8a08\u306e\u4f8b","text":"<pre><code>#!/usr/bin/env python3\n\n\"\"\"Fork/Join \u30d1\u30bf\u30fc\u30f3\u306b\u3088\u308b\u6295\u7968\u96c6\u8a08\"\"\"\n\nimport typing as T\nimport random\nfrom math import ceil\nfrom threading import Thread\n\n\nclass StaffMember(Thread):\n    \"\"\"\u6295\u7968\u7528\u7d19\u3092\u96c6\u8a08\u3059\u308b\u30b9\u30bf\u30c3\u30d5\"\"\"\n\n    def __init__(self, votes: T.List[int]):\n        super().__init__()\n        self.votes = votes\n        self.summary: T.Dict[int, int] = {}\n\n    def run(self) -&gt; None:\n        for vote in self.votes:\n            if vote in self.summary:\n                self.summary[vote] += 1\n            else:\n                self.summary[vote] = 1\n\n\ndef count_votes(votes: T.List[int], num_workers: int = 3) -&gt; T.Dict[int, int]:\n    \"\"\"\u6295\u7968\u3092\u8907\u6570\u306e\u30ef\u30fc\u30ab\u30fc\u3067\u4e26\u5217\u96c6\u8a08\"\"\"\n    workers = []\n    vote_count = len(votes)\n    votes_per_worker = ceil(vote_count / num_workers)\n\n    # Fork: \u6295\u7968\u7528\u7d19\u3092\u30ef\u30fc\u30ab\u30fc\u306b\u5206\u914d\n    for i in range(num_workers):\n        start = i * votes_per_worker\n        end = start + votes_per_worker\n        pile = votes[start:end]\n        worker = StaffMember(pile)\n        workers.append(worker)\n        worker.start()\n\n    # Join: \u5168\u30ef\u30fc\u30ab\u30fc\u306e\u5b8c\u4e86\u3092\u5f85\u6a5f\n    for worker in workers:\n        worker.join()\n\n    # \u7d50\u679c\u306e\u7d71\u5408\n    total: T.Dict[int, int] = {}\n    for worker in workers:\n        for candidate, count in worker.summary.items():\n            total[candidate] = total.get(candidate, 0) + count\n\n    return total\n\n\nif __name__ == \"__main__\":\n    # 10\u4e07\u7968\u3092\u751f\u6210\n    votes = [random.randint(1, 10) for _ in range(100000)]\n    result = count_votes(votes)\n    print(f\"\u6295\u7968\u7d50\u679c: {result}\")\n</code></pre>"},{"location":"python/part-4/#forkjoin_1","title":"Fork/Join \u306e\u6d41\u308c","text":""},{"location":"python/part-4/#_3","title":"\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3","text":"<p>\u51e6\u7406\u3092\u30b9\u30c6\u30fc\u30b8\u306b\u5206\u5272\u3057\u3001\u5404\u30b9\u30c6\u30fc\u30b8\u3092\u4e26\u5217\u306b\u5b9f\u884c\u3059\u308b\u30d1\u30bf\u30fc\u30f3\u3067\u3059\u3002</p>"},{"location":"python/part-4/#_4","title":"\u6d17\u6fef\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306e\u4f8b","text":"<pre><code>#!/usr/bin/env python3\n\n\"\"\"\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u306b\u3088\u308b\u6d17\u6fef\u51e6\u7406\"\"\"\n\nimport time\nfrom queue import Queue\nfrom threading import Thread\n\nWashload = str\n\n\nclass Washer(Thread):\n    \"\"\"\u6d17\u6fef\u6a5f\u3092\u8868\u3059\u30b9\u30ec\u30c3\u30c9\"\"\"\n\n    def __init__(self, in_queue: Queue, out_queue: Queue):\n        super().__init__()\n        self.in_queue = in_queue\n        self.out_queue = out_queue\n\n    def run(self) -&gt; None:\n        while True:\n            washload = self.in_queue.get()\n            print(f\"Washer: washing {washload}...\")\n            time.sleep(4)  # \u6d17\u6fef\u306b4\u79d2\n            self.out_queue.put(washload)\n            self.in_queue.task_done()\n\n\nclass Dryer(Thread):\n    \"\"\"\u4e7e\u71e5\u6a5f\u3092\u8868\u3059\u30b9\u30ec\u30c3\u30c9\"\"\"\n\n    def __init__(self, in_queue: Queue, out_queue: Queue):\n        super().__init__()\n        self.in_queue = in_queue\n        self.out_queue = out_queue\n\n    def run(self) -&gt; None:\n        while True:\n            washload = self.in_queue.get()\n            print(f\"Dryer: drying {washload}...\")\n            time.sleep(2)  # \u4e7e\u71e5\u306b2\u79d2\n            self.out_queue.put(washload)\n            self.in_queue.task_done()\n\n\nclass Folder(Thread):\n    \"\"\"\u305f\u305f\u307f\u51e6\u7406\u3092\u8868\u3059\u30b9\u30ec\u30c3\u30c9\"\"\"\n\n    def __init__(self, in_queue: Queue):\n        super().__init__()\n        self.in_queue = in_queue\n\n    def run(self) -&gt; None:\n        while True:\n            washload = self.in_queue.get()\n            print(f\"Folder: folding {washload}...\")\n            time.sleep(1)  # \u305f\u305f\u307f\u306b1\u79d2\n            print(f\"Folder: {washload} done!\")\n            self.in_queue.task_done()\n\n\nclass Pipeline:\n    \"\"\"\u6d17\u6fef\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\"\"\"\n\n    def run_concurrently(self) -&gt; None:\n        # \u30ad\u30e5\u30fc\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n        to_be_washed: Queue = Queue()\n        to_be_dried: Queue = Queue()\n        to_be_folded: Queue = Queue()\n\n        # \u6d17\u6fef\u7269\u3092\u6295\u5165\n        for i in range(4):\n            to_be_washed.put(f'Washload #{i}')\n\n        # \u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092\u958b\u59cb\n        Washer(to_be_washed, to_be_dried).start()\n        Dryer(to_be_dried, to_be_folded).start()\n        Folder(to_be_folded).start()\n\n        # \u5b8c\u4e86\u3092\u5f85\u6a5f\n        to_be_washed.join()\n        to_be_dried.join()\n        to_be_folded.join()\n        print(\"All done!\")\n\n\nif __name__ == \"__main__\":\n    pipeline = Pipeline()\n    pipeline.run_concurrently()\n</code></pre>"},{"location":"python/part-4/#_5","title":"\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306e\u6d41\u308c","text":""},{"location":"python/part-4/#_6","title":"\u9010\u6b21\u51e6\u7406\u3068\u306e\u6bd4\u8f03","text":"\u51e6\u7406\u65b9\u5f0f 4\u3064\u306e\u6d17\u6fef\u7269 \u9010\u6b21\u51e6\u7406 (4+2+1) \u00d7 4 = 28\u79d2 \u30d1\u30a4\u30d7\u30e9\u30a4\u30f3 4+4+4+4 + 2 + 1 = 23\u79d2"},{"location":"python/part-4/#queue","title":"Queue \u306b\u3088\u308b\u30b9\u30ec\u30c3\u30c9\u9593\u901a\u4fe1","text":"<p><code>queue.Queue</code> \u306f\u30b9\u30ec\u30c3\u30c9\u30bb\u30fc\u30d5\u306a\u30ad\u30e5\u30fc\u3067\u3059\u3002</p> \u30e1\u30bd\u30c3\u30c9 \u8aac\u660e <code>put(item)</code> \u30a2\u30a4\u30c6\u30e0\u3092\u8ffd\u52a0\uff08\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0\uff09 <code>get()</code> \u30a2\u30a4\u30c6\u30e0\u3092\u53d6\u5f97\uff08\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0\uff09 <code>task_done()</code> \u30bf\u30b9\u30af\u5b8c\u4e86\u3092\u901a\u77e5 <code>join()</code> \u5168\u30bf\u30b9\u30af\u5b8c\u4e86\u3092\u5f85\u6a5f"},{"location":"python/part-4/#_7","title":"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7","text":"<p>Part V \u3067\u306f\u3001\u540c\u671f\u3068\u6392\u4ed6\u5236\u5fa1\u3092\u5b66\u3073\u307e\u3059\u3002\u30ec\u30fc\u30b9\u30b3\u30f3\u30c7\u30a3\u30b7\u30e7\u30f3\u3001\u30c7\u30c3\u30c9\u30ed\u30c3\u30af\u306a\u3069\u306e\u554f\u984c\u3068\u3001Lock\u3001Semaphore \u306b\u3088\u308b\u89e3\u6c7a\u7b56\u3092\u7406\u89e3\u3057\u307e\u3059\u3002</p>"},{"location":"python/part-4/#_8","title":"\u53c2\u8003\u30b3\u30fc\u30c9","text":"<ul> <li>apps/python/Chapter 7/count_votes/count_votes_concurrent.py</li> <li>apps/python/Chapter 7/pipeline.py</li> </ul>"},{"location":"python/part-5/","title":"Part V: \u540c\u671f\u3068\u6392\u4ed6\u5236\u5fa1","text":""},{"location":"python/part-5/#_1","title":"\u6982\u8981","text":"<p>\u672c\u7ae0\u3067\u306f\u3001\u4e26\u884c\u51e6\u7406\u306b\u304a\u3051\u308b\u540c\u671f\u554f\u984c\uff08\u30ec\u30fc\u30b9\u30b3\u30f3\u30c7\u30a3\u30b7\u30e7\u30f3\u3001\u30c7\u30c3\u30c9\u30ed\u30c3\u30af\u3001\u30e9\u30a4\u30d6\u30ed\u30c3\u30af\u3001\u30b9\u30bf\u30d9\u30fc\u30b7\u30e7\u30f3\uff09\u3068\u3001\u305d\u306e\u89e3\u6c7a\u7b56\uff08Lock\u3001Semaphore\uff09\u3092\u5b66\u3073\u307e\u3059\u3002</p>"},{"location":"python/part-5/#8-lock","title":"\u7b2c8\u7ae0: \u30ec\u30fc\u30b9\u30b3\u30f3\u30c7\u30a3\u30b7\u30e7\u30f3\u3068 Lock","text":""},{"location":"python/part-5/#_2","title":"\u30ec\u30fc\u30b9\u30b3\u30f3\u30c7\u30a3\u30b7\u30e7\u30f3\u3068\u306f","text":"<p>\u8907\u6570\u306e\u30b9\u30ec\u30c3\u30c9\u304c\u5171\u6709\u30ea\u30bd\u30fc\u30b9\u306b\u540c\u6642\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3001\u7d50\u679c\u304c\u5b9f\u884c\u9806\u5e8f\u306b\u4f9d\u5b58\u3057\u3066\u3057\u307e\u3046\u554f\u984c\u3067\u3059\u3002</p>"},{"location":"python/part-5/#_3","title":"\u9280\u884c\u53e3\u5ea7\u306e\u4f8b\uff08\u554f\u984c\u3042\u308a\uff09","text":"<pre><code>#!/usr/bin/env python3\n\n\"\"\"\u30ec\u30fc\u30b9\u30b3\u30f3\u30c7\u30a3\u30b7\u30e7\u30f3\u304c\u767a\u751f\u3059\u308b\u9280\u884c\u53e3\u5ea7\"\"\"\n\nimport time\nfrom threading import Thread\n\n\nclass UnsyncedBankAccount:\n    \"\"\"\u540c\u671f\u306a\u3057\u306e\u9280\u884c\u53e3\u5ea7\uff08\u5371\u967a\uff09\"\"\"\n\n    def __init__(self, balance: float = 0):\n        self.balance = balance\n\n    def deposit(self, amount: float) -&gt; None:\n        # \u3053\u306e3\u884c\u306e\u9593\u306b\u4ed6\u306e\u30b9\u30ec\u30c3\u30c9\u304c\u5272\u308a\u8fbc\u3080\u53ef\u80fd\u6027\u3042\u308a\n        current = self.balance\n        time.sleep(0.001)  # \u51e6\u7406\u6642\u9593\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\n        self.balance = current + amount\n\n    def withdraw(self, amount: float) -&gt; None:\n        current = self.balance\n        time.sleep(0.001)\n        self.balance = current - amount\n\n\nclass ATM(Thread):\n    \"\"\"ATM\u30b9\u30ec\u30c3\u30c9\"\"\"\n\n    def __init__(self, bank_account):\n        super().__init__()\n        self.bank_account = bank_account\n\n    def run(self) -&gt; None:\n        for _ in range(100):\n            self.bank_account.deposit(10)\n            self.bank_account.withdraw(10)\n\n\nif __name__ == \"__main__\":\n    account = UnsyncedBankAccount(balance=1000)\n\n    atms = [ATM(account) for _ in range(5)]\n    for atm in atms:\n        atm.start()\n    for atm in atms:\n        atm.join()\n\n    # \u671f\u5f85: 1000\u3001\u5b9f\u969b: \u4e88\u6e2c\u4e0d\u80fd\n    print(f\"Final balance: {account.balance}\")\n</code></pre>"},{"location":"python/part-5/#lock","title":"\u89e3\u6c7a\u7b56: Lock \u3092\u4f7f\u7528","text":"<pre><code>from threading import Lock\n\n\nclass SyncedBankAccount:\n    \"\"\"Lock \u3067\u540c\u671f\u3057\u305f\u9280\u884c\u53e3\u5ea7\"\"\"\n\n    def __init__(self, balance: float = 0):\n        self.balance = balance\n        self.lock = Lock()\n\n    def deposit(self, amount: float) -&gt; None:\n        with self.lock:  # \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30bb\u30af\u30b7\u30e7\u30f3\n            current = self.balance\n            time.sleep(0.001)\n            self.balance = current + amount\n\n    def withdraw(self, amount: float) -&gt; None:\n        with self.lock:\n            current = self.balance\n            time.sleep(0.001)\n            self.balance = current - amount\n</code></pre>"},{"location":"python/part-5/#semaphore","title":"Semaphore\uff08\u30bb\u30de\u30d5\u30a9\uff09","text":"<p>Semaphore \u306f\u3001\u540c\u6642\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u30b9\u30ec\u30c3\u30c9\u6570\u3092\u5236\u9650\u3057\u307e\u3059\u3002</p>"},{"location":"python/part-5/#_4","title":"\u99d0\u8eca\u5834\u306e\u4f8b","text":"<pre><code>#!/usr/bin/env python3\n\n\"\"\"\u30bb\u30de\u30d5\u30a9\u306b\u3088\u308b\u99d0\u8eca\u5834\u306e\u5b9f\u88c5\"\"\"\n\nimport time\nimport random\nimport typing as T\nfrom threading import Thread, Semaphore, Lock\n\nTOTAL_SPOTS = 3  # \u99d0\u8eca\u30b9\u30da\u30fc\u30b9\u6570\n\n\nclass Garage:\n    \"\"\"\u99d0\u8eca\u5834\"\"\"\n\n    def __init__(self) -&gt; None:\n        self.semaphore = Semaphore(TOTAL_SPOTS)\n        self.cars_lock = Lock()\n        self.parked_cars: T.List[str] = []\n\n    def enter(self, car_name: str) -&gt; None:\n        \"\"\"\u99d0\u8eca\u5834\u306b\u5165\u308b\"\"\"\n        self.semaphore.acquire()  # \u30b9\u30da\u30fc\u30b9\u3092\u78ba\u4fdd\n        with self.cars_lock:\n            self.parked_cars.append(car_name)\n            print(f\"{car_name} parked\")\n\n    def exit(self, car_name: str) -&gt; None:\n        \"\"\"\u99d0\u8eca\u5834\u3092\u51fa\u308b\"\"\"\n        with self.cars_lock:\n            self.parked_cars.remove(car_name)\n            print(f\"{car_name} leaving\")\n        self.semaphore.release()  # \u30b9\u30da\u30fc\u30b9\u3092\u89e3\u653e\n\n\ndef park_car(garage: Garage, car_name: str) -&gt; None:\n    garage.enter(car_name)\n    time.sleep(random.uniform(1, 2))\n    garage.exit(car_name)\n\n\nif __name__ == \"__main__\":\n    garage = Garage()\n    threads = []\n\n    for i in range(10):\n        t = Thread(target=park_car, args=(garage, f\"Car #{i}\"))\n        threads.append(t)\n        t.start()\n\n    for t in threads:\n        t.join()\n</code></pre>"},{"location":"python/part-5/#9","title":"\u7b2c9\u7ae0: \u30c7\u30c3\u30c9\u30ed\u30c3\u30af","text":""},{"location":"python/part-5/#_5","title":"\u30c7\u30c3\u30c9\u30ed\u30c3\u30af\u3068\u306f","text":"<p>\u8907\u6570\u306e\u30b9\u30ec\u30c3\u30c9\u304c\u4e92\u3044\u306b\u76f8\u624b\u306e\u6301\u3064\u30ea\u30bd\u30fc\u30b9\u3092\u5f85\u3061\u7d9a\u3051\u3001\u6c38\u9060\u306b\u9032\u884c\u3057\u306a\u3044\u72b6\u614b\u3067\u3059\u3002</p>"},{"location":"python/part-5/#_6","title":"\u98df\u4e8b\u3059\u308b\u54f2\u5b66\u8005\u554f\u984c","text":"<pre><code>#!/usr/bin/env python3\n\n\"\"\"\u30c7\u30c3\u30c9\u30ed\u30c3\u30af\u304c\u767a\u751f\u3059\u308b\u54f2\u5b66\u8005\u554f\u984c\"\"\"\n\nimport time\nfrom threading import Thread, Lock\n\ndumplings = 20\n\n\nclass LockWithName:\n    \"\"\"\u540d\u524d\u4ed8\u304dLock\"\"\"\n    def __init__(self, name: str):\n        self.name = name\n        self.lock = Lock()\n\n    def acquire(self):\n        self.lock.acquire()\n\n    def release(self):\n        self.lock.release()\n\n\nclass Philosopher(Thread):\n    def __init__(self, name: str, left: LockWithName, right: LockWithName):\n        super().__init__()\n        self.name = name\n        self.left_chopstick = left\n        self.right_chopstick = right\n\n    def run(self) -&gt; None:\n        global dumplings\n\n        while dumplings &gt; 0:\n            # \u5de6\u306e\u7bb8\u3092\u53d6\u308b\n            self.left_chopstick.acquire()\n            print(f\"{self.left_chopstick.name} grabbed by {self.name}\")\n\n            # \u53f3\u306e\u7bb8\u3092\u53d6\u308d\u3046\u3068\u3059\u308b\uff08\u30c7\u30c3\u30c9\u30ed\u30c3\u30af\u306e\u539f\u56e0\uff09\n            self.right_chopstick.acquire()\n            print(f\"{self.right_chopstick.name} grabbed by {self.name}\")\n\n            dumplings -= 1\n            print(f\"{self.name} eats. Left: {dumplings}\")\n\n            self.right_chopstick.release()\n            self.left_chopstick.release()\n            time.sleep(0.1)\n\n\nif __name__ == \"__main__\":\n    chopstick_a = LockWithName(\"chopstick_a\")\n    chopstick_b = LockWithName(\"chopstick_b\")\n\n    # \u4e21\u65b9\u306e\u54f2\u5b66\u8005\u304c\u7570\u306a\u308b\u9806\u5e8f\u3067\u7bb8\u3092\u53d6\u308b \u2192 \u30c7\u30c3\u30c9\u30ed\u30c3\u30af\n    p1 = Philosopher(\"Philosopher #1\", chopstick_a, chopstick_b)\n    p2 = Philosopher(\"Philosopher #2\", chopstick_b, chopstick_a)\n\n    p1.start()\n    p2.start()\n</code></pre>"},{"location":"python/part-5/#4","title":"\u30c7\u30c3\u30c9\u30ed\u30c3\u30af\u306e\u6761\u4ef6\uff084\u3064\u5168\u3066\u5fc5\u8981\uff09","text":"<ol> <li>\u76f8\u4e92\u6392\u9664 - \u30ea\u30bd\u30fc\u30b9\u306f\u4e00\u5ea6\u306b1\u3064\u306e\u30b9\u30ec\u30c3\u30c9\u306e\u307f\u4f7f\u7528</li> <li>\u4fdd\u6301\u3068\u5f85\u6a5f - \u30ea\u30bd\u30fc\u30b9\u3092\u4fdd\u6301\u3057\u306a\u304c\u3089\u4ed6\u3092\u5f85\u3064</li> <li>\u6a2a\u53d6\u308a\u4e0d\u53ef - \u4ed6\u8005\u304b\u3089\u30ea\u30bd\u30fc\u30b9\u3092\u596a\u3048\u306a\u3044</li> <li>\u5faa\u74b0\u5f85\u3061 - \u5faa\u74b0\u7684\u306a\u5f85\u3061\u95a2\u4fc2\u304c\u5b58\u5728</li> </ol>"},{"location":"python/part-5/#1","title":"\u89e3\u6c7a\u7b561: \u30ea\u30bd\u30fc\u30b9\u9806\u5e8f\u4ed8\u3051","text":"<pre><code>if __name__ == \"__main__\":\n    chopstick_a = LockWithName(\"chopstick_a\")\n    chopstick_b = LockWithName(\"chopstick_b\")\n\n    # \u4e21\u65b9\u306e\u54f2\u5b66\u8005\u304c\u540c\u3058\u9806\u5e8f\u3067\u7bb8\u3092\u53d6\u308b\n    p1 = Philosopher(\"Philosopher #1\", chopstick_a, chopstick_b)\n    p2 = Philosopher(\"Philosopher #2\", chopstick_a, chopstick_b)\n</code></pre>"},{"location":"python/part-5/#2","title":"\u89e3\u6c7a\u7b562: \u4ef2\u88c1\u8005\u30d1\u30bf\u30fc\u30f3","text":"<pre><code>class Waiter:\n    \"\"\"\u4ef2\u88c1\u8005\"\"\"\n    def __init__(self):\n        self.mutex = Lock()\n\n    def ask_for_chopsticks(self, left, right):\n        with self.mutex:\n            left.acquire()\n            right.acquire()\n\n    def release_chopsticks(self, left, right):\n        right.release()\n        left.release()\n</code></pre>"},{"location":"python/part-5/#_7","title":"\u30e9\u30a4\u30d6\u30ed\u30c3\u30af\u3068\u30b9\u30bf\u30d9\u30fc\u30b7\u30e7\u30f3","text":""},{"location":"python/part-5/#_8","title":"\u30e9\u30a4\u30d6\u30ed\u30c3\u30af","text":"<p>\u30b9\u30ec\u30c3\u30c9\u304c\u72b6\u614b\u3092\u5909\u5316\u3055\u305b\u7d9a\u3051\u308b\u304c\u3001\u9032\u884c\u3057\u306a\u3044\u72b6\u614b\u3002</p>"},{"location":"python/part-5/#_9","title":"\u30b9\u30bf\u30d9\u30fc\u30b7\u30e7\u30f3","text":"<p>\u7279\u5b9a\u306e\u30b9\u30ec\u30c3\u30c9\u304c\u9577\u671f\u9593\u30ea\u30bd\u30fc\u30b9\u3092\u53d6\u5f97\u3067\u304d\u306a\u3044\u72b6\u614b\u3002\u516c\u5e73\u306a\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u3067\u89e3\u6c7a\u3057\u307e\u3059\u3002</p>"},{"location":"python/part-5/#_10","title":"\u540c\u671f\u30d7\u30ea\u30df\u30c6\u30a3\u30d6\u306e\u6bd4\u8f03","text":"\u30d7\u30ea\u30df\u30c6\u30a3\u30d6 \u7528\u9014 \u540c\u6642\u30a2\u30af\u30bb\u30b9\u6570 Lock \u6392\u4ed6\u5236\u5fa1 1 RLock \u518d\u5e30\u7684\u30ed\u30c3\u30af 1\uff08\u540c\u4e00\u30b9\u30ec\u30c3\u30c9\u306f\u518d\u53d6\u5f97\u53ef\uff09 Semaphore \u30ea\u30bd\u30fc\u30b9\u6570\u5236\u9650 N Event \u30b9\u30ec\u30c3\u30c9\u9593\u30b7\u30b0\u30ca\u30eb N/A Condition \u6761\u4ef6\u5f85\u6a5f N/A"},{"location":"python/part-5/#_11","title":"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7","text":"<p>Part VI \u3067\u306f\u3001\u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 I/O \u3068\u30a4\u30d9\u30f3\u30c8\u99c6\u52d5\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3092\u5b66\u3073\u307e\u3059\u3002\u30b9\u30ec\u30c3\u30c9\u3092\u4f7f\u308f\u305a\u306b\u4e26\u884c\u51e6\u7406\u3092\u5b9f\u73fe\u3059\u308b\u65b9\u6cd5\u3092\u7406\u89e3\u3057\u307e\u3059\u3002</p>"},{"location":"python/part-5/#_12","title":"\u53c2\u8003\u30b3\u30fc\u30c9","text":"<ul> <li>apps/python/Chapter 8/race_condition/</li> <li>apps/python/Chapter 8/semaphore.py</li> <li>apps/python/Chapter 9/deadlock/</li> </ul>"},{"location":"python/part-6/","title":"Part VI: \u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 I/O","text":""},{"location":"python/part-6/#_1","title":"\u6982\u8981","text":"<p>\u672c\u7ae0\u3067\u306f\u3001\u30b9\u30ec\u30c3\u30c9\u3092\u4f7f\u308f\u305a\u306b\u4e26\u884c\u51e6\u7406\u3092\u5b9f\u73fe\u3059\u308b\u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 I/O \u3068\u30a4\u30d9\u30f3\u30c8\u99c6\u52d5\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3092\u5b66\u3073\u307e\u3059\u3002\u30a4\u30d9\u30f3\u30c8\u30eb\u30fc\u30d7\u3068 Reactor \u30d1\u30bf\u30fc\u30f3\u306e\u5b9f\u88c5\u3092\u901a\u3058\u3066\u7406\u89e3\u3092\u6df1\u3081\u307e\u3059\u3002</p>"},{"location":"python/part-6/#10-vs","title":"\u7b2c10\u7ae0: \u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 vs \u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0","text":""},{"location":"python/part-6/#io","title":"\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 I/O \u306e\u554f\u984c","text":"<p>\u5f93\u6765\u306e\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 I/O \u3067\u306f\u3001I/O \u64cd\u4f5c\u304c\u5b8c\u4e86\u3059\u308b\u307e\u3067\u30b9\u30ec\u30c3\u30c9\u304c\u30d6\u30ed\u30c3\u30af\u3055\u308c\u307e\u3059\u3002</p> <pre><code># \u30d6\u30ed\u30c3\u30ad\u30f3\u30b0: \u30c7\u30fc\u30bf\u304c\u5c4a\u304f\u307e\u3067\u5f85\u6a5f\ndata = socket.recv(1024)  # \u2190 \u3053\u3053\u3067\u30d6\u30ed\u30c3\u30af\nprocess(data)\n</code></pre>"},{"location":"python/part-6/#_2","title":"\u30b9\u30ec\u30c3\u30c9\u30fb\u30d1\u30fc\u30fb\u30b3\u30cd\u30af\u30b7\u30e7\u30f3","text":"<p>\u554f\u984c\u70b9: - \u30b9\u30ec\u30c3\u30c9\u4f5c\u6210\u306e\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9 - \u30e1\u30e2\u30ea\u6d88\u8cbb\uff08\u30b9\u30ec\u30c3\u30c9\u3042\u305f\u308a\u7d041MB\uff09 - \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30b9\u30a4\u30c3\u30c1\u306e\u30b3\u30b9\u30c8</p>"},{"location":"python/part-6/#io_1","title":"\u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 I/O","text":"<p>I/O \u64cd\u4f5c\u304c\u5373\u5ea7\u306b\u8fd4\u308a\u3001\u30c7\u30fc\u30bf\u304c\u6e96\u5099\u3067\u304d\u3066\u3044\u306a\u3051\u308c\u3070\u5f8c\u3067\u518d\u8a66\u884c\u3057\u307e\u3059\u3002</p> <pre><code>socket.setblocking(False)\ntry:\n    data = socket.recv(1024)  # \u5373\u5ea7\u306b\u8fd4\u308b\nexcept BlockingIOError:\n    # \u30c7\u30fc\u30bf\u304c\u307e\u3060\u306a\u3044\n    pass\n</code></pre>"},{"location":"python/part-6/#11-reactor","title":"\u7b2c11\u7ae0: \u30a4\u30d9\u30f3\u30c8\u30eb\u30fc\u30d7\u3068 Reactor \u30d1\u30bf\u30fc\u30f3","text":""},{"location":"python/part-6/#_3","title":"\u30a4\u30d9\u30f3\u30c8\u30eb\u30fc\u30d7","text":"<p>\u30a4\u30d9\u30f3\u30c8\u306e\u767a\u751f\u3092\u76e3\u8996\u3057\u3001\u5bfe\u5fdc\u3059\u308b\u30cf\u30f3\u30c9\u30e9\u3092\u5b9f\u884c\u3059\u308b\u30eb\u30fc\u30d7\u3067\u3059\u3002</p> <pre><code>#!/usr/bin/env python3\n\n\"\"\"\u30b7\u30f3\u30d7\u30eb\u306a\u30a4\u30d9\u30f3\u30c8\u30eb\u30fc\u30d7\u5b9f\u88c5\"\"\"\n\nfrom __future__ import annotations\nfrom collections import deque\nfrom time import sleep\nimport typing as T\n\n\nclass Event:\n    \"\"\"\u30a4\u30d9\u30f3\u30c8\u30eb\u30fc\u30d7\u3067\u5b9f\u884c\u53ef\u80fd\u306a\u30a4\u30d9\u30f3\u30c8\"\"\"\n\n    def __init__(self, name: str, action: T.Callable,\n                 next_event: T.Optional[Event] = None) -&gt; None:\n        self.name = name\n        self._action = action\n        self._next_event = next_event\n\n    def execute_action(self) -&gt; None:\n        \"\"\"\u30a4\u30d9\u30f3\u30c8\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\"\"\"\n        self._action(self)\n        if self._next_event:\n            event_loop.register_event(self._next_event)\n\n\nclass EventLoop:\n    \"\"\"\u30a4\u30d9\u30f3\u30c8\u3092\u7ba1\u7406\u3057\u5b9f\u884c\u3059\u308b\u30eb\u30fc\u30d7\"\"\"\n\n    def __init__(self) -&gt; None:\n        self._events: deque[Event] = deque()\n\n    def register_event(self, event: Event) -&gt; None:\n        \"\"\"\u30a4\u30d9\u30f3\u30c8\u3092\u767b\u9332\"\"\"\n        self._events.append(event)\n\n    def run_forever(self) -&gt; None:\n        \"\"\"\u30a4\u30d9\u30f3\u30c8\u3092\u6c38\u7d9a\u7684\u306b\u51e6\u7406\"\"\"\n        print(f\"Queue running with {len(self._events)} events\")\n        while True:\n            try:\n                event = self._events.popleft()\n            except IndexError:\n                continue\n            event.execute_action()\n\n\ndef knock(event: Event) -&gt; None:\n    print(event.name)\n    sleep(1)\n\n\ndef who(event: Event) -&gt; None:\n    print(event.name)\n    sleep(1)\n\n\nif __name__ == \"__main__\":\n    event_loop = EventLoop()\n\n    # \u30a4\u30d9\u30f3\u30c8\u30c1\u30a7\u30fc\u30f3: knock \u2192 who\n    replying = Event(\"Who's there?\", who)\n    knocking = Event(\"Knock-knock\", knock, replying)\n\n    for _ in range(2):\n        event_loop.register_event(knocking)\n\n    event_loop.run_forever()\n</code></pre>"},{"location":"python/part-6/#_4","title":"\u5b9f\u884c\u7d50\u679c","text":"<pre><code>Queue running with 2 events\nKnock-knock\nWho's there?\nKnock-knock\nWho's there?\n...\n</code></pre>"},{"location":"python/part-6/#reactor","title":"Reactor \u30d1\u30bf\u30fc\u30f3","text":"<p>I/O \u30a4\u30d9\u30f3\u30c8\u306e\u591a\u91cd\u5316\u3092\u884c\u3046\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u3067\u3059\u3002</p>"},{"location":"python/part-6/#_5","title":"\u69cb\u6210\u8981\u7d20","text":"\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8 \u5f79\u5272 Reactor \u30a4\u30d9\u30f3\u30c8\u306e\u591a\u91cd\u5316\u3068\u632f\u308a\u5206\u3051 Handler \u7279\u5b9a\u30a4\u30d9\u30f3\u30c8\u306e\u51e6\u7406 Selector I/O \u306e\u6e96\u5099\u72b6\u614b\u3092\u76e3\u8996"},{"location":"python/part-6/#_6","title":"\u30d4\u30b6\u30b5\u30fc\u30d0\u30fc\u306e\u4f8b","text":"<pre><code>#!/usr/bin/env python3\n\n\"\"\"Reactor \u30d1\u30bf\u30fc\u30f3\u306b\u3088\u308b\u30d4\u30b6\u30b5\u30fc\u30d0\u30fc\"\"\"\n\nimport socket\nimport selectors\nfrom collections import deque\nimport typing as T\n\nselector = selectors.DefaultSelector()\norders: T.Deque[socket.socket] = deque()\n\n\ndef accept_order(server_socket: socket.socket) -&gt; None:\n    \"\"\"\u65b0\u898f\u63a5\u7d9a\u3092\u53d7\u3051\u4ed8\u3051\"\"\"\n    client, addr = server_socket.accept()\n    print(f\"Connection from {addr}\")\n    client.setblocking(False)\n    selector.register(client, selectors.EVENT_READ, read_order)\n\n\ndef read_order(client: socket.socket) -&gt; None:\n    \"\"\"\u6ce8\u6587\u3092\u8aad\u307f\u53d6\u308a\"\"\"\n    data = client.recv(1024)\n    if data:\n        print(f\"Order received: {data.decode()}\")\n        orders.append(client)\n        # \u66f8\u304d\u8fbc\u307f\u53ef\u80fd\u306b\u306a\u3063\u305f\u3089\u901a\u77e5\u3092\u53d7\u3051\u308b\n        selector.modify(client, selectors.EVENT_WRITE, send_pizza)\n    else:\n        selector.unregister(client)\n        client.close()\n\n\ndef send_pizza(client: socket.socket) -&gt; None:\n    \"\"\"\u30d4\u30b6\u3092\u9001\u4fe1\"\"\"\n    if orders:\n        orders.popleft()\n        client.send(b\"Here's your pizza!\")\n        selector.unregister(client)\n        client.close()\n\n\ndef run_server(host: str = 'localhost', port: int = 8000) -&gt; None:\n    \"\"\"\u30b5\u30fc\u30d0\u30fc\u3092\u5b9f\u884c\"\"\"\n    server = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n    server.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\n    server.bind((host, port))\n    server.listen()\n    server.setblocking(False)\n\n    selector.register(server, selectors.EVENT_READ, accept_order)\n    print(f\"Pizza server running on {host}:{port}\")\n\n    # \u30a4\u30d9\u30f3\u30c8\u30eb\u30fc\u30d7\n    while True:\n        events = selector.select()  # I/O \u30a4\u30d9\u30f3\u30c8\u3092\u5f85\u6a5f\n        for key, mask in events:\n            callback = key.data\n            callback(key.fileobj)\n\n\nif __name__ == \"__main__\":\n    run_server()\n</code></pre>"},{"location":"python/part-6/#selectors","title":"selectors \u30e2\u30b8\u30e5\u30fc\u30eb","text":"<p><code>selectors</code> \u306f\u3001I/O \u591a\u91cd\u5316\u306e\u9ad8\u30ec\u30d9\u30eb API \u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</p> \u30e1\u30bd\u30c3\u30c9 \u8aac\u660e <code>register(fd, events, data)</code> \u30d5\u30a1\u30a4\u30eb\u8a18\u8ff0\u5b50\u3092\u76e3\u8996\u767b\u9332 <code>unregister(fd)</code> \u76e3\u8996\u3092\u89e3\u9664 <code>select(timeout)</code> \u30a4\u30d9\u30f3\u30c8\u3092\u5f85\u6a5f <code>modify(fd, events, data)</code> \u76e3\u8996\u8a2d\u5b9a\u3092\u5909\u66f4"},{"location":"python/part-6/#_7","title":"\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7","text":"\u30a4\u30d9\u30f3\u30c8 \u8aac\u660e <code>EVENT_READ</code> \u8aad\u307f\u53d6\u308a\u53ef\u80fd <code>EVENT_WRITE</code> \u66f8\u304d\u8fbc\u307f\u53ef\u80fd"},{"location":"python/part-6/#_8","title":"\u30b7\u30f3\u30b0\u30eb\u30b9\u30ec\u30c3\u30c9\u306e\u5229\u70b9","text":"\u5229\u70b9 \u8aac\u660e \u30ed\u30c3\u30af\u4e0d\u8981 \u5171\u6709\u72b6\u614b\u306e\u7af6\u5408\u306a\u3057 \u8efd\u91cf \u30b9\u30ec\u30c3\u30c9\u306e\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u306a\u3057 \u30b9\u30b1\u30fc\u30e9\u30d6\u30eb \u5927\u91cf\u63a5\u7d9a\u3092\u52b9\u7387\u7684\u306b\u51e6\u7406 \u4e88\u6e2c\u53ef\u80fd \u5b9f\u884c\u9806\u5e8f\u304c\u660e\u78ba"},{"location":"python/part-6/#_9","title":"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7","text":"<p>Part VII \u3067\u306f\u3001Python \u306e <code>asyncio</code> \u3092\u4f7f\u3063\u305f\u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3092\u5b66\u3073\u307e\u3059\u3002\u30b3\u30eb\u30fc\u30c1\u30f3\u3001Future\u3001async/await \u306e\u4f7f\u3044\u65b9\u3092\u7406\u89e3\u3057\u307e\u3059\u3002</p>"},{"location":"python/part-6/#_10","title":"\u53c2\u8003\u30b3\u30fc\u30c9","text":"<ul> <li>apps/python/Chapter 10/pizza_server.py</li> <li>apps/python/Chapter 11/event_loop.py</li> <li>apps/python/Chapter 11/pizza_reactor.py</li> </ul>"},{"location":"python/part-7/","title":"Part VII: \u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0","text":""},{"location":"python/part-7/#_1","title":"\u6982\u8981","text":"<p>\u672c\u7ae0\u3067\u306f\u3001Python \u306e <code>asyncio</code> \u3092\u4f7f\u3063\u305f\u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3092\u5b66\u3073\u307e\u3059\u3002\u30b3\u30eb\u30fc\u30c1\u30f3\u3001Future\u3001async/await \u306e\u4ed5\u7d44\u307f\u3092\u7406\u89e3\u3057\u3001\u52b9\u7387\u7684\u306a I/O \u30d0\u30a6\u30f3\u30c9\u51e6\u7406\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002</p>"},{"location":"python/part-7/#12","title":"\u7b2c12\u7ae0: \u30b3\u30eb\u30fc\u30c1\u30f3\u3068\u975e\u540c\u671f","text":""},{"location":"python/part-7/#_2","title":"\u30b3\u30eb\u30fc\u30c1\u30f3\u3068\u306f","text":"<p>\u30b3\u30eb\u30fc\u30c1\u30f3\u306f\u3001\u5b9f\u884c\u3092\u4e2d\u65ad\u30fb\u518d\u958b\u3067\u304d\u308b\u95a2\u6570\u3067\u3059\u3002\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u3092\u30d9\u30fc\u30b9\u306b\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"python/part-7/#_3","title":"\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30b3\u30eb\u30fc\u30c1\u30f3","text":"<pre><code>#!/usr/bin/env python3\n\n\"\"\"\u30b3\u30eb\u30fc\u30c1\u30f3\u306e\u57fa\u672c\u5b9f\u88c5\"\"\"\n\nfrom collections import deque\nimport typing as T\n\nCoroutine = T.Generator[None, None, int]\n\n\nclass EventLoop:\n    def __init__(self) -&gt; None:\n        self.tasks: T.Deque[Coroutine] = deque()\n\n    def add_coroutine(self, task: Coroutine) -&gt; None:\n        \"\"\"\u30bf\u30b9\u30af\u3092\u30ad\u30e5\u30fc\u306b\u8ffd\u52a0\"\"\"\n        self.tasks.append(task)\n\n    def run_coroutine(self, task: Coroutine) -&gt; None:\n        \"\"\"\u30bf\u30b9\u30af\u30921\u30b9\u30c6\u30c3\u30d7\u5b9f\u884c\"\"\"\n        try:\n            task.send(None)  # \u6b21\u306e yield \u307e\u3067\u5b9f\u884c\n            self.add_coroutine(task)  # \u672a\u5b8c\u4e86\u306a\u3089\u518d\u767b\u9332\n        except StopIteration:\n            print(\"Task completed\")\n\n    def run_forever(self) -&gt; None:\n        \"\"\"\u30bf\u30b9\u30af\u304c\u306a\u304f\u306a\u308b\u307e\u3067\u5b9f\u884c\"\"\"\n        while self.tasks:\n            print(\"Event loop cycle.\")\n            self.run_coroutine(self.tasks.popleft())\n\n\ndef fibonacci(n: int) -&gt; Coroutine:\n    \"\"\"\u30d5\u30a3\u30dc\u30ca\u30c3\u30c1\u6570\u5217\u3092\u30b3\u30eb\u30fc\u30c1\u30f3\u3067\u751f\u6210\"\"\"\n    a, b = 0, 1\n    for i in range(n):\n        a, b = b, a + b\n        print(f\"Fibonacci({i}): {a}\")\n        yield  # \u5236\u5fa1\u3092\u30a4\u30d9\u30f3\u30c8\u30eb\u30fc\u30d7\u306b\u8fd4\u3059\n    return a\n\n\nif __name__ == \"__main__\":\n    event_loop = EventLoop()\n    event_loop.add_coroutine(fibonacci(5))\n    event_loop.run_forever()\n</code></pre>"},{"location":"python/part-7/#_4","title":"\u5b9f\u884c\u7d50\u679c","text":"<pre><code>Event loop cycle.\nFibonacci(0): 1\nEvent loop cycle.\nFibonacci(1): 1\nEvent loop cycle.\nFibonacci(2): 2\nEvent loop cycle.\nFibonacci(3): 3\nEvent loop cycle.\nFibonacci(4): 5\nTask completed\n</code></pre>"},{"location":"python/part-7/#asyncawait","title":"async/await \u69cb\u6587","text":"<p>Python 3.5 \u4ee5\u964d\u3067\u306f\u3001<code>async/await</code> \u69cb\u6587\u3067\u8aad\u307f\u3084\u3059\u304f\u30b3\u30eb\u30fc\u30c1\u30f3\u3092\u8a18\u8ff0\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"python/part-7/#_5","title":"\u57fa\u672c\u69cb\u6587","text":"<pre><code>import asyncio\n\n\nasync def fetch_data(url: str) -&gt; str:\n    \"\"\"\u975e\u540c\u671f\u3067\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\"\"\"\n    print(f\"Fetching {url}...\")\n    await asyncio.sleep(1)  # I/O \u5f85\u3061\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\n    return f\"Data from {url}\"\n\n\nasync def main():\n    # \u9010\u6b21\u5b9f\u884c\n    result1 = await fetch_data(\"url1\")\n    result2 = await fetch_data(\"url2\")\n    print(result1, result2)\n\n\nasyncio.run(main())\n</code></pre>"},{"location":"python/part-7/#_6","title":"\u4e26\u884c\u5b9f\u884c","text":"<pre><code>async def main():\n    # \u4e26\u884c\u5b9f\u884c\uff08gather \u3092\u4f7f\u7528\uff09\n    results = await asyncio.gather(\n        fetch_data(\"url1\"),\n        fetch_data(\"url2\"),\n        fetch_data(\"url3\"),\n    )\n    print(results)\n\n\nasyncio.run(main())\n</code></pre>"},{"location":"python/part-7/#future","title":"Future","text":"<p>Future \u306f\u3001\u307e\u3060\u5b8c\u4e86\u3057\u3066\u3044\u306a\u3044\u975e\u540c\u671f\u64cd\u4f5c\u306e\u7d50\u679c\u3092\u8868\u3059\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u3059\u3002</p>"},{"location":"python/part-7/#future_1","title":"Future \u306e\u72b6\u614b","text":""},{"location":"python/part-7/#future_2","title":"Future \u306e\u4f7f\u7528\u4f8b","text":"<pre><code>import asyncio\n\n\nasync def slow_operation() -&gt; str:\n    await asyncio.sleep(2)\n    return \"Operation completed\"\n\n\nasync def main():\n    # \u30bf\u30b9\u30af\u3092\u4f5c\u6210\uff08Future\u3092\u8fd4\u3059\uff09\n    task = asyncio.create_task(slow_operation())\n\n    print(f\"Task done: {task.done()}\")  # False\n\n    result = await task\n\n    print(f\"Task done: {task.done()}\")  # True\n    print(f\"Result: {result}\")\n\n\nasyncio.run(main())\n</code></pre>"},{"location":"python/part-7/#_7","title":"\u975e\u540c\u671f\u30d4\u30b6\u30b5\u30fc\u30d0\u30fc","text":"<pre><code>#!/usr/bin/env python3\n\n\"\"\"asyncio \u3092\u4f7f\u3063\u305f\u975e\u540c\u671f\u30d4\u30b6\u30b5\u30fc\u30d0\u30fc\"\"\"\n\nimport asyncio\n\n\nasync def handle_client(reader: asyncio.StreamReader,\n                        writer: asyncio.StreamWriter) -&gt; None:\n    \"\"\"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u51e6\u7406\"\"\"\n    addr = writer.get_extra_info('peername')\n    print(f\"Connection from {addr}\")\n\n    # \u6ce8\u6587\u3092\u8aad\u307f\u53d6\u308a\n    data = await reader.read(1024)\n    order = data.decode()\n    print(f\"Order received: {order}\")\n\n    # \u30d4\u30b6\u3092\u4f5c\u308b\uff08\u975e\u540c\u671f\u3067\u5f85\u6a5f\uff09\n    await asyncio.sleep(2)\n\n    # \u30d4\u30b6\u3092\u9001\u4fe1\n    writer.write(b\"Here's your pizza!\")\n    await writer.drain()\n\n    writer.close()\n    await writer.wait_closed()\n\n\nasync def run_server(host: str = 'localhost', port: int = 8000) -&gt; None:\n    \"\"\"\u30b5\u30fc\u30d0\u30fc\u3092\u8d77\u52d5\"\"\"\n    server = await asyncio.start_server(\n        handle_client, host, port)\n\n    addr = server.sockets[0].getsockname()\n    print(f\"Pizza server running on {addr}\")\n\n    async with server:\n        await server.serve_forever()\n\n\nif __name__ == \"__main__\":\n    asyncio.run(run_server())\n</code></pre>"},{"location":"python/part-7/#asyncio-api","title":"asyncio \u306e\u4e3b\u8981 API","text":""},{"location":"python/part-7/#_8","title":"\u30bf\u30b9\u30af\u7ba1\u7406","text":"API \u8aac\u660e <code>asyncio.run(coro)</code> \u30a4\u30d9\u30f3\u30c8\u30eb\u30fc\u30d7\u3092\u4f5c\u6210\u3057\u3066\u5b9f\u884c <code>asyncio.create_task(coro)</code> \u30bf\u30b9\u30af\u3092\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb <code>asyncio.gather(*coros)</code> \u8907\u6570\u306e\u30b3\u30eb\u30fc\u30c1\u30f3\u3092\u4e26\u884c\u5b9f\u884c <code>asyncio.wait(tasks)</code> \u30bf\u30b9\u30af\u5b8c\u4e86\u3092\u5f85\u6a5f"},{"location":"python/part-7/#_9","title":"\u540c\u671f\u30d7\u30ea\u30df\u30c6\u30a3\u30d6","text":"API \u8aac\u660e <code>asyncio.Lock()</code> \u975e\u540c\u671f\u30ed\u30c3\u30af <code>asyncio.Semaphore(n)</code> \u975e\u540c\u671f\u30bb\u30de\u30d5\u30a9 <code>asyncio.Event()</code> \u975e\u540c\u671f\u30a4\u30d9\u30f3\u30c8 <code>asyncio.Queue()</code> \u975e\u540c\u671f\u30ad\u30e5\u30fc"},{"location":"python/part-7/#io","title":"I/O","text":"API \u8aac\u660e <code>asyncio.sleep(delay)</code> \u975e\u540c\u671f\u30b9\u30ea\u30fc\u30d7 <code>asyncio.open_connection()</code> TCP \u63a5\u7d9a\u3092\u958b\u304f <code>asyncio.start_server()</code> TCP \u30b5\u30fc\u30d0\u30fc\u3092\u958b\u59cb"},{"location":"python/part-7/#_10","title":"\u4f7f\u3044\u5206\u3051\u306e\u6307\u91dd","text":"\u30b7\u30ca\u30ea\u30aa \u63a8\u5968 I/O \u30d0\u30a6\u30f3\u30c9\uff08\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3001\u30d5\u30a1\u30a4\u30eb\uff09 asyncio CPU \u30d0\u30a6\u30f3\u30c9 multiprocessing \u6df7\u5408 asyncio + ProcessPoolExecutor"},{"location":"python/part-7/#_11","title":"\u6df7\u5408\u306e\u4f8b","text":"<pre><code>import asyncio\nfrom concurrent.futures import ProcessPoolExecutor\n\n\ndef cpu_bound_task(n: int) -&gt; int:\n    \"\"\"CPU \u3092\u4f7f\u3046\u51e6\u7406\"\"\"\n    return sum(i * i for i in range(n))\n\n\nasync def main():\n    loop = asyncio.get_event_loop()\n\n    with ProcessPoolExecutor() as pool:\n        # CPU \u30d0\u30a6\u30f3\u30c9\u30bf\u30b9\u30af\u3092\u30d7\u30ed\u30bb\u30b9\u30d7\u30fc\u30eb\u3067\u5b9f\u884c\n        result = await loop.run_in_executor(\n            pool, cpu_bound_task, 10000000)\n        print(f\"Result: {result}\")\n\n\nasyncio.run(main())\n</code></pre>"},{"location":"python/part-7/#_12","title":"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7","text":"<p>Part VIII \u3067\u306f\u3001MapReduce \u30d1\u30bf\u30fc\u30f3\u3068\u5206\u6563\u4e26\u5217\u51e6\u7406\u3092\u5b66\u3073\u307e\u3059\u3002\u5927\u898f\u6a21\u30c7\u30fc\u30bf\u3092\u8907\u6570\u306e\u30ef\u30fc\u30ab\u30fc\u3067\u4e26\u5217\u51e6\u7406\u3059\u308b\u624b\u6cd5\u3092\u7406\u89e3\u3057\u307e\u3059\u3002</p>"},{"location":"python/part-7/#_13","title":"\u53c2\u8003\u30b3\u30fc\u30c9","text":"<ul> <li>apps/python/Chapter 12/coroutine.py</li> <li>apps/python/Chapter 12/future_burger.py</li> <li>apps/python/Chapter 12/asynchronous_pizza/</li> </ul>"},{"location":"python/part-8/","title":"Part VIII: \u5206\u6563\u4e26\u5217\u51e6\u7406","text":""},{"location":"python/part-8/#_1","title":"\u6982\u8981","text":"<p>\u672c\u7ae0\u3067\u306f\u3001MapReduce \u30d1\u30bf\u30fc\u30f3\u3092\u4f7f\u3063\u305f\u5206\u6563\u4e26\u5217\u51e6\u7406\u3092\u5b66\u3073\u307e\u3059\u3002\u884c\u5217\u4e57\u7b97\u3068\u30ef\u30fc\u30c9\u30ab\u30a6\u30f3\u30c8\u306e\u5b9f\u88c5\u3092\u901a\u3058\u3066\u3001\u5927\u898f\u6a21\u30c7\u30fc\u30bf\u306e\u4e26\u5217\u51e6\u7406\u624b\u6cd5\u3092\u7406\u89e3\u3057\u307e\u3059\u3002</p>"},{"location":"python/part-8/#13-mapreduce","title":"\u7b2c13\u7ae0: MapReduce \u30d1\u30bf\u30fc\u30f3","text":""},{"location":"python/part-8/#mapreduce","title":"MapReduce \u3068\u306f","text":"<p>MapReduce \u306f\u3001\u5927\u898f\u6a21\u30c7\u30fc\u30bf\u3092\u4e26\u5217\u51e6\u7406\u3059\u308b\u305f\u3081\u306e\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u30e2\u30c7\u30eb\u3067\u3059\u3002</p>"},{"location":"python/part-8/#_2","title":"\u51e6\u7406\u30d5\u30ed\u30fc","text":""},{"location":"python/part-8/#_3","title":"\u884c\u5217\u4e57\u7b97\u306e\u4e26\u5217\u5316","text":""},{"location":"python/part-8/#_4","title":"\u9010\u6b21\u51e6\u7406\u7248","text":"<pre><code>#!/usr/bin/env python3\n\n\"\"\"\u884c\u5217\u4e57\u7b97\uff08\u9010\u6b21\u51e6\u7406\u7248\uff09\"\"\"\n\nfrom typing import List\n\nRow = List[int]\nMatrix = List[Row]\n\n\ndef matrix_multiply(matrix_a: Matrix, matrix_b: Matrix) -&gt; Matrix:\n    \"\"\"2\u3064\u306e\u884c\u5217\u3092\u4e57\u7b97\"\"\"\n    num_rows_a = len(matrix_a)\n    num_cols_a = len(matrix_a[0])\n    num_cols_b = len(matrix_b[0])\n\n    result = [[0] * num_cols_b for _ in range(num_rows_a)]\n\n    for i in range(num_rows_a):\n        for j in range(num_cols_b):\n            for k in range(num_cols_a):\n                result[i][j] += matrix_a[i][k] * matrix_b[k][j]\n\n    return result\n</code></pre>"},{"location":"python/part-8/#_5","title":"\u4e26\u5217\u51e6\u7406\u7248","text":"<pre><code>#!/usr/bin/env python3\n\n\"\"\"\u884c\u5217\u4e57\u7b97\uff08\u4e26\u5217\u51e6\u7406\u7248\uff09\"\"\"\n\nfrom typing import List, Tuple\nimport random\nfrom multiprocessing import Pool\n\nRow = List[int]\nColumn = List[int]\nMatrix = List[Row]\n\n\ndef process_row(args: Tuple[Matrix, Matrix, int]) -&gt; Column:\n    \"\"\"1\u884c\u5206\u306e\u8a08\u7b97\u3092\u5b9f\u884c\"\"\"\n    matrix_a, matrix_b, row_idx = args\n    num_cols_a = len(matrix_a[0])\n    num_cols_b = len(matrix_b[0])\n\n    result_row = [0] * num_cols_b\n    for j in range(num_cols_b):\n        for k in range(num_cols_a):\n            result_row[j] += matrix_a[row_idx][k] * matrix_b[k][j]\n    return result_row\n\n\ndef matrix_multiply_parallel(matrix_a: Matrix, matrix_b: Matrix) -&gt; Matrix:\n    \"\"\"\u884c\u5217\u3092\u4e26\u5217\u3067\u4e57\u7b97\"\"\"\n    num_rows_a = len(matrix_a)\n    num_cols_a = len(matrix_a[0])\n    num_rows_b = len(matrix_b)\n\n    if num_cols_a != num_rows_b:\n        raise ArithmeticError(\n            f\"Invalid dimensions: {num_rows_a}x{num_cols_a} * \"\n            f\"{num_rows_b}x{len(matrix_b[0])}\")\n\n    # \u5404\u884c\u306e\u8a08\u7b97\u3092\u4e26\u5217\u5b9f\u884c\n    with Pool() as pool:\n        args = [(matrix_a, matrix_b, i) for i in range(num_rows_a)]\n        results = pool.map(process_row, args)\n\n    return results\n\n\nif __name__ == \"__main__\":\n    rows, cols = 100, 100\n    A = [[random.randint(0, 10) for _ in range(cols)]\n         for _ in range(rows)]\n    B = [[random.randint(0, 10) for _ in range(rows)]\n         for _ in range(cols)]\n\n    C = matrix_multiply_parallel(A, B)\n    print(f\"Result matrix shape: {len(C)}x{len(C[0])}\")\n</code></pre>"},{"location":"python/part-8/#_6","title":"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6bd4\u8f03","text":"<pre><code>import time\nfrom multiprocessing import Pool\n\n\ndef time_sequential(A, B):\n    start = time.perf_counter()\n    matrix_multiply(A, B)\n    return time.perf_counter() - start\n\n\ndef time_parallel(A, B):\n    start = time.perf_counter()\n    matrix_multiply_parallel(A, B)\n    return time.perf_counter() - start\n\n\n# 500x500 \u884c\u5217\u306e\u5834\u5408\n# Sequential: ~15\u79d2\n# Parallel (4 cores): ~5\u79d2\n</code></pre>"},{"location":"python/part-8/#_7","title":"\u30ef\u30fc\u30c9\u30ab\u30a6\u30f3\u30c8","text":""},{"location":"python/part-8/#mapreduce_1","title":"MapReduce \u306b\u3088\u308b\u30ef\u30fc\u30c9\u30ab\u30a6\u30f3\u30c8","text":"<pre><code>#!/usr/bin/env python3\n\n\"\"\"MapReduce \u306b\u3088\u308b\u30ef\u30fc\u30c9\u30ab\u30a6\u30f3\u30c8\"\"\"\n\nfrom collections import defaultdict\nfrom multiprocessing import Pool\nimport typing as T\n\n\ndef map_function(text: str) -&gt; T.List[T.Tuple[str, int]]:\n    \"\"\"Map: \u30c6\u30ad\u30b9\u30c8\u3092 (word, 1) \u306e\u30da\u30a2\u306b\u5909\u63db\"\"\"\n    words = text.lower().split()\n    return [(word, 1) for word in words]\n\n\ndef reduce_function(word_counts: T.List[T.Tuple[str, int]]) -&gt; T.Dict[str, int]:\n    \"\"\"Reduce: \u540c\u3058\u5358\u8a9e\u306e\u30ab\u30a6\u30f3\u30c8\u3092\u96c6\u7d04\"\"\"\n    result = defaultdict(int)\n    for word, count in word_counts:\n        result[word] += count\n    return dict(result)\n\n\ndef word_count_mapreduce(texts: T.List[str]) -&gt; T.Dict[str, int]:\n    \"\"\"MapReduce \u3067\u30ef\u30fc\u30c9\u30ab\u30a6\u30f3\u30c8\"\"\"\n\n    # Map \u30d5\u30a7\u30fc\u30ba\uff08\u4e26\u5217\uff09\n    with Pool() as pool:\n        mapped = pool.map(map_function, texts)\n\n    # Shuffle: \u5168\u3066\u306e\u7d50\u679c\u3092\u30d5\u30e9\u30c3\u30c8\u5316\n    shuffled = [pair for sublist in mapped for pair in sublist]\n\n    # Reduce \u30d5\u30a7\u30fc\u30ba\n    result = reduce_function(shuffled)\n\n    return result\n\n\nif __name__ == \"__main__\":\n    texts = [\n        \"Hello world hello\",\n        \"World of programming\",\n        \"Hello programming world\",\n    ]\n\n    counts = word_count_mapreduce(texts)\n    for word, count in sorted(counts.items(), key=lambda x: -x[1]):\n        print(f\"{word}: {count}\")\n</code></pre>"},{"location":"python/part-8/#_8","title":"\u5b9f\u884c\u7d50\u679c","text":"<pre><code>world: 3\nhello: 3\nprogramming: 2\nof: 1\n</code></pre>"},{"location":"python/part-8/#_9","title":"\u5206\u6563\u51e6\u7406\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3","text":""},{"location":"python/part-8/#_10","title":"\u30de\u30b9\u30bf\u30fc\u30fb\u30ef\u30fc\u30ab\u30fc\u69cb\u6210","text":""},{"location":"python/part-8/#_11","title":"\u30ef\u30fc\u30ab\u30fc\u306e\u5b9f\u88c5\u4f8b","text":"<pre><code>#!/usr/bin/env python3\n\n\"\"\"\u5206\u6563\u30ef\u30fc\u30c9\u30ab\u30a6\u30f3\u30c8\u306e\u30ef\u30fc\u30ab\u30fc\"\"\"\n\nimport socket\nimport pickle\nfrom collections import defaultdict\n\n\ndef count_words(text: str) -&gt; dict:\n    \"\"\"\u30c6\u30ad\u30b9\u30c8\u5185\u306e\u5358\u8a9e\u3092\u30ab\u30a6\u30f3\u30c8\"\"\"\n    counts = defaultdict(int)\n    for word in text.lower().split():\n        counts[word] += 1\n    return dict(counts)\n\n\ndef worker(host: str = 'localhost', port: int = 9000) -&gt; None:\n    \"\"\"\u30ef\u30fc\u30ab\u30fc\u30d7\u30ed\u30bb\u30b9\"\"\"\n    with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:\n        s.connect((host, port))\n        print(\"Connected to master\")\n\n        while True:\n            # \u30bf\u30b9\u30af\u3092\u53d7\u4fe1\n            data = s.recv(4096)\n            if not data:\n                break\n\n            text = pickle.loads(data)\n            print(f\"Processing: {text[:50]}...\")\n\n            # \u51e6\u7406\u3092\u5b9f\u884c\n            result = count_words(text)\n\n            # \u7d50\u679c\u3092\u9001\u4fe1\n            s.send(pickle.dumps(result))\n\n\nif __name__ == \"__main__\":\n    worker()\n</code></pre>"},{"location":"python/part-8/#_12","title":"\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u306e\u8003\u616e\u4e8b\u9805","text":""},{"location":"python/part-8/#_13","title":"\u6c34\u5e73\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0","text":"\u8981\u7d20 \u8aac\u660e \u30c7\u30fc\u30bf\u5206\u5272 \u30c7\u30fc\u30bf\u3092\u5747\u7b49\u306b\u5206\u914d \u8ca0\u8377\u5206\u6563 \u30ef\u30fc\u30ab\u30fc\u9593\u3067\u4f5c\u696d\u91cf\u3092\u5747\u7b49\u5316 \u8010\u969c\u5bb3\u6027 \u30ef\u30fc\u30ab\u30fc\u969c\u5bb3\u6642\u306e\u30ea\u30ab\u30d0\u30ea \u901a\u4fe1\u30b3\u30b9\u30c8 \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9"},{"location":"python/part-8/#amdahl","title":"Amdahl \u306e\u6cd5\u5247","text":"<p>\u4e26\u5217\u5316\u306b\u3088\u308b\u9ad8\u901f\u5316\u306e\u9650\u754c\u3092\u793a\u3059\u6cd5\u5247:</p> <pre><code>Speedup = 1 / (S + P/N)\n\nS: \u9010\u6b21\u90e8\u5206\u306e\u5272\u5408\nP: \u4e26\u5217\u90e8\u5206\u306e\u5272\u5408 (P = 1 - S)\nN: \u30d7\u30ed\u30bb\u30c3\u30b5\u6570\n</code></pre>"},{"location":"python/part-8/#_14","title":"\u307e\u3068\u3081","text":"<p>\u672c\u30b7\u30ea\u30fc\u30ba\u3067\u5b66\u3093\u3060\u5185\u5bb9:</p> Part \u30c8\u30d4\u30c3\u30af \u30ad\u30fc\u30dd\u30a4\u30f3\u30c8 I \u9010\u6b21\u51e6\u7406 \u57fa\u672c\u6982\u5ff5\u3001\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6e2c\u5b9a II \u30d7\u30ed\u30bb\u30b9/\u30b9\u30ec\u30c3\u30c9 GIL\u3001\u30b9\u30ec\u30c3\u30c9\u30d7\u30fc\u30eb III \u30de\u30eb\u30c1\u30bf\u30b9\u30ad\u30f3\u30b0 \u30bf\u30a4\u30e0\u30b7\u30a7\u30a2\u30ea\u30f3\u30b0 IV \u4e26\u5217\u30d1\u30bf\u30fc\u30f3 Fork/Join\u3001\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3 V \u540c\u671f Lock\u3001Semaphore\u3001\u30c7\u30c3\u30c9\u30ed\u30c3\u30af VI \u30ce\u30f3\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0 I/O \u30a4\u30d9\u30f3\u30c8\u30eb\u30fc\u30d7\u3001Reactor VII \u975e\u540c\u671f asyncio\u3001\u30b3\u30eb\u30fc\u30c1\u30f3 VIII \u5206\u6563\u51e6\u7406 MapReduce"},{"location":"python/part-8/#_15","title":"\u53c2\u8003\u30b3\u30fc\u30c9","text":"<ul> <li>apps/python/Chapter 13/matmul/</li> <li>apps/python/Chapter 13/wordcount/</li> </ul>"},{"location":"python/part-8/#_16","title":"\u53c2\u8003\u8cc7\u6599","text":"<ul> <li>Grokking Concurrency - \u539f\u8457</li> <li>Python \u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 - concurrent.futures</li> <li>Python \u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 - asyncio</li> <li>MapReduce: Simplified Data Processing on Large Clusters - Google \u8ad6\u6587</li> </ul>"}]}