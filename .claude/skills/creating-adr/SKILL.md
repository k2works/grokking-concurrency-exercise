---
name: creating-adr
description: Architecture Decision Record の作成を支援。技術的意思決定の記録フォーマットとベストプラクティス。アーキテクチャ上の意思決定を記録する際に使用。
---

# ADR (Architecture Decision Record) 作成支援

アーキテクチャ決定記録（ADR）の作成・管理を支援します。

## Instructions

### 1. ADR ファイル構造

ADR は `docs/adr/` ディレクトリに以下の命名規則で保存：

```
docs/adr/
├── 001-backend-architecture-pattern.md
├── 002-backend-framework.md
├── 003-frontend-framework.md
└── 004-database.md
```

### 2. ADR テンプレート

```markdown
# ADR-NNN: タイトル

簡潔な説明（1行で決定内容を要約）。

日付: YYYY-MM-DD

## ステータス

提案中 | 承認済み | 廃止 | 置換（ADR-XXX で置換）

## コンテキスト

この決定が必要になった背景・状況を説明。

- 現在の課題や制約
- 関連するシステムやサービス
- ビジネス要件

## 決定

**何を決定したか** を明確に記述。

### 変更箇所

具体的な実装変更がある場合は記載。

### 代替案

検討した代替案とその却下理由。

## 影響

### ポジティブ

- 良い影響

### ネガティブ

- 悪い影響や注意点

## コンプライアンス

決定が正しく実装されていることを確認する方法。

## 備考

- 著者: 担当者名
- 関連コミット: コミットハッシュ
- 関連 ADR: ADR-XXX
```

### 3. ステータスの種類

| ステータス | 説明 |
|-----------|------|
| 提案中 | レビュー待ちの ADR |
| 承認済み | 採用された決定 |
| 廃止 | 無効になった決定 |
| 置換 | 別の ADR で置き換えられた |

### 4. 注意事項

- **採番規則**: ADR 番号は 001 から連番で管理。既存の最大番号 + 1 で採番
- **ファイル名**: `NNN-kebab-case-title.md` 形式（例: `006-cache-strategy.md`）
- **配置場所**: 必ず `docs/adr/` ディレクトリに配置
- **ドキュメント更新**: 新規 ADR 作成時は `docs/index.md` と `mkdocs.yml` も更新が必要
- **コミット禁止**: ユーザーの指示があるまでコミットしない

### 5. ベストプラクティス

1. **簡潔な要約**: タイトル直下に 1 行で決定内容を要約する
2. **コンテキストの明確化**: なぜこの決定が必要なのか背景を説明
3. **代替案の記録**: 検討した選択肢と却下理由を残す
4. **影響の両面記載**: ポジティブ・ネガティブ両方の影響を記載
5. **コンプライアンス項目**: 決定が守られていることを確認する方法を記載

## Examples

### 新しい ADR の作成

1. `docs/adr/` ディレクトリ内の既存 ADR の最大番号を確認
2. 次の連番でテンプレートに基づいて ADR を作成
3. `docs/index.md` と `mkdocs.yml` を更新

### 既存設計からの ADR 抽出

1. アーキテクチャ設計ドキュメントを読み込む
2. 主要な技術的意思決定を識別
3. 各決定を ADR として記録
